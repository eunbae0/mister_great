/*! For license information please see main.23911548.js.LICENSE.txt */
!function(){"use strict";var e={470:function(e,t,n){var r=n(390),i=n(124);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),_=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),I=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,U=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function F(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function z(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case I:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return U({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function J(e,t){X(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return U({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,xe=null,Se=null;function Ee(e){if(e=ki(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),_e(e.stateNode,e.type,t))}}function Te(e){xe?Se?Se.push(e):Se=[e]:xe=e}function Ie(){if(xe){var e=xe,t=Se;if(Se=xe=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Re(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==xe||null!==Se)&&(Ne(),Ie())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(c)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ce){De=!1}function Pe(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,Ue=null,Ve=!1,je=null,Fe={onError:function(e){Me=!0,Ue=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Ue=null,Pe.apply(Fe,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return He(i),e;if(o===r)return He(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,_t,xt,St,Et,Tt=!1,It=[],Ct=null,Nt=null,At=null,Rt=new Map,Lt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&_t(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ut(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Et(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Vt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&_t(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Vt(e)&&n.delete(t)}function Ft(){Tt=!1,null!==Ct&&Vt(Ct)&&(Ct=null),null!==Nt&&Vt(Nt)&&(Nt=null),null!==At&&Vt(At)&&(At=null),Rt.forEach(jt),Lt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ft)))}function Bt(e){function t(t){return zt(t,e)}if(0<It.length){zt(It[0],e);for(var n=1;n<It.length;n++){var r=It[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ut(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Ht=!0;function Wt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Gt(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){if(Ht){var i=$t(e,t,n,r);if(null===i)Hr(e,t,r,Qt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Lt.set(a,Mt(Lt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&wt(a),null===(a=$t(e,t,n,r))&&Hr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return U(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=an(ln),fn=U({},ln,{view:0,detail:0}),hn=an(fn),dn=U({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(U({},dn,{dataTransfer:0})),yn=an(U({},fn,{relatedTarget:0})),mn=an(U({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=U({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),bn=an(U({},ln,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return Sn}var Tn=U({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?_n[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),In=an(Tn),Cn=an(U({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(U({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),An=an(U({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=U({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=an(Rn),Dn=[9,13,27,32],On=c&&"CompositionEvent"in window,Pn=null;c&&"documentMode"in document&&(Pn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Pn,Un=c&&(!On||Pn&&8<Pn&&11>=Pn),Vn=String.fromCharCode(32),jn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Wn(e,t,n,r){Te(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Vr(e,0)}function $n(e){if(G(bi(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Xn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(Gn)){var t=[];Wn(t,Gn,e,we(e)),Re(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Gn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=cr(n,a);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,gr=null,kr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==yr||yr!==Q(r)||("selectionStart"in(r=yr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=yr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var _r={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},xr={},Sr={};function Er(e){if(xr[e])return xr[e];if(!_r[e])return e;var t,n=_r[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return xr[e]=n[t];return e}c&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Ir=Er("animationiteration"),Cr=Er("animationstart"),Nr=Er("transitionend"),Ar=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ar.set(e,t),s(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Or=Rr[Dr];Lr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Lr(Tr,"onAnimationEnd"),Lr(Ir,"onAnimationIteration"),Lr(Cr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var c=Ue;Me=!1,Ue=null,Ve||(Ve=!0,je=c)}}(r,t,void 0,e),e.currentTarget=null}function Vr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Ur(i,u,l),a=s}}}if(Ve)throw e=je,Ve=!1,je=null,e}function jr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Fr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":l="focus",s=yn;break;case"focusout":l="blur",s=yn;break;case"beforeblur":case"afterblur":s=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Tr:case Ir:case Cr:s=mn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,h=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Le(p,h))&&c.push(Wr(p,v,d)))),f)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!gi(l)&&!l[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?gi(l):null)&&(l!==(f=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:bi(s),d=null==l?u:bi(l),(u=new c(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((c=new c(h,p+"enter",l,n,i)).target=d,c.relatedTarget=f,v=c),f=v,s&&l)e:{for(h=l,p=0,d=c=s;d;d=Gr(d))p++;for(d=0,v=h;v;v=Gr(v))d++;for(;0<p-d;)c=Gr(c),p--;for(;0<d-p;)h=Gr(h),d--;for(;p--;){if(c===h||null!==h&&c===h.alternate)break e;c=Gr(c),h=Gr(h)}c=null}else c=null;null!==s&&Qr(o,u,s,c,!1),null!==l&&null!==f&&Qr(o,f,l,c,!0)}if("select"===(s=(u=r?bi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Yn;else if(Hn(u))if(Xn)y=or;else{y=ir;var m=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=ar);switch(y&&(y=y(e,r))?Wn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?bi(r):window,e){case"focusin":(Hn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,gr=null);break;case"focusout":gr=mr=yr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,br(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":br(o,n,i)}var g;if(On)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Fn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Jt="value"in(Xt=i)?Xt.value:Xt.textContent,Bn=!0)),0<(m=Kr(r,k)).length&&(k=new bn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Vn);case"textInput":return(e=t.data)===Vn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Fn(e,t)?(e=en(),Zt=Jt=Xt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Vr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Le(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Le(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Le(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Le(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Jr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,yi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[hi])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[di]||null}var _i=[],xi=-1;function Si(e){return{current:e}}function Ei(e){0>xi||(e.current=_i[xi],_i[xi]=null,xi--)}function Ti(e,t){xi++,_i[xi]=e.current,e.current=t}var Ii={},Ci=Si(Ii),Ni=Si(!1),Ai=Ii;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ii;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ei(Ni),Ei(Ci)}function Oi(e,t,n){if(Ci.current!==Ii)throw Error(a(168));Ti(Ci,t),Ti(Ni,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return U({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ii,Ai=Ci.current,Ti(Ci,e),Ti(Ni,Ni.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ni),Ei(Ci),Ti(Ci,e)):Ei(Ni),Ti(Ni,n)}var Vi=null,ji=!1,Fi=!1;function zi(e){null===Vi?Vi=[e]:Vi.push(e)}function Bi(){if(!Fi&&null!==Vi){Fi=!0;var e=0,t=kt;try{var n=Vi;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Vi=null,ji=!1}catch(i){throw null!==Vi&&(Vi=Vi.slice(e+1)),Ge(Ze,Bi),i}finally{kt=t,Fi=!1}}return null}var qi=[],Hi=0,Wi=null,Ki=0,Gi=[],Qi=0,$i=null,Yi=1,Xi="";function Ji(e,t){qi[Hi++]=Ki,qi[Hi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,$i=e;var r=Yi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Yi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Yi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function ta(e){for(;e===Wi;)Wi=qi[--Hi],qi[Hi]=null,Ki=qi[--Hi],qi[Hi]=null;for(;e===$i;)$i=Gi[--Qi],Gi[Qi]=null,Xi=Gi[--Qi],Gi[Qi]=null,Yi=Gi[--Qi],Gi[Qi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ua(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Yi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function sa(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function la(e){if(ia){var t=ra;if(t){var n=t;if(!ua(e,t)){if(sa(e))throw Error(a(418));t=li(n.nextSibling);var r=na;t&&ua(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(sa(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ca(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function fa(e){if(e!==na)return!1;if(!ia)return ca(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(sa(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=li(t.nextSibling)}if(ca(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?li(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=li(e.nextSibling)}function da(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var va=b.ReactCurrentBatchConfig;function ya(e,t){if(e&&e.defaultProps){for(var n in t=U({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var ma=Si(null),ga=null,ka=null,ba=null;function wa(){ba=ka=ga=null}function _a(e){var t=ma.current;Ei(ma),e._currentValue=t}function xa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sa(e,t){ga=e,ba=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(ba!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===ga)throw Error(a(308));ka=e,ga.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Ta=null;function Ia(e){null===Ta?Ta=[e]:Ta.push(e)}function Ca(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Na(e,r)}function Na(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Aa=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Da(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Oa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cs)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Na(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Na(e,n)}function Pa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function Ma(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ua(e,t,n,r){var i=e.updateQueue;Aa=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,c=l=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=U({},f,h);break e;case 2:Aa=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=f):c=c.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===c&&(s=f),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Ms|=o,e.lanes=o,e.memoizedState=f}}function Va(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ja=(new r.Component).refs;function Fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:U({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var za={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),Pa(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),a=Da(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Oa(e,a,i))&&(nl(t,e,i,r),Pa(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Da(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Oa(e,i,r))&&(nl(t,e,r,n),Pa(t,e,r))}};function Ba(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function qa(e,t,n){var r=!1,i=Ii,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(i=Li(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ii),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=za,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function Ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&za.enqueueReplaceState(t,t.state,null)}function Wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ja,Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ea(a):(a=Li(t)?Ai:Ci.current,i.context=Ri(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(Fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&za.enqueueReplaceState(i,i.state,null),Ua(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ka(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ja&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qa(e){return(0,e._init)(e._payload)}function $a(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===L&&Qa(a)===t.type)?((r=i(t,n.props)).ref=Ka(e,t,n),r.return=e,r):((r=Ol(n.type,n.key,n.props,null,e.mode,r)).ref=Ka(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Pl(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ol(t.type,t.key,t.props,null,e.mode,n)).ref=Ka(e,null,t),n.return=e,n;case _:return(t=Vl(t,e.mode,n)).return=e,t;case L:return h(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pl(t,e.mode,n,null)).return=e,t;Ga(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?l(e,t,n,r):null;case _:return n.key===i?c(e,t,n,r):null;case L:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:f(e,t,n,r,null);Ga(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return f(t,e=e.get(n)||null,r,i,null);Ga(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===c?l=m:c.sibling=m,c=m,f=y}if(v===u.length)return n(i,f),ia&&Ji(i,v),l;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===c?l=f:c.sibling=f,c=f);return ia&&Ji(i,v),l}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&f.forEach((function(e){return t(i,e)})),ia&&Ji(i,v),l}function y(i,u,s,l){var c=P(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var f=c=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,l);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?c=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),ia&&Ji(i,y),c;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,l))&&(u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return ia&&Ji(i,y),c}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,l))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?c=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),ia&&Ji(i,y),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===x){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&Qa(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Ka(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((a=Pl(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ol(o.type,o.key,o.props,null,r.mode,s)).ref=Ka(r,a,o),s.return=r,r=s)}return u(r);case _:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Vl(o,r.mode,s)).return=r,r=a}return u(r);case L:return e(r,a,(c=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(P(o))return y(r,a,o,s);Ga(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Ul(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ya=$a(!0),Xa=$a(!1),Ja={},Za=Si(Ja),eo=Si(Ja),to=Si(Ja);function no(e){if(e===Ja)throw Error(a(174));return e}function ro(e,t){switch(Ti(to,t),Ti(eo,e),Ti(Za,Ja),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Za),Ti(Za,t)}function io(){Ei(Za),Ei(eo),Ei(to)}function ao(e){no(to.current);var t=no(Za.current),n=se(t,e.type);t!==n&&(Ti(eo,e),Ti(Za,n))}function oo(e){eo.current===e&&(Ei(Za),Ei(eo))}var uo=Si(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function co(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var fo=b.ReactCurrentDispatcher,ho=b.ReactCurrentBatchConfig,po=0,vo=null,yo=null,mo=null,go=!1,ko=!1,bo=0,wo=0;function _o(){throw Error(a(321))}function xo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,vo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fo.current=null===e||null===e.memoizedState?uu:su,e=n(r,i),ko){o=0;do{if(ko=!1,bo=0,25<=o)throw Error(a(301));o+=1,mo=yo=null,t.updateQueue=null,fo.current=lu,e=n(r,i)}while(ko)}if(fo.current=ou,t=null!==yo&&null!==yo.next,po=0,mo=yo=vo=null,go=!1,t)throw Error(a(300));return e}function Eo(){var e=0!==bo;return bo=0,e}function To(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===mo?vo.memoizedState=mo=e:mo=mo.next=e,mo}function Io(){if(null===yo){var e=vo.alternate;e=null!==e?e.memoizedState:null}else e=yo.next;var t=null===mo?vo.memoizedState:mo.next;if(null!==t)mo=t,yo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(yo=e).memoizedState,baseState:yo.baseState,baseQueue:yo.baseQueue,queue:yo.queue,next:null},null===mo?vo.memoizedState=mo=e:mo=mo.next=e}return mo}function Co(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=yo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var f=c.lane;if((po&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=h,u=r):l=l.next=h,vo.lanes|=f,Ms|=f}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,vo.lanes|=o,Ms|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Io(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Ro(){}function Lo(e,t){var n=vo,r=Io(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Ho(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==mo&&1&mo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ns)throw Error(a(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Uo(e)}function Po(e,t,n){return n((function(){Mo(t)&&Uo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Uo(e){var t=Na(e,1);null!==t&&nl(t,e,1,-1)}function Vo(e){var t=To();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Co,lastRenderedState:e},t.queue=e,e=e.dispatch=nu.bind(null,vo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=vo.updateQueue)?(t={lastEffect:null,stores:null},vo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fo(){return Io().memoizedState}function zo(e,t,n,r){var i=To();vo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Io();r=void 0===r?null:r;var a=void 0;if(null!==yo){var o=yo.memoizedState;if(a=o.destroy,null!==r&&xo(r,o.deps))return void(i.memoizedState=jo(t,n,a,r))}vo.flags|=e,i.memoizedState=jo(1|t,n,a,r)}function qo(e,t){return zo(8390656,8,e,t)}function Ho(e,t){return Bo(2048,8,e,t)}function Wo(e,t){return Bo(4,2,e,t)}function Ko(e,t){return Bo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Go.bind(null,t,e),n)}function $o(){}function Yo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xo(e,t){var n=Io();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Jo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),vo.lanes|=n,Ms|=n,e.baseState=!0),t)}function Zo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=ho.transition;ho.transition={};try{e(!1),t()}finally{kt=n,ho.transition=r}}function eu(){return Io().memoizedState}function tu(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ru(e))iu(t,n);else if(null!==(n=Ca(e,t,n,r))){nl(n,e,r,el()),au(n,t,r)}}function nu(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ru(e))iu(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o)){var s=t.interleaved;return null===s?(i.next=i,Ia(t)):(i.next=s.next,s.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Ca(e,t,i,r))&&(nl(n,e,r,i=el()),au(n,t,r))}}function ru(e){var t=e.alternate;return e===vo||null!==t&&t===vo}function iu(e,t){ko=go=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function au(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var ou={readContext:Ea,useCallback:_o,useContext:_o,useEffect:_o,useImperativeHandle:_o,useInsertionEffect:_o,useLayoutEffect:_o,useMemo:_o,useReducer:_o,useRef:_o,useState:_o,useDebugValue:_o,useDeferredValue:_o,useTransition:_o,useMutableSource:_o,useSyncExternalStore:_o,useId:_o,unstable_isNewReconciler:!1},uu={readContext:Ea,useCallback:function(e,t){return To().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=To();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=To();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=tu.bind(null,vo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},To().memoizedState=e},useState:Vo,useDebugValue:$o,useDeferredValue:function(e){return To().memoizedState=e},useTransition:function(){var e=Vo(!1),t=e[0];return e=Zo.bind(null,e[1]),To().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=vo,i=To();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Ns)throw Error(a(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Po.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=To(),t=Ns.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Yi&~(1<<32-ot(Yi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},su={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:No,useRef:Fo,useState:function(){return No(Co)},useDebugValue:$o,useDeferredValue:function(e){return Jo(Io(),yo.memoizedState,e)},useTransition:function(){return[No(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:eu,unstable_isNewReconciler:!1},lu={readContext:Ea,useCallback:Yo,useContext:Ea,useEffect:Ho,useImperativeHandle:Qo,useInsertionEffect:Wo,useLayoutEffect:Ko,useMemo:Xo,useReducer:Ao,useRef:Fo,useState:function(){return Ao(Co)},useDebugValue:$o,useDeferredValue:function(e){var t=Io();return null===yo?t.memoizedState=e:Jo(t,yo.memoizedState,e)},useTransition:function(){return[Ao(Co)[0],Io().memoizedState]},useMutableSource:Ro,useSyncExternalStore:Lo,useId:eu,unstable_isNewReconciler:!1};function cu(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function fu(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var du="function"===typeof WeakMap?WeakMap:Map;function pu(e,t,n){(n=Da(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hs||(Hs=!0,Ws=r),hu(0,t)},n}function vu(e,t,n){(n=Da(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){hu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){hu(0,t),"function"!==typeof r&&(null===Ks?Ks=new Set([this]):Ks.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function yu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new du;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=El.bind(null,e,t,n),t.then(e,e))}function mu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function gu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Da(-1,1)).tag=2,Oa(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ku=b.ReactCurrentOwner,bu=!1;function wu(e,t,n,r){t.child=null===e?Xa(t,null,n,r):Ya(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Sa(t,i),r=So(e,t,n,r,a,i),n=Eo(),null===e||bu?(ia&&n&&ea(t),t.flags|=1,wu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function xu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ll(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ol(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Hu(e,t,i)}return t.flags|=1,(e=Dl(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Hu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Iu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Ds,Ls),Ls|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Ds,Ls),Ls|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Ds,Ls),Ls|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Ds,Ls),Ls|=r;return wu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Iu(e,t,n,r,i){var a=Li(n)?Ai:Ci.current;return a=Ri(t,a),Sa(t,i),n=So(e,t,n,r,a,i),r=Eo(),null===e||bu?(ia&&r&&ea(t),t.flags|=1,wu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Hu(e,t,i))}function Cu(e,t,n,r,i){if(Li(n)){var a=!0;Mi(t)}else a=!1;if(Sa(t,i),null===t.stateNode)qu(e,t),qa(t,n,r),Wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ea(l):l=Ri(t,l=Li(n)?Ai:Ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&Ha(t,o,r,l),Aa=!1;var h=t.memoizedState;o.state=h,Ua(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||Aa?("function"===typeof c&&(Fa(t,n,c,r),s=t.memoizedState),(u=Aa||Ba(t,n,u,r,h,s,l))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:ya(t.type,u),o.props=l,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ea(s):s=Ri(t,s=Li(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&Ha(t,o,r,s),Aa=!1,h=t.memoizedState,o.state=h,Ua(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||Aa?("function"===typeof d&&(Fa(t,n,d,r),p=t.memoizedState),(l=Aa||Ba(t,n,l,r,h,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Nu(e,t,n,r,a,i)}function Nu(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Hu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ya(t,e.child,null,a),t.child=Ya(t,null,u,a)):wu(e,t,u,a),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Ru(e,t,n,r,i){return da(),pa(i),t.flags|=256,wu(e,t,n,r),t.child}var Lu,Du,Ou,Pu={dehydrated:null,treeContext:null,retryLane:0};function Mu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uu(e,t,n){var r,i=t.pendingProps,o=uo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(uo,1&o),null===e)return la(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(s=i.children,e=i.fallback,u?(i=t.mode,u=t.child,s={mode:"hidden",children:s},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=s):u=Ml(s,i,0,null),e=Pl(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Mu(n),t.memoizedState=Pu,e):Vu(t,s));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,u){if(n)return 256&t.flags?(t.flags&=-257,ju(e,t,u,r=fu(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(o=Pl(o,i,u,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Ya(t,e.child,null,u),t.child.memoizedState=Mu(u),t.memoizedState=Pu,o);if(0===(1&t.mode))return ju(e,t,u,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var s=r.dgst;return r=s,ju(e,t,u,r=fu(o=Error(a(419)),r,void 0))}if(s=0!==(u&e.childLanes),bu||s){if(null!==(r=Ns)){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|u))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Na(e,i),nl(r,e,i,-1))}return vl(),ju(e,t,u,r=fu(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Il.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=li(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Gi[Qi++]=Yi,Gi[Qi++]=Xi,Gi[Qi++]=$i,Yi=e.id,Xi=e.overflow,$i=t),(t=Vu(t,r.children)).flags|=4096,t)}(e,t,s,i,r,o,n);if(u){u=i.fallback,s=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&s)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?u=Dl(r,u):(u=Pl(u,s,n,null)).flags|=2,u.return=t,i.return=t,i.sibling=u,t.child=i,i=u,u=t.child,s=null===(s=e.child.memoizedState)?Mu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},u.memoizedState=s,u.childLanes=e.childLanes&~n,t.memoizedState=Pu,i}return e=(u=e.child).sibling,i=Dl(u,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vu(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){return null!==r&&pa(r),Ya(t,e.child,null,n),(e=Vu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xa(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(wu(e,t,r.children,n),0!==(2&(r=uo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fu(e,n,t);else if(19===e.tag)Fu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(uo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ms|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ku(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Gu(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ku(t),null;case 1:case 17:return Li(t.type)&&Di(),Ku(t),null;case 3:return r=t.stateNode,io(),Ei(Ni),Ei(Ci),co(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ol(aa),aa=null))),Ku(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Du(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ku(t),null}if(e=no(Za.current),fa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":Y(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&jr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,Lu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)jr(Pr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=U({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ye(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&jr("scroll",e):null!=c&&k(e,o,c,s))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ku(t),null;case 6:if(e&&null!=t.stateNode)Ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=no(to.current),no(Za.current),fa(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ku(t),null;case 13:if(Ei(uo),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),da(),t.flags|=98560,o=!1;else if(o=fa(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else da(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ku(t),o=!1}else null!==aa&&(ol(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Os&&(Os=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ku(t),null);case 4:return io(),null===e&&Br(t.stateNode.containerInfo),Ku(t),null;case 10:return _a(t.type._context),Ku(t),null;case 19:if(Ei(uo),null===(o=t.memoizedState))return Ku(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)Wu(o,!1);else{if(0!==Os||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=so(e))){for(t.flags|=128,Wu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Bs&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!ia)return Ku(t),null}else 2*Xe()-o.renderingStartTime>Bs&&1073741824!==n&&(t.flags|=128,r=!0,Wu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=uo.current,Ti(uo,r?1&n|2:1&n),t):(Ku(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ls)&&(Ku(t),6&t.subtreeFlags&&(t.flags|=8192)):Ku(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Qu(e,t){switch(ta(t),t.tag){case 1:return Li(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ei(Ni),Ei(Ci),co(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ei(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));da()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(uo),null;case 4:return io(),null;case 10:return _a(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Lu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Du=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Za.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=U({},i,{value:void 0}),r=U({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&jr("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var $u=!1,Yu=!1,Xu="function"===typeof WeakSet?WeakSet:Set,Ju=null;function Zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function es(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var ts=!1;function ns(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&es(t,n,a)}i=i.next}while(i!==r)}}function rs(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function is(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function as(e){var t=e.alternate;null!==t&&(e.alternate=null,as(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[yi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function os(e){return 5===e.tag||3===e.tag||4===e.tag}function us(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||os(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ss(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ss(e,t,n),e=e.sibling;null!==e;)ss(e,t,n),e=e.sibling}function ls(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ls(e,t,n),e=e.sibling;null!==e;)ls(e,t,n),e=e.sibling}var cs=null,fs=!1;function hs(e,t,n){for(n=n.child;null!==n;)ds(e,t,n),n=n.sibling}function ds(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Yu||Zu(n,t);case 6:var r=cs,i=fs;cs=null,hs(e,t,n),fs=i,null!==(cs=r)&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cs.removeChild(n.stateNode));break;case 18:null!==cs&&(fs?(e=cs,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(cs,n.stateNode));break;case 4:r=cs,i=fs,cs=n.stateNode.containerInfo,fs=!0,hs(e,t,n),cs=r,fs=i;break;case 0:case 11:case 14:case 15:if(!Yu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&es(n,t,o),i=i.next}while(i!==r)}hs(e,t,n);break;case 1:if(!Yu&&(Zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Sl(n,t,u)}hs(e,t,n);break;case 21:hs(e,t,n);break;case 22:1&n.mode?(Yu=(r=Yu)||null!==n.memoizedState,hs(e,t,n),Yu=r):hs(e,t,n);break;default:hs(e,t,n)}}function ps(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xu),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:cs=s.stateNode,fs=!1;break e;case 3:case 4:cs=s.stateNode.containerInfo,fs=!0;break e}s=s.return}if(null===cs)throw Error(a(160));ds(o,u,i),cs=null,fs=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Sl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ys(t,e),t=t.sibling}function ys(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),ms(e),4&r){try{ns(3,e,e.return),rs(3,e)}catch(y){Sl(e,e.return,y)}try{ns(5,e,e.return)}catch(y){Sl(e,e.return,y)}}break;case 1:vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return);break;case 5:if(vs(t,e),ms(e),512&r&&null!==n&&Zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(y){Sl(e,e.return,y)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),ke(s,u);var c=ke(s,o);for(u=0;u<l.length;u+=2){var f=l[u],h=l[u+1];"style"===f?ye(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,c)}switch(s){case"input":J(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(y){Sl(e,e.return,y)}}break;case 6:if(vs(t,e),ms(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(y){Sl(e,e.return,y)}}break;case 3:if(vs(t,e),ms(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(y){Sl(e,e.return,y)}break;case 4:default:vs(t,e),ms(e);break;case 13:vs(t,e),ms(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zs=Xe())),4&r&&ps(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Yu=(c=Yu)||f,vs(t,e),Yu=c):vs(t,e),ms(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Ju=e,f=e.child;null!==f;){for(h=Ju=f;null!==Ju;){switch(p=(d=Ju).child,d.tag){case 0:case 11:case 14:case 15:ns(4,d,d.return);break;case 1:Zu(d,d.return);var v=d.stateNode;if("function"===typeof v.componentWillUnmount){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Sl(r,n,y)}}break;case 5:Zu(d,d.return);break;case 22:if(null!==d.memoizedState){ws(h);continue}}null!==p?(p.return=d,Ju=p):ws(h)}f=f.sibling}e:for(f=null,h=e;;){if(5===h.tag){if(null===f){f=h;try{i=h.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=ve("display",u))}catch(y){Sl(e,e.return,y)}}}else if(6===h.tag){if(null===f)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Sl(e,e.return,y)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;f===h&&(f=null),h=h.return}f===h&&(f=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vs(t,e),ms(e),4&r&&ps(e);case 21:}}function ms(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(os(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),ls(e,us(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ss(e,us(e),o);break;default:throw Error(a(161))}}catch(u){Sl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function gs(e,t,n){Ju=e,ks(e,t,n)}function ks(e,t,n){for(var r=0!==(1&e.mode);null!==Ju;){var i=Ju,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$u;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Yu;u=$u;var l=Yu;if($u=o,(Yu=s)&&!l)for(Ju=i;null!==Ju;)s=(o=Ju).child,22===o.tag&&null!==o.memoizedState?_s(i):null!==s?(s.return=o,Ju=s):_s(i);for(;null!==a;)Ju=a,ks(a,t,n),a=a.sibling;Ju=i,$u=u,Yu=l}bs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Ju=a):bs(e)}}function bs(e){for(;null!==Ju;){var t=Ju;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Yu||rs(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Yu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ya(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Va(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Va(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Yu||512&t.flags&&is(t)}catch(d){Sl(t,t.return,d)}}if(t===e){Ju=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ju=n;break}Ju=t.return}}function ws(e){for(;null!==Ju;){var t=Ju;if(t===e){Ju=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ju=n;break}Ju=t.return}}function _s(e){for(;null!==Ju;){var t=Ju;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rs(4,t)}catch(s){Sl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){Sl(t,i,s)}}var a=t.return;try{is(t)}catch(s){Sl(t,a,s)}break;case 5:var o=t.return;try{is(t)}catch(s){Sl(t,o,s)}}}catch(s){Sl(t,t.return,s)}if(t===e){Ju=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Ju=u;break}Ju=t.return}}var xs,Ss=Math.ceil,Es=b.ReactCurrentDispatcher,Ts=b.ReactCurrentOwner,Is=b.ReactCurrentBatchConfig,Cs=0,Ns=null,As=null,Rs=0,Ls=0,Ds=Si(0),Os=0,Ps=null,Ms=0,Us=0,Vs=0,js=null,Fs=null,zs=0,Bs=1/0,qs=null,Hs=!1,Ws=null,Ks=null,Gs=!1,Qs=null,$s=0,Ys=0,Xs=null,Js=-1,Zs=0;function el(){return 0!==(6&Cs)?Xe():-1!==Js?Js:Js=Xe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cs)&&0!==Rs?Rs&-Rs:null!==va.transition?(0===Zs&&(Zs=vt()),Zs):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Ys)throw Ys=0,Xs=null,Error(a(185));mt(e,n,r),0!==(2&Cs)&&e===Ns||(e===Ns&&(0===(2&Cs)&&(Us|=n),4===Os&&ul(e,Rs)),rl(e,r),1===n&&0===Cs&&0===(1&t.mode)&&(Bs=Xe()+500,ji&&Bi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Ns?Rs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(sl.bind(null,e)):zi(sl.bind(null,e)),oi((function(){0===(6&Cs)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Nl(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Js=-1,Zs=0,0!==(6&Cs))throw Error(a(327));var n=e.callbackNode;if(_l()&&e.callbackNode!==n)return null;var r=ht(e,e===Ns?Rs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yl(e,r);else{t=r;var i=Cs;Cs|=2;var o=pl();for(Ns===e&&Rs===t||(qs=null,Bs=Xe()+500,hl(e,t));;)try{gl();break}catch(s){dl(e,s)}wa(),Es.current=o,Cs=i,null!==As?t=0:(Ns=null,Rs=0,t=Os)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=al(e,i))),1===t)throw n=Ps,hl(e,0),ul(e,r),rl(e,Xe()),n;if(6===t)ul(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yl(e,r))&&(0!==(o=pt(e))&&(r=o,t=al(e,o))),1===t))throw n=Ps,hl(e,0),ul(e,r),rl(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wl(e,Fs,qs);break;case 3:if(ul(e,r),(130023424&r)===r&&10<(t=zs+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wl.bind(null,e,Fs,qs),t);break}wl(e,Fs,qs);break;case 4:if(ul(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ss(r/1960))-r)){e.timeoutHandle=ri(wl.bind(null,e,Fs,qs),r);break}wl(e,Fs,qs);break;default:throw Error(a(329))}}}return rl(e,Xe()),e.callbackNode===n?il.bind(null,e):null}function al(e,t){var n=js;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=yl(e,t))&&(t=Fs,Fs=n,null!==t&&ol(t)),e}function ol(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function ul(e,t){for(t&=~Vs,t&=~Us,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function sl(e){if(0!==(6&Cs))throw Error(a(327));_l();var t=ht(e,0);if(0===(1&t))return rl(e,Xe()),null;var n=yl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=al(e,r))}if(1===n)throw n=Ps,hl(e,0),ul(e,t),rl(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wl(e,Fs,qs),rl(e,Xe()),null}function ll(e,t){var n=Cs;Cs|=1;try{return e(t)}finally{0===(Cs=n)&&(Bs=Xe()+500,ji&&Bi())}}function cl(e){null!==Qs&&0===Qs.tag&&0===(6&Cs)&&_l();var t=Cs;Cs|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Cs=t))&&Bi()}}function fl(){Ls=Ds.current,Ei(Ds)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==As)for(n=As.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ei(Ni),Ei(Ci),co();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ei(uo);break;case 10:_a(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ns=e,As=e=Dl(e.current,null),Rs=Ls=t,Os=0,Ps=null,Vs=Us=Ms=0,Fs=js=null,null!==Ta){for(t=0;t<Ta.length;t++)if(null!==(r=(n=Ta[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ta=null}return e}function dl(e,t){for(;;){var n=As;try{if(wa(),fo.current=ou,go){for(var r=vo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}go=!1}if(po=0,mo=yo=vo=null,ko=!1,bo=0,Ts.current=null,null===n||null===n.return){Os=1,Ps=t,As=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=Rs,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=mu(u);if(null!==p){p.flags&=-257,gu(p,u,s,0,t),1&p.mode&&yu(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){yu(o,c,t),vl();break e}l=Error(a(426))}else if(ia&&1&s.mode){var m=mu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),gu(m,u,s,0,t),pa(cu(l,s));break e}}o=l=cu(l,s),4!==Os&&(Os=2),null===js?js=[o]:js.push(o),o=u;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,pu(0,l,t));break e;case 1:s=l;var g=o.type,k=o.stateNode;if(0===(128&o.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Ks||!Ks.has(k)))){o.flags|=65536,t&=-t,o.lanes|=t,Ma(o,vu(o,s,t));break e}}o=o.return}while(null!==o)}bl(n)}catch(b){t=b,As===n&&null!==n&&(As=n=n.return);continue}break}}function pl(){var e=Es.current;return Es.current=ou,null===e?ou:e}function vl(){0!==Os&&3!==Os&&2!==Os||(Os=4),null===Ns||0===(268435455&Ms)&&0===(268435455&Us)||ul(Ns,Rs)}function yl(e,t){var n=Cs;Cs|=2;var r=pl();for(Ns===e&&Rs===t||(qs=null,hl(e,t));;)try{ml();break}catch(i){dl(e,i)}if(wa(),Cs=n,Es.current=r,null!==As)throw Error(a(261));return Ns=null,Rs=0,Os}function ml(){for(;null!==As;)kl(As)}function gl(){for(;null!==As&&!$e();)kl(As)}function kl(e){var t=xs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?bl(e):As=t,Ts.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gu(n,t,Ls)))return void(As=n)}else{if(null!==(n=Qu(n,t)))return n.flags&=32767,void(As=n);if(null===e)return Os=6,void(As=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(As=t);As=t=e}while(null!==t);0===Os&&(Os=5)}function wl(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{_l()}while(null!==Qs);if(0!==(6&Cs))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Ns&&(As=Ns=null,Rs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gs||(Gs=!0,Nl(tt,(function(){return _l(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Cs;Cs|=4,Ts.current=null,function(e,t){if(ei=Ht,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(l=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++f===r&&(l=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Ju=t;null!==Ju;)if(e=(t=Ju).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ju=e;else for(;null!==Ju;){t=Ju;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:ya(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(a(163))}}catch(w){Sl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Ju=e;break}Ju=t.return}v=ts,ts=!1}(e,n),ys(n,e),pr(ti),Ht=!!ei,ti=ei=null,e.current=n,gs(n,e,i),Ye(),Cs=s,kt=u,Is.transition=o}else e.current=n;if(Gs&&(Gs=!1,Qs=e,$s=i),0===(o=e.pendingLanes)&&(Ks=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Hs)throw Hs=!1,e=Ws,Ws=null,e;0!==(1&$s)&&0!==e.tag&&_l(),0!==(1&(o=e.pendingLanes))?e===Xs?Ys++:(Ys=0,Xs=e):Ys=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function _l(){if(null!==Qs){var e=bt($s),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Qs)var r=!1;else{if(e=Qs,Qs=null,$s=0,0!==(6&Cs))throw Error(a(331));var i=Cs;for(Cs|=4,Ju=e.current;null!==Ju;){var o=Ju,u=o.child;if(0!==(16&Ju.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Ju=c;null!==Ju;){var f=Ju;switch(f.tag){case 0:case 11:case 15:ns(8,f,o)}var h=f.child;if(null!==h)h.return=f,Ju=h;else for(;null!==Ju;){var d=(f=Ju).sibling,p=f.return;if(as(f),f===c){Ju=null;break}if(null!==d){d.return=p,Ju=d;break}Ju=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Ju=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Ju=u;else e:for(;null!==Ju;){if(0!==(2048&(o=Ju).flags))switch(o.tag){case 0:case 11:case 15:ns(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Ju=g;break e}Ju=o.return}}var k=e.current;for(Ju=k;null!==Ju;){var b=(u=Ju).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Ju=b;else e:for(u=k;null!==Ju;){if(0!==(2048&(s=Ju).flags))try{switch(s.tag){case 0:case 11:case 15:rs(9,s)}}catch(_){Sl(s,s.return,_)}if(s===u){Ju=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Ju=w;break e}Ju=s.return}}if(Cs=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(_){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xl(e,t,n){e=Oa(e,t=pu(0,t=cu(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ks||!Ks.has(r))){t=Oa(t,e=vu(t,e=cu(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function El(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ns===e&&(Rs&n)===n&&(4===Os||3===Os&&(130023424&Rs)===Rs&&500>Xe()-zs?hl(e,0):Vs|=n),rl(e,t)}function Tl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Na(e,t))&&(mt(e,t,n),rl(e,n))}function Il(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tl(e,n)}function Nl(e,t){return Ge(e,t)}function Al(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Al(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ol(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ll(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Pl(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=Rl(12,n,t,2|i)).elementType=E,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rl(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Ml(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case I:u=9;break e;case C:u=11;break e;case R:u=14;break e;case L:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Pl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Vl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,i,a,o,u,s){return e=new jl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Bl(e){if(!e)return Ii;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Li(n))return Pi(e,n,t)}return t}function ql(e,t,n,r,i,a,o,u,s){return(e=Fl(n,r,!0,e,0,a,0,u,s)).context=Bl(null),n=e.current,(a=Da(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,Oa(n,a,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function Hl(e,t,n,r){var i=t.current,a=el(),o=tl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Da(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Oa(i,t,o))&&(nl(e,i,o,a),Pa(e,i,o)),o}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),da();break;case 5:ao(t);break;case 1:Li(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ma,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(uo,1&uo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uu(e,t,n):(Ti(uo,1&uo.current),null!==(e=Hu(e,t,n))?e.sibling:null);Ti(uo,1&uo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(uo,uo.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Hu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,ia&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qu(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);Sa(t,n),i=So(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=za,t.stateNode=i,i._reactInternals=t,Wa(t,r,e,n),t=Nu(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),wu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=ya(r,e),i){case 0:t=Iu(null,t,r,e,n);break e;case 1:t=Cu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=xu(null,t,r,ya(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Iu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Ua(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=cu(Error(a(423)),t));break e}if(r!==i){t=Ru(e,t,r,n,i=cu(Error(a(424)),t));break e}for(ra=li(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=Xa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(da(),r===i){t=Hu(e,t,n);break e}wu(e,t,r,n)}t=t.child}return t;case 5:return ao(t),null===e&&la(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),wu(e,t,u,n),t.child;case 6:return null===e&&la(t),null;case 13:return Uu(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ya(t,null,r,n):wu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:ya(r,i),n);case 7:return wu(e,t,t.pendingProps,n),t.child;case 8:case 12:return wu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ti(ma,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Hu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Da(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xa(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),xa(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}wu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sa(t,n),r=r(i=Ea(i)),t.flags|=1,wu(e,t,r,n),t.child;case 14:return i=ya(r=t.type,t.pendingProps),xu(e,t,r,i=ya(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ya(r,i),qu(e,t),t.tag=1,Li(r)?(e=!0,Mi(t)):e=!1,Sa(t,n),qa(t,r,i),Wa(t,r,i,n),Nu(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Yl(e){this._internalRoot=e}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wl(o);u.call(e)}}Hl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wl(o);a.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wl(s);u.call(e)}}var s=Fl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cl((function(){Hl(t,s,n,r)})),s}(n,t,e,i,r);return Wl(o)}Yl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hl(e,t,null,null)},Yl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){Hl(null,e,null,null)})),t[pi]=null}},Yl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ut(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),rl(t,Xe()),0===(6&Cs)&&(Bs=Xe()+500,Bi()))}break;case 13:cl((function(){var t=Na(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Gl(e,1)}},_t=function(e){if(13===e.tag){var t=Na(e,134217728);if(null!==t)nl(t,e,134217728,el());Gl(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Na(e,t);if(null!==n)nl(n,e,t,el());Gl(e,t)}},St=function(){return kt},Et=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));G(r),J(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Ne=cl;var tc={usingClientEntryPoint:!1,Events:[ki,bi,wi,Te,Ie,ll]},nc={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),at=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xl(t))throw Error(a(200));return zl(e,t,null,n)},t.createRoot=function(e,t){if(!Xl(e))throw Error(a(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(a(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(a(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},254:function(e,t,n){var r=n(599);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},599:function(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(470)},511:function(e,t,n){var r=n(390),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,a={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:a,_owner:u.current}}t.Fragment=a,t.jsx=l,t.jsxs=l},23:function(e,t){var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,_=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)_.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:x.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(I,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+C(u=e[l],l);s+=N(u,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,c=a+C(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},O={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=x.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)_.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},390:function(e,t,n){e.exports=n(23)},559:function(e,t,n){e.exports=n(511)},17:function(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function w(e){if(y=!1,b(e),!v)if(null!==r(l))v=!0,D(_);else{var t=r(c);null!==t&&O(w,t.startTime-e)}}function _(e,n){v=!1,y&&(y=!1,g(T),T=-1),p=!0;var a=d;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(l)&&i(l),b(n)}else i(l);h=r(l)}if(null!==h)var s=!0;else{var f=r(c);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,E=null,T=-1,I=5,C=-1;function N(){return!(t.unstable_now()-C<I)}function A(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?x():(S=!1,E=null)}}else S=!1}if("function"===typeof k)x=function(){k(A)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=A,x=function(){L.postMessage(null)}}else x=function(){m(A,0)};function D(e){E=e,S||(S=!0,x())}function O(e,n){T=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(_))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(g(T),T=-1):y=!0,O(w,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,D(_))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},124:function(e,t,n){e.exports=n(17)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}!function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){var e,t=n(390),r=n.t(t,2),i=n(254);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function d(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function v(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}function k(e){var t=v();return function(){var n,r=p(e);if(t){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function b(e,t,n){return b=v()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&h(i,n.prototype),i},b.apply(null,arguments)}function w(e){var t="function"===typeof Map?new Map:void 0;return w=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return b(e,arguments,p(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),h(n,e)},w(e)}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));var x,S="popstate";function E(e){return{usr:e.state,key:e.key}}function T(e,t,n,r){return void 0===n&&(n=null),_({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?C(t):t,{state:n,key:(null==t?void 0:t.key)||r||Math.random().toString(36).substr(2,8)})}function I(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function C(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function N(t,n,r,i){void 0===i&&(i={});var a=i,o=a.window,u=void 0===o?document.defaultView:o,s=a.v5Compat,l=void 0!==s&&s,c=u.history,f=e.Pop,h=null;function d(){f=e.Pop,h&&h({action:f,location:p.location})}var p={get action(){return f},get location(){return t(u,c)},listen:function(e){if(h)throw new Error("A history only accepts one active listener");return u.addEventListener(S,d),h=e,function(){u.removeEventListener(S,d),h=null}},createHref:function(e){return n(u,e)},push:function(t,n){f=e.Push;var i=T(p.location,t,n);null==r||r(i,t);var a=E(i),o=p.createHref(i);try{c.pushState(a,"",o)}catch(s){u.location.assign(o)}l&&h&&h({action:f,location:i})},replace:function(t,n){f=e.Replace;var i=T(p.location,t,n);null==r||r(i,t);var a=E(i),o=p.createHref(i);c.replaceState(a,"",o),l&&h&&h({action:f,location:i})},go:function(e){return c.go(e)}};return p}function A(e,t,n){void 0===n&&(n="/");var r=U(("string"===typeof t?C(t):t).pathname||"/",n);if(null==r)return null;var i=R(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=P(i[o],r);return a}function R(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(V(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var o=z([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(V(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),R(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:O(o,e.index),routesMeta:u})})),t}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(x||(x={}));var L=/^:\w+$/,D=function(e){return"*"===e};function O(e,t){var n=e.split("/"),r=n.length;return n.some(D)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!D(e)})).reduce((function(e,t){return e+(L.test(t)?3:""===t?1:10)}),r)}function P(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=M({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var f=u.route;a.push({params:r,pathname:z([i,c.pathname]),pathnameBase:B(z([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=z([i,c.pathnameBase]))}return a}function M(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);j("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[@.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=u(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],l=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return j(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:l,pattern:e}}function U(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function V(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function j(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function F(e,t,n,r){void 0===r&&(r=!1);var i,a="string"===typeof e?C(e):_({},e),o=""===e||""===a.pathname,u=o?"/":a.pathname;if(r||null==u)i=n;else{var s=t.length-1;if(u.startsWith("..")){for(var l=u.split("/");".."===l[0];)l.shift(),s-=1;a.pathname=l.join("/")}i=s>=0?t[s]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?C(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:q(a),hash:H(u)}}(a,i),f=u&&"/"!==u&&u.endsWith("/"),h=(o||"."===u)&&n.endsWith("/");return c.pathname.endsWith("/")||!f&&!h||(c.pathname+="/"),c}var z=function(e){return e.join("/").replace(/\/\/+/g,"/")},B=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},q=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},H=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},W=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(w(Error));var K=f((function e(t,n,r){l(this,e),this.status=t,this.statusText=n||"",this.data=r}));function G(e){return e instanceof K}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Q.apply(this,arguments)}var $="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Y=t.useState,X=t.useEffect,J=t.useLayoutEffect,Z=t.useDebugValue;function ee(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!$(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement,r.useSyncExternalStore;var te=t.createContext(null);var ne=t.createContext(null);var re=t.createContext(null);var ie=t.createContext(null);var ae=t.createContext(null);var oe=t.createContext(null);var ue=t.createContext({outlet:null,matches:[]});var se=t.createContext(null);function le(){return null!=t.useContext(oe)}function ce(){return le()||V(!1),t.useContext(oe).location}function fe(e){return e.filter((function(t,n){return 0===n||!t.route.index&&t.pathnameBase!==e[n-1].pathnameBase}))}function he(){le()||V(!1);var e=t.useContext(ae),n=e.basename,r=e.navigator,i=t.useContext(ue).matches,a=ce().pathname,o=JSON.stringify(fe(i).map((function(e){return e.pathnameBase}))),u=t.useRef(!1);t.useEffect((function(){u.current=!0}));var s=t.useCallback((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=F(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:z([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return s}function de(e,n){var r=(void 0===n?{}:n).relative,i=t.useContext(ue).matches,a=ce().pathname,o=JSON.stringify(fe(i).map((function(e){return e.pathnameBase})));return t.useMemo((function(){return F(e,JSON.parse(o),a,"path"===r)}),[e,o,a,r])}function pe(){var e=function(){var e,n=t.useContext(se),r=ke(ve.UseRouteError),i=t.useContext(ue),a=i.matches[i.matches.length-1];if(n)return n;return i||V(!1),!a.route.id&&V(!1),null==(e=r.errors)?void 0:e[a.route.id]}(),n=G(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unhandled Thrown Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own\xa0",t.createElement("code",{style:o},"errorElement")," props on\xa0",t.createElement("code",{style:o},"<Route>")))}var ve,ye=function(e){d(r,e);var n=k(r);function r(e){var t;return l(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return f(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?t.createElement(se.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(t.Component);function me(e){var n=e.routeContext,r=e.match,i=e.children,a=t.useContext(te);return a&&r.route.errorElement&&(a._deepestRenderedBoundaryId=r.route.id),t.createElement(ue.Provider,{value:n},i)}function ge(e,n,r){if(void 0===n&&(n=[]),null==e){if(null==r||!r.errors)return null;e=r.matches}var i=e,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||V(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(e,o,u){var s=o.route.id?null==a?void 0:a[o.route.id]:null,l=r?o.route.errorElement||t.createElement(pe,null):null,c=function(){return t.createElement(me,{match:o,routeContext:{outlet:e,matches:n.concat(i.slice(0,u+1))}},s?l:void 0!==o.route.element?o.route.element:e)};return r&&(o.route.errorElement||0===u)?t.createElement(ye,{location:r.location,component:l,error:s,children:c()}):c()}),null)}function ke(e){var n=t.useContext(re);return n||V(!1),n}!function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(ve||(ve={}));var be;function we(e){V(!1)}function _e(n){var r=n.basename,i=void 0===r?"/":r,a=n.children,o=void 0===a?null:a,u=n.location,s=n.navigationType,l=void 0===s?e.Pop:s,c=n.navigator,f=n.static,h=void 0!==f&&f;le()&&V(!1);var d=i.replace(/^\/*/,"/"),p=t.useMemo((function(){return{basename:d,navigator:c,static:h}}),[d,c,h]);"string"===typeof u&&(u=C(u));var v=u,y=v.pathname,m=void 0===y?"/":y,g=v.search,k=void 0===g?"":g,b=v.hash,w=void 0===b?"":b,_=v.state,x=void 0===_?null:_,S=v.key,E=void 0===S?"default":S,T=t.useMemo((function(){var e=U(m,d);return null==e?null:{pathname:e,search:k,hash:w,state:x,key:E}}),[d,m,k,w,x,E]);return null==T?null:t.createElement(ae.Provider,{value:p},t.createElement(oe.Provider,{children:o,value:{location:T,navigationType:l}}))}function xe(n){var r=n.children,i=n.location,a=t.useContext(ne);return function(n,r){le()||V(!1);var i,a=t.useContext(re),o=t.useContext(ue).matches,u=o[o.length-1],s=u?u.params:{},l=(u&&u.pathname,u?u.pathnameBase:"/"),c=(u&&u.route,ce());if(r){var f,h="string"===typeof r?C(r):r;"/"===l||(null==(f=h.pathname)?void 0:f.startsWith(l))||V(!1),i=h}else i=c;var d=i.pathname||"/",p=A(n,{pathname:"/"===l?d:d.slice(l.length)||"/"}),v=ge(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:z([l,e.pathname]),pathnameBase:"/"===e.pathnameBase?l:z([l,e.pathnameBase])})})),o,a||void 0);return r?t.createElement(oe.Provider,{value:{location:Q({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:e.Pop}},v):v}(a&&!r?a.router.routes:Ee(r),i)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(be||(be={}));var Se=new Promise((function(){}));t.Component;function Ee(e,n){void 0===n&&(n=[]);var r=[];return t.Children.forEach(e,(function(e,i){if(t.isValidElement(e))if(e.type!==t.Fragment){e.type!==we&&V(!1);var a=[].concat(s(n),[i]),o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Ee(e.props.children,a)),r.push(o)}else r.push.apply(r,Ee(e.props.children,n))})),r}function Te(){return Te=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Te.apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Ce=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Ne(e){var n,r=e.basename,i=e.children,a=e.window,o=t.useRef();null==o.current&&(o.current=(void 0===(n={window:a,v5Compat:!0})&&(n={}),N((function(e,t){var n,r,i=e.location;return T("",{pathname:i.pathname,search:i.search,hash:i.hash},(null==(n=t.state)?void 0:n.usr)||null,(null==(r=t.state)?void 0:r.key)||"default")}),(function(e,t){return"string"===typeof t?t:I(t)}),null,n)));var s=o.current,l=u(t.useState({action:s.action,location:s.location}),2),c=l[0],f=l[1];return t.useLayoutEffect((function(){return s.listen(f)}),[s]),t.createElement(_e,{basename:r,children:i,location:c.location,navigationType:c.action,navigator:s})}var Ae=t.forwardRef((function(e,n){var r=e.onClick,i=e.relative,a=e.reloadDocument,o=e.replace,u=e.state,s=e.target,l=e.to,c=e.preventScrollReset,f=Ie(e,Ce),h=function(e,n){var r=(void 0===n?{}:n).relative;le()||V(!1);var i=t.useContext(ae),a=i.basename,o=i.navigator,u=de(e,{relative:r}),s=u.hash,l=u.pathname,c=u.search,f=l;return"/"!==a&&(f="/"===l?a:z([a,l])),o.createHref({pathname:f,search:c,hash:s})}(l,{relative:i}),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=r.preventScrollReset,s=r.relative,l=he(),c=ce(),f=de(e,{relative:s});return t.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,i)){t.preventDefault();var n=void 0!==a?a:I(c)===I(f);l(e,{replace:n,state:o,preventScrollReset:u,relative:s})}}),[c,l,f,a,o,i,e,u,s])}(l,{replace:o,state:u,target:s,preventScrollReset:c,relative:i});return t.createElement("a",Te({},f,{href:h,onClick:a?r:function(e){r&&r(e),e.defaultPrevented||d(e)},ref:n,target:s}))}));function Re(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}function Le(){return Le="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=Re(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Le.apply(this,arguments)}function De(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Oe(){Oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(N){s=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var a=t&&t.prototype instanceof h?t:h,o=Object.create(a.prototype),u=new T(i||[]);return r(o,"_invoke",{value:_(e,n,u)}),o}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(N){return{type:"throw",arg:N}}}e.wrap=l;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,(function(){return this}));var m=Object.getPrototypeOf,g=m&&m(m(I([])));g&&g!==t&&n.call(g,a)&&(v=g);var k=p.prototype=h.prototype=Object.create(v);function b(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function i(r,a,o,u){var s=c(e[r],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==y(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,o,u)}),(function(e){i("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return i("throw",e,o,u)}))}u(s.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function _(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return C()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=x(o,n);if(u){if(u===f)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}function x(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,x(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,r(k,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,u,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},b(w.prototype),s(w.prototype,o,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new w(l(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(k),s(k,u,"Generator"),s(k,a,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:I(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function Pe(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function Me(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Pe(a,r,i,o,u,"next",e)}function u(e){Pe(a,r,i,o,u,"throw",e)}o(void 0)}))}}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ve=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},je={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ve(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},Fe=function(e){return function(e){var t=Ve(e);return je.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ze=function(e){try{return je.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};var Be=function(){function e(){var t=this;l(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return f(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function qe(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}var He=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(m(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(m(a),We.prototype.create),a}return f(n)}(w(Error)),We=function(){function e(t,n,r){l(this,e),this.service=t,this.serviceName=n,this.errors=r}return f(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ke(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new He(n,a,t);return o}}]),e}();function Ke(e,t){return e.replace(Ge,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ge=/\{\$([^}]+)}/g;function Qe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if($e(u)&&$e(s)){if(!Qe(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function $e(e){return null!==e&&"object"===typeof e}function Ye(e){for(var t=[],n=function(){var e=u(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Xe(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=u(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Je(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ze=function(){function e(t,n){var r=this;l(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return f(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=De(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=et),void 0===r.error&&(r.error=et),void 0===r.complete&&(r.complete=et);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function et(){}function tt(e){return e&&e._delegate?e._delegate:e}var nt=function(){function e(t,n,r){l(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return f(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),rt="[DEFAULT]",it=function(){function e(t,n){l(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return f(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Be;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:rt})}catch(l){}var t,n=De(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(s(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),s(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=De(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0],c=s[1],f=this.normalizeInstanceIdentifier(l);r===f&&c.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Sm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===rt?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Sm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt;return this.component?this.component.multipleInstances?e:rt:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var at,ot,ut=function(){function e(t){l(this,e),this.name=t,this.providers=new Map}return f(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new it(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),st=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ot||(ot={}));var lt={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},ct=ot.INFO,ft=(Ue(at={},ot.DEBUG,"log"),Ue(at,ot.VERBOSE,"log"),Ue(at,ot.INFO,"info"),Ue(at,ot.WARN,"warn"),Ue(at,ot.ERROR,"error"),at),ht=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ft[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},dt=function(){function e(t){l(this,e),this.name=t,this._logLevel=ct,this._logHandler=ht,this._userLogHandler=null,st.push(this)}return f(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ot))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?lt[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ot.DEBUG].concat(t)),this._logHandler.apply(this,[this,ot.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ot.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ot.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ot.INFO].concat(t)),this._logHandler.apply(this,[this,ot.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ot.WARN].concat(t)),this._logHandler.apply(this,[this,ot.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ot.ERROR].concat(t)),this._logHandler.apply(this,[this,ot.ERROR].concat(t))}}]),e}();function pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){Ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yt,mt;var gt=new WeakMap,kt=new WeakMap,bt=new WeakMap,wt=new WeakMap,_t=new WeakMap;var xt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return kt.get(e);if("objectStoreNames"===t)return e.objectStoreNames||bt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Tt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function St(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(mt||(mt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(It(this),n),Tt(gt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Tt(e.apply(It(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[It(this),t].concat(r));return bt.set(a,t.sort?t.sort():[t]),Tt(a)}}function Et(e){return"function"===typeof e?St(e):(e instanceof IDBTransaction&&function(e){if(!kt.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));kt.set(e,t)}}(e),t=e,(yt||(yt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,xt):e);var t}function Tt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Tt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&gt.set(t,e)})).catch((function(){})),_t.set(t,e),t}(e);if(wt.has(e))return wt.get(e);var t=Et(e);return t!==e&&(wt.set(e,t),_t.set(t,e)),t}var It=function(e){return _t.get(e)};var Ct,Nt,At=["get","getKey","getAll","getAllKeys","count"],Rt=["put","add","delete","clear"],Lt=new Map;function Dt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Lt.get(t))return Lt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Rt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||At.includes(n))){var a=function(){var e=Me(Oe().mark((function e(t){var a,o,u,s,l,c,f=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=f[c];return r&&(u=u.index(l.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,l),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Lt.set(t,a),a}}}xt=function(e){return vt(vt({},e),{},{get:function(t,n,r){return Dt(t,n)||e.get(t,n,r)},has:function(t,n){return!!Dt(t,n)||e.has(t,n)}})}(xt);var Ot=function(){function e(t){l(this,e),this.container=t}return f(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Pt="@firebase/app",Mt="0.7.33",Ut=new dt("@firebase/app"),Vt="[DEFAULT]",jt=(Ue(Ct={},Pt,"fire-core"),Ue(Ct,"@firebase/app-compat","fire-core-compat"),Ue(Ct,"@firebase/analytics","fire-analytics"),Ue(Ct,"@firebase/analytics-compat","fire-analytics-compat"),Ue(Ct,"@firebase/app-check","fire-app-check"),Ue(Ct,"@firebase/app-check-compat","fire-app-check-compat"),Ue(Ct,"@firebase/auth","fire-auth"),Ue(Ct,"@firebase/auth-compat","fire-auth-compat"),Ue(Ct,"@firebase/database","fire-rtdb"),Ue(Ct,"@firebase/database-compat","fire-rtdb-compat"),Ue(Ct,"@firebase/functions","fire-fn"),Ue(Ct,"@firebase/functions-compat","fire-fn-compat"),Ue(Ct,"@firebase/installations","fire-iid"),Ue(Ct,"@firebase/installations-compat","fire-iid-compat"),Ue(Ct,"@firebase/messaging","fire-fcm"),Ue(Ct,"@firebase/messaging-compat","fire-fcm-compat"),Ue(Ct,"@firebase/performance","fire-perf"),Ue(Ct,"@firebase/performance-compat","fire-perf-compat"),Ue(Ct,"@firebase/remote-config","fire-rc"),Ue(Ct,"@firebase/remote-config-compat","fire-rc-compat"),Ue(Ct,"@firebase/storage","fire-gcs"),Ue(Ct,"@firebase/storage-compat","fire-gcs-compat"),Ue(Ct,"@firebase/firestore","fire-fst"),Ue(Ct,"@firebase/firestore-compat","fire-fst-compat"),Ue(Ct,"fire-js","fire-js"),Ue(Ct,"firebase","fire-js-all"),Ct),Ft=new Map,zt=new Map;function Bt(e,t){try{e.container.addComponent(t)}catch(n){Ut.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function qt(e){var t=e.name;if(zt.has(t))return Ut.debug("There were multiple attempts to register component ".concat(t,".")),!1;zt.set(t,e);var n,r=De(Ft.values());try{for(r.s();!(n=r.n()).done;){Bt(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ht(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var Wt=(Ue(Nt={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Ue(Nt,"bad-app-name","Illegal App name: '{$appName}"),Ue(Nt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Ue(Nt,"app-deleted","Firebase App named '{$appName}' already deleted"),Ue(Nt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ue(Nt,"invalid-log-argument","First argument to `onLog` must be null or a function."),Ue(Nt,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),Ue(Nt,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),Ue(Nt,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),Ue(Nt,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),Nt),Kt=new We("app","Firebase",Wt),Gt=function(){function e(t,n,r){var i=this;l(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",(function(){return i}),"PUBLIC"))}return f(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Kt.create("app-deleted",{appName:this._name})}}]),e}(),Qt="9.10.0";function $t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=Ft.get(e);if(!t)throw Kt.create("no-app",{appName:e});return t}function Yt(e,t,n){var r,i=null!==(r=jt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Ut.warn(u.join(" "))}qt(new nt("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Xt="firebase-heartbeat-store",Jt=null;function Zt(){return Jt||(Jt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=Tt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(Tt(u.result),e.oldVersion,e.newVersion,Tt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Xt)}}).catch((function(e){throw Kt.create("idb-open",{originalErrorMessage:e.message})}))),Jt}function en(e){return tn.apply(this,arguments)}function tn(){return tn=Me(Oe().mark((function e(t){var n,r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Xt).objectStore(Xt).get(an(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof He?Ut.warn(e.t0.message):(i=Kt.create("idb-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message}),Ut.warn(i.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),tn.apply(this,arguments)}function nn(e,t){return rn.apply(this,arguments)}function rn(){return rn=Me(Oe().mark((function e(t,n){var r,i,a,o,u;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zt();case 3:return i=e.sent,a=i.transaction(Xt,"readwrite"),o=a.objectStore(Xt),e.next=8,o.put(n,an(t));case 8:return e.abrupt("return",a.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof He?Ut.warn(e.t0.message):(u=Kt.create("idb-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message}),Ut.warn(u.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rn.apply(this,arguments)}function an(e){return"".concat(e.name,"!").concat(e.options.appId)}var on=function(){function e(t){var n=this;l(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new cn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return f(e,[{key:"triggerHeartbeat",value:function(){var e=Me(Oe().mark((function e(){var t,n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=un(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Me(Oe().mark((function e(){var t,n,r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=un(),n=sn(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Fe(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function un(){return(new Date).toISOString().substring(0,10)}function sn(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=De(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ln,cn=function(){function e(t){l(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return f(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("object"===typeof indexedDB){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,en(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nn(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(s(r.heartbeats),s(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fn(e){return Fe(JSON.stringify({version:2,heartbeats:e})).length}ln="",qt(new nt("platform-logger",(function(e){return new Ot(e)}),"PRIVATE")),qt(new nt("heartbeat",(function(e){return new on(e)}),"PRIVATE")),Yt(Pt,Mt,ln),Yt(Pt,Mt,"esm2017"),Yt("fire-js","");function hn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var dn;Object.create;function pn(){return Ue({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var vn=pn,yn=new We("auth","Firebase",pn()),mn=new dt("@firebase/auth");function gn(e){if(mn.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mn.error.apply(mn,["Auth (".concat(Qt,"): ").concat(e)].concat(n))}}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw _n.apply(void 0,[e].concat(n))}function bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _n.apply(void 0,[e].concat(n))}function wn(e,t,n){var r=Object.assign(Object.assign({},vn()),Ue({},t,n));return new We("auth","Firebase",r).create(t,{appName:e.name})}function _n(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=s(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(s(o)))}return yn.create.apply(yn,[e].concat(n))}function xn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw _n.apply(void 0,[t].concat(r))}}function Sn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw gn(t),new Error(t)}function En(e,t){e||Sn(t)}var Tn=new Map;function In(e){En(e instanceof Function,"Expected a class definition");var t=Tn.get(e);return t?(En(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Tn.set(e,t),t)}function Cn(e,t){var n=Ht(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Qe(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;kn(r,"already-initialized")}return n.initialize({options:t})}function Nn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function An(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Ln(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(An()||function(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}var Dn=function(){function e(t,n){l(this,e),this.shortDelay=t,this.longDelay=n,En(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())||"object"===typeof navigator&&"ReactNative"===navigator.product}return f(e,[{key:"get",value:function(){return Ln()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}]),e}();function On(e,t){En(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Pn=function(){function e(){l(this,e)}return f(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Mn=(Ue(dn={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Ue(dn,"MISSING_CUSTOM_TOKEN","internal-error"),Ue(dn,"INVALID_IDENTIFIER","invalid-email"),Ue(dn,"MISSING_CONTINUE_URI","internal-error"),Ue(dn,"INVALID_PASSWORD","wrong-password"),Ue(dn,"MISSING_PASSWORD","internal-error"),Ue(dn,"EMAIL_EXISTS","email-already-in-use"),Ue(dn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Ue(dn,"INVALID_IDP_RESPONSE","invalid-credential"),Ue(dn,"INVALID_PENDING_TOKEN","invalid-credential"),Ue(dn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Ue(dn,"MISSING_REQ_TYPE","internal-error"),Ue(dn,"EMAIL_NOT_FOUND","user-not-found"),Ue(dn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Ue(dn,"EXPIRED_OOB_CODE","expired-action-code"),Ue(dn,"INVALID_OOB_CODE","invalid-action-code"),Ue(dn,"MISSING_OOB_CODE","internal-error"),Ue(dn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Ue(dn,"INVALID_ID_TOKEN","invalid-user-token"),Ue(dn,"TOKEN_EXPIRED","user-token-expired"),Ue(dn,"USER_NOT_FOUND","user-token-expired"),Ue(dn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Ue(dn,"INVALID_CODE","invalid-verification-code"),Ue(dn,"INVALID_SESSION_INFO","invalid-verification-id"),Ue(dn,"INVALID_TEMPORARY_PROOF","invalid-credential"),Ue(dn,"MISSING_SESSION_INFO","missing-verification-id"),Ue(dn,"SESSION_EXPIRED","code-expired"),Ue(dn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Ue(dn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Ue(dn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Ue(dn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Ue(dn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Ue(dn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Ue(dn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Ue(dn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Ue(dn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Ue(dn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Ue(dn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),dn),Un=new Dn(3e4,6e4);function Vn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function jn(e,t,n,r){return Fn.apply(this,arguments)}function Fn(){return Fn=Me(Oe().mark((function e(t,n,r,i){var a,o=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",zn(t,a,Me(Oe().mark((function e(){var a,o,u,s;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ye(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Pn.fetch()(Wn(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fn.apply(this,arguments)}function zn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return Bn=Me(Oe().mark((function e(t,n,r){var i,a,o,s,l,c,f,h,d,p;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Mn),n),e.prev=2,a=new Kn(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Gn(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(l=o.ok?s.errorMessage:s.error.message,c=l.split(" : "),f=u(c,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Gn(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==h){e.next=27;break}throw Gn(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==h){e.next=29;break}throw Gn(t,"user-disabled",s);case 29:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=34;break}throw wn(t,p,d);case 34:kn(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof He)){e.next=41;break}throw e.t0;case 41:kn(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Bn.apply(this,arguments)}function qn(e,t,n,r){return Hn.apply(this,arguments)}function Hn(){return Hn=Me(Oe().mark((function e(t,n,r,i){var a,o,u=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,jn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&kn(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Hn.apply(this,arguments)}function Wn(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?On(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Kn=function(){function e(t){var n=this;l(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bn(n.auth,"network-request-failed"))}),Un.get())}))}return f(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Gn(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bn(e,t,r);return i.customData._tokenResponse=n,i}function Qn(e,t){return $n.apply(this,arguments)}function $n(){return $n=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),$n.apply(this,arguments)}function Yn(e,t){return Xn.apply(this,arguments)}function Xn(){return Xn=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Xn.apply(this,arguments)}function Jn(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function Zn(){return Zn=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=tt(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,xn((a=tr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Jn(er(a.auth_time)),issuedAtTime:Jn(er(a.iat)),expirationTime:Jn(er(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Zn.apply(this,arguments)}function er(e){return 1e3*Number(e)}function tr(e){var t,n=u(e.split("."),3),r=n[0],i=n[1],a=n[2];if(void 0===r||void 0===i||void 0===a)return gn("JWT malformed, contained fewer than 3 sections"),null;try{var o=ze(i);return o?JSON.parse(o):(gn("Failed to decode base64 JWT payload"),null)}catch(s){return gn("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function nr(e,t){return rr.apply(this,arguments)}function rr(){return rr=Me(Oe().mark((function e(t,n){var r=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof He&&ir(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),rr.apply(this,arguments)}function ir(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ar=function(){function e(t){l(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return f(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Me(Oe().mark((function t(){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),or=function(){function e(t,n){l(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return f(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Jn(this.lastLoginAt),this.creationTime=Jn(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ur(e){return sr.apply(this,arguments)}function sr(){return sr=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s,l,c,f,h;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,nr(t,Yn(r,{idToken:i}));case 6:xn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?fr(o.providerUserInfo):[],s=cr(t.providerData,u),l=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!l&&c,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new or(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}function lr(){return(lr=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tt(t),e.next=3,ur(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(s(n),s(t))}function fr(e){return e.map((function(e){var t=e.providerId,n=hn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function hr(e,t){return dr.apply(this,arguments)}function dr(){return dr=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zn(t,{},Me(Oe().mark((function e(){var r,i,a,o,u,s;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ye({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wn(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Pn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),dr.apply(this,arguments)}var pr=function(){function e(){l(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return f(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){xn(e.idToken,"internal-error"),xn("undefined"!==typeof e.idToken,"internal-error"),xn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=tr(e);return xn(t,"internal-error"),xn("undefined"!==typeof t.exp,"internal-error"),xn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Me(Oe().mark((function e(t){var n,r=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],xn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Me(Oe().mark((function e(t,n){var r,i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hr(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Sn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(xn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(xn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(xn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function vr(e,t){xn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var yr=function(){function e(t){l(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=hn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ar(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?s(a.providerData):[],this.metadata=new or(a.createdAt||void 0,a.lastLoginAt||void 0)}return f(e,[{key:"getIdToken",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(xn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Zn.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return lr.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Me(Oe().mark((function e(t){var n,r,i=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ur(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,nr(this,Qn(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,l,c,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(l=n.createdAt)&&void 0!==l?l:void 0,g=null!==(c=n.lastLoginAt)&&void 0!==c?c:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,_=n.providerData,x=n.stsTokenManager;xn(k&&x,t,"internal-error");var S=pr.fromJSON(this.name,x);xn("string"===typeof k,t,"internal-error"),vr(f,t.name),vr(h,t.name),xn("boolean"===typeof b,t,"internal-error"),xn("boolean"===typeof w,t,"internal-error"),vr(d,t.name),vr(p,t.name),vr(v,t.name),vr(y,t.name),vr(m,t.name),vr(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return _&&Array.isArray(_)&&(E.providerData=_.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=Me(Oe().mark((function t(n,r){var i,a,o,u=arguments;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new pr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ur(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),mr=function(){function e(){l(this,e),this.type="NONE",this.storage={}}return f(e,[{key:"_isAvailable",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();mr.type="NONE";var gr=mr;function kr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var br=function(){function e(t,n,r){l(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=kr(this.userKey,a.apiKey,o),this.fullPersistenceKey=kr("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return f(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?yr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Me(Oe().mark((function t(n,r){var i,a,o,u,s,l,c,f,h,d,p,v=arguments;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(In(gr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||In(gr),u=kr(i,n.config.apiKey,n.name),s=null,l=De(r),t.prev=10,l.s();case 12:if((c=l.n()).done){t.next=29;break}return f=c.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=yr._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function wr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Er(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_r(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(Cr(t))return"Webos";if(xr(t))return"Safari";if((t.includes("chrome/")||Sr(t))&&!t.includes("edge/"))return"Chrome";if(Tr(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/firefox\//i.test(e)}function xr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Sr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/crios\//i.test(e)}function Er(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iemobile/i.test(e)}function Tr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/android/i.test(e)}function Ir(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/blackberry/i.test(e)}function Cr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/webos/i.test(e)}function Nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ar(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Nr(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Rr(){return function(){var e=qe();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Lr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe();return Nr(e)||Tr(e)||Cr(e)||Ir(e)||/windows phone/i.test(e)||Er(e)}function Dr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=wr(qe());break;case"Worker":t="".concat(wr(qe()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Qt,"/").concat(r)}var Or=function(){function e(t){l(this,e),this.auth=t,this.queue=[]}return f(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s,l;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=De(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=De(r);try{for(u.s();!(s=u.n()).done;){l=s.value;try{l()}catch(c){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Pr=function(){function e(t,n,r){l(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ur(this),this.idTokenSubscription=new Ur(this),this.beforeStateQueue=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return f(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=In(t)),this._initializationPromise=this.queue(Me(Oe().mark((function r(){var i,a;return Oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,br.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return xn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ur(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?tt(t):null)&&xn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Me(Oe().mark((function e(t){var n,r=this,i=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&xn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Me(Oe().mark((function n(){return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(In(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new We("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return xn(n=t&&In(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,br.create(this,[In(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Me(Oe().mark((function e(t){var n=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return xn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Me(Oe().mark((function e(){var t,n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ue({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mr(e){return tt(e)}var Ur=function(){function e(t){var n=this;l(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ze(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return f(e,[{key:"next",get:function(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();var Vr=function(){function e(t,n){l(this,e),this.providerId=t,this.signInMethod=n}return f(e,[{key:"toJSON",value:function(){return Sn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Sn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Sn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Sn("not implemented")}}]),e}();function jr(e,t){return Fr.apply(this,arguments)}function Fr(){return Fr=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Fr.apply(this,arguments)}function zr(e,t){return Br.apply(this,arguments)}function Br(){return Br=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithPassword",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Br.apply(this,arguments)}function qr(e,t){return Hr.apply(this,arguments)}function Hr(){return Hr=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithEmailLink",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hr.apply(this,arguments)}function Wr(e,t){return Kr.apply(this,arguments)}function Kr(){return Kr=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithEmailLink",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kr.apply(this,arguments)}var Gr=function(e){d(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return l(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return f(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",zr(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",qr(t,{email:this._email,oobCode:this._password}));case 5:kn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",jr(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Wr(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:kn(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Vr);function Qr(e,t){return $r.apply(this,arguments)}function $r(){return $r=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithIdp",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),$r.apply(this,arguments)}var Yr=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return f(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Qr(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Qr(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ye(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kn("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=hn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Vr);function Xr(e,t){return Jr.apply(this,arguments)}function Jr(){return Jr=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",jn(t,"POST","/v1/accounts:sendVerificationCode",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jr.apply(this,arguments)}function Zr(){return Zr=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),Zr.apply(this,arguments)}function ei(){return ei=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Vn(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Gn(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ei.apply(this,arguments)}var ti=Ue({},"USER_NOT_FOUND","user-not-found");function ni(){return ni=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",qn(t,"POST","/v1/accounts:signInWithPhoneNumber",Vn(t,r),ti));case 2:case"end":return e.stop()}}),e)}))),ni.apply(this,arguments)}var ri=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone","phone")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Zr.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ei.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ni.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Vr);var ii=function(){function e(t){var n,r,i,a,o,u;l(this,e);var s=Xe(Je(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);xn(c&&f&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=f,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return f(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Xe(Je(e)).link,n=t?Xe(Je(t)).deep_link_id:null,r=Xe(Je(e)).deep_link_id;return(r?Xe(Je(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Sm){return null}}}]),e}();var ai=function(){function e(){l(this,e),this.providerId=e.PROVIDER_ID}return f(e,null,[{key:"credential",value:function(e,t){return Gr._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ii.parseLink(t);return xn(n,"argument-error"),Gr._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();ai.PROVIDER_ID="password",ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var oi=function(){function e(t){l(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return f(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),ui=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments)).scopes=[],e}return f(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return s(this.scopes)}}]),n}(oi),si=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"facebook.com")}return f(n,null,[{key:"credential",value:function(e){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sm){return null}}}]),n}(ui);si.FACEBOOK_SIGN_IN_METHOD="facebook.com",si.PROVIDER_ID="facebook.com";var li=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return f(n,null,[{key:"credential",value:function(e,t){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Sm){return null}}}]),n}(ui);li.GOOGLE_SIGN_IN_METHOD="google.com",li.PROVIDER_ID="google.com";var ci=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"github.com")}return f(n,null,[{key:"credential",value:function(e){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Sm){return null}}}]),n}(ui);ci.GITHUB_SIGN_IN_METHOD="github.com",ci.PROVIDER_ID="github.com";var fi=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,"twitter.com")}return f(n,null,[{key:"credential",value:function(e,t){return Yr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Sm){return null}}}]),n}(ui);function hi(e,t){return di.apply(this,arguments)}function di(){return di=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qn(t,"POST","/v1/accounts:signUp",Vn(t,n)));case 1:case"end":return e.stop()}}),e)}))),di.apply(this,arguments)}fi.TWITTER_SIGN_IN_METHOD="twitter.com",fi.PROVIDER_ID="twitter.com";var pi=function(){function e(t){l(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return f(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Me(Oe().mark((function t(n,r,i){var a,o,u,s,l=arguments;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=l.length>3&&void 0!==l[3]&&l[3],t.next=3,yr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=vi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Me(Oe().mark((function t(n,r,i){var a;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=vi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function vi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var yi=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o,u;return l(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(m(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return f(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(He);function mi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw yi._fromErrorAndOperation(e,n,t,r);throw n}))}function gi(e,t){return ki.apply(this,arguments)}function ki(){return ki=Me(Oe().mark((function e(t,n){var r,i,a=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=nr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",pi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ki.apply(this,arguments)}function bi(e,t){return wi.apply(this,arguments)}function wi(){return wi=Me(Oe().mark((function e(t,n){var r,i,a,o,u,s,l,c=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,nr(t,mi(a,o,n,t),r);case 6:return xn((u=e.sent).idToken,a,"internal-error"),xn(s=tr(u.idToken),a,"internal-error"),l=s.sub,xn(t.uid===l,a,"user-mismatch"),e.abrupt("return",pi._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&kn(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),wi.apply(this,arguments)}function _i(e,t){return xi.apply(this,arguments)}function xi(){return xi=Me(Oe().mark((function e(t,n){var r,i,a,o,u=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,mi(t,i,n);case 4:return a=e.sent,e.next=7,pi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xi.apply(this,arguments)}function Si(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_i(Mr(t),n));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}function Ti(){return Ti=Me(Oe().mark((function e(t,n,r){var i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t),e.next=3,hi(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,pi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Ti.apply(this,arguments)}function Ii(e,t,n){return Si(tt(e),ai.credential(t,n))}function Ci(e){return tt(e).signOut()}function Ni(e,t){return jn(e,"POST","/v2/accounts/mfaEnrollment:start",Vn(e,t))}new WeakMap;var Ai="__sak",Ri=function(){function e(t,n){l(this,e),this.storageRetriever=t,this.type=n}return f(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Ai,"1"),this.storage.removeItem(Ai),Promise.resolve(!0)):Promise.resolve(!1)}catch(Sm){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Li=function(e){d(n,e);var t=k(n);function n(){var e;return l(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=qe();return xr(e)||Nr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Lr(),e._shouldAllowMigration=!0,e}return f(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Rr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Me(Oe().mark((function e(t,r){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(p(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Me(Oe().mark((function e(t){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(p(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le(p(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(Ri);Li.type="LOCAL";var Di=Li,Oi=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return f(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(Ri);Oi.type="SESSION";var Pi=Oi;function Mi(e){return Promise.all(e.map(function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ui=function(){function e(t){l(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return f(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s,l;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Mi(s);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Vi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ui.receivers=[];var ji=function(){function e(t){l(this,e),this.target=t,this.handlers=new Set}return f(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Me(Oe().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var l=Vi("",20);i.port1.start();var c=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===l)switch(n.data.status){case"ack":clearTimeout(c),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(c),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:l,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Fi(){return window}function zi(){return"undefined"!==typeof Fi().WorkerGlobalScope&&"function"===typeof Fi().importScripts}function Bi(){return qi.apply(this,arguments)}function qi(){return(qi=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Hi(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Wi="firebaseLocalStorageDb",Ki="firebaseLocalStorage",Gi="fbase_key",Qi=function(){function e(t){l(this,e),this.request=t}return f(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $i(e,t){return e.transaction([Ki],t?"readwrite":"readonly").objectStore(Ki)}function Yi(){var e=indexedDB.deleteDatabase(Wi);return new Qi(e).toPromise()}function Xi(){var e=indexedDB.open(Wi,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Ki,{keyPath:Gi})}catch(r){n(r)}})),e.addEventListener("success",Me(Oe().mark((function n(){var r;return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Ki)){n.next=12;break}return r.close(),n.next=5,Yi();case 5:return n.t0=t,n.next=8,Xi();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Ji(e,t,n){return Zi.apply(this,arguments)}function Zi(){return Zi=Me(Oe().mark((function e(t,n,r){var i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=$i(t,!0).put((Ue(i={},Gi,n),Ue(i,"value",r),i)),e.abrupt("return",new Qi(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Zi.apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$i(t,!1).get(n),e.next=3,new Qi(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){var n=$i(e,!0).delete(t);return new Qi(n).toPromise()}var ra=function(){function e(){l(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return f(e,[{key:"_openDb",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Xi();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zi()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Me(Oe().mark((function e(){var t=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ui._getInstance(zi()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Me(Oe().mark((function e(n,r){var i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Me(Oe().mark((function e(){var t,n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bi();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new ji(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Hi()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Xi();case 5:return t=e.sent,e.next=8,Ji(t,Ai,"1");case 8:return e.next=10,na(t,Ai);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Me(Oe().mark((function e(t,n){var r=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Ji(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return ea(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Me(Oe().mark((function e(t){var n=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return na(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Me(Oe().mark((function e(){var t,n,r,i,a,o,u,s,l,c,f;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$i(e,!1).getAll();return new Qi(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=De(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(l=0,c=Object.keys(this.localCache);l<c.length;l++)f=c[l],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Me(Oe().mark((function t(){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();ra.type="LOCAL";var ia=ra;function aa(e,t){return jn(e,"POST","/v2/accounts/mfaSignIn:start",Vn(e,t))}function oa(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function ua(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}ua("rcb"),new Dn(3e4,6e4);var sa="recaptcha";function la(e,t,n){return ca.apply(this,arguments)}function ca(){return ca=Me(Oe().mark((function e(t,n,r){var i,a,o,u,s,l,c,f,h;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,xn("string"===typeof a,t,"argument-error"),xn(r.type===sa,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return xn("enroll"===u.type,t,"internal-error"),e.next=13,Ni(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return xn("signin"===u.type,t,"internal-error"),xn(l=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aa(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:a}});case 22:return c=e.sent,e.abrupt("return",c.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Xr(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),ca.apply(this,arguments)}var fa=function(){function e(t){l(this,e),this.providerId=e.PROVIDER_ID,this.auth=Mr(t)}return f(e,[{key:"verifyPhoneNumber",value:function(e,t){return la(this.auth,e,tt(t))}}],[{key:"credential",value:function(e,t){return ri._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?ri._fromTokenResponse(n,r):null}}]),e}();function ha(e,t){return t?In(t):(xn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fa.PROVIDER_ID="phone",fa.PHONE_SIGN_IN_METHOD="phone";var da=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"custom","custom")).params=e,r}return f(n,[{key:"_getIdTokenResponse",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Qr(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Qr(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Vr);function pa(e){return _i(e.auth,new da(e),e.bypassAuthState)}function va(e){var t=e.auth,n=e.user;return xn(n,t,"internal-error"),bi(n,new da(e),e.bypassAuthState)}function ya(e){return ma.apply(this,arguments)}function ma(){return ma=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,xn(r=t.user,n,"internal-error"),e.abrupt("return",gi(r,new da(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),ma.apply(this,arguments)}var ga=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];l(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return f(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Me(Oe().mark((function t(n,r){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Me(Oe().mark((function e(t){var n,r,i,a,o,u,s;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pa;case"linkViaPopup":case"linkViaRedirect":return ya;case"reauthViaPopup":case"reauthViaRedirect":return va;default:kn(this.auth,"internal-error")}}},{key:"resolve",value:function(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){En(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),ka=new Dn(2e3,1e4);var ba=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o){var u;return l(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=m(u),u}return f(n,[{key:"executeNotNull",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return xn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Me(Oe().mark((function e(){var t,n=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return En(1===this.filter.length,"Popup operations only handle one event"),t=Vi(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,ka.get())}()}}]),n}(ga);ba.currentPopupAction=null;var wa=new Map,_a=function(e){d(n,e);var t=k(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return l(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return f(n,[{key:"execute",value:function(){var e=Me(Oe().mark((function e(){var t,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=wa.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,xa(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Le(p(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:wa.set(this.auth._key(),t);case 21:return this.bypassAuthState||wa.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Me(Oe().mark((function e(t){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Le(p(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Le(p(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(ga);function xa(e,t){return Sa.apply(this,arguments)}function Sa(){return Sa=Me(Oe().mark((function e(t,n){var r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ia(n),i=Ta(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ea(e,t){wa.set(e._key(),t)}function Ta(e){return In(e._redirectPersistence)}function Ia(e){return kr("pendingRedirect",e.config.apiKey,e.name)}function Ca(e,t){return Na.apply(this,arguments)}function Na(){return Na=Me(Oe().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Mr(t),a=ha(i,n),o=new _a(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}var Aa=function(){function e(t){l(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return f(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return La(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!La(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ra(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ra(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ra(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function La(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Da(e){return Oa.apply(this,arguments)}function Oa(){return Oa=Me(Oe().mark((function e(t){var n,r=arguments;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",jn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Oa.apply(this,arguments)}var Pa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ma=/^https?/;function Ua(){return Ua=Me(Oe().mark((function e(t){var n,r,i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Da(t);case 4:n=e.sent,r=n.authorizedDomains,i=De(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Va(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:kn(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Ua.apply(this,arguments)}function Va(e){var t=Nn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Ma.test(r))return!1;if(Pa.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var ja=new Dn(3e4,6e4);function Fa(){var e=Fi().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=s(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var za=null;function Ba(e){return za=za||function(e){return new Promise((function(t,n){var r,i,a;function o(){Fa(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Fa(),n(bn(e,"network-request-failed"))},timeout:ja.get()})}if(null===(i=null===(r=Fi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Fi().gapi)||void 0===a?void 0:a.load)){var u=ua("iframefcb");return Fi()[u]=function(){gapi.load?o():n(bn(e,"network-request-failed"))},oa("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw za=null,e}))}(e),za}var qa=new Dn(5e3,15e3),Ha={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Wa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ka(e){var t=e.config;xn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?On(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Qt},i=Wa.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ye(r).slice(1))}function Ga(e){return Qa.apply(this,arguments)}function Qa(){return Qa=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ba(t);case 2:return n=e.sent,xn(r=Fi().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:Ka(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ha,dontclear:!0},(function(e){return new Promise(function(){var n=Me(Oe().mark((function n(r,i){var a,o,u;return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Fi().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bn(t,"network-request-failed"),o=Fi().setTimeout((function(){i(a)}),qa.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),Qa.apply(this,arguments)}var $a={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ya="_blank",Xa="http://localhost",Ja=function(){function e(t){l(this,e),this.window=t,this.associatedEvent=null}return f(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Za(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",l=Object.assign(Object.assign({},$a),{width:r.toString(),height:i.toString(),top:a,left:o}),c=qe().toLowerCase();n&&(s=Sr(c)?Ya:n),_r(c)&&(t=t||Xa,l.scrollbars="yes");var f=Object.entries(l).reduce((function(e,t){var n=u(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ar(c)&&"_self"!==s)return eo(t||"",s),new Ja(null);var h=window.open(t||"",s,f);xn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Ja(h)}function eo(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var to="__/auth/handler",no="emulator/auth/handler";function ro(e,t,n,r,i,a){xn(e.config.authDomain,e,"auth-domain-config-required"),xn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qt,eventId:i};if(t instanceof oi){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,l=Object.entries(a||{});s<l.length;s++){var c=u(l[s],2),f=c[0],h=c[1];o[f]=h}}if(t instanceof ui){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(to);return On(t,no)}(e),"?").concat(Ye(p).slice(1))}var io="webStorageSupport",ao=function(){function e(){l(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pi,this._completeRedirectFn=Ca,this._overrideRedirectResult=Ea}return f(e,[{key:"_openPopup",value:function(){var e=Me(Oe().mark((function e(t,n,r,i){var a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return En(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ro(t,n,r,Nn(),i),e.abrupt("return",Za(t,o,Vi()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Me(Oe().mark((function e(t,n,r,i){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ro(t,n,r,Nn(),i),Fi().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(En(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ga(t);case 2:return n=e.sent,r=new Aa(t),n.register("authEvent",(function(e){return xn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(io,{type:io},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),kn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ua.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Lr()||xr()||Nr()}}]),e}(),oo=ao,uo=function(){function e(t){l(this,e),this.factorId=t}return f(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Sn("unexpected MultiFactorSessionType")}}}]),e}(),so=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,"phone")).credential=e,r}return f(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return jn(e,"POST","/v2/accounts/mfaEnrollment:finalize",Vn(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return jn(e,"POST","/v2/accounts/mfaSignIn:finalize",Vn(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(uo);(function(){function e(){l(this,e)}return f(e,null,[{key:"assertion",value:function(e){return so._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var lo,co="@firebase/auth",fo="0.20.7",ho=function(){function e(t){l(this,e),this.auth=t,this.internalListeners=new Map}return f(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();lo="Browser",qt(new nt("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){xn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),xn(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:lo,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dr(lo)},i=new Pr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(In);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),qt(new nt("auth-internal",(function(e){return function(e){return new ho(e)}(Mr(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Yt(co,fo,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(lo)),Yt(co,fo,"esm2017");Yt("firebase","9.10.0","app");var po,vo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},yo={},mo=mo||{},go=vo||self;function ko(){}function bo(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function wo(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var _o="closure_uid_"+(1e9*Math.random()>>>0),xo=0;function So(e,t,n){return e.call.apply(e.bind,arguments)}function Eo(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function To(e,t,n){return(To=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?So:Eo).apply(null,arguments)}function Io(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Co(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function No(){this.s=this.s,this.o=this.o}var Ao={};No.prototype.s=!1,No.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,_o)&&e[_o]||(e[_o]=++xo)}(this);delete Ao[e]}},No.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ro=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Lo(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Do(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(bo(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function Oo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Oo.prototype.h=function(){this.defaultPrevented=!0};var Po=function(){if(!go.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{go.addEventListener("test",ko,t),go.removeEventListener("test",ko,t)}catch(n){}return e}();function Mo(e){return/^[\s\xa0]*$/.test(e)}var Uo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Vo(e,t){return e<t?-1:e>t?1:0}function jo(){var e=go.navigator;return e&&(e=e.userAgent)?e:""}function Fo(e){return-1!=jo().indexOf(e)}function zo(e){return zo[" "](e),e}zo[" "]=ko;var Bo,qo=Fo("Opera"),Ho=Fo("Trident")||Fo("MSIE"),Wo=Fo("Edge"),Ko=Wo||Ho,Go=Fo("Gecko")&&!(-1!=jo().toLowerCase().indexOf("webkit")&&!Fo("Edge"))&&!(Fo("Trident")||Fo("MSIE"))&&!Fo("Edge"),Qo=-1!=jo().toLowerCase().indexOf("webkit")&&!Fo("Edge");function $o(){var e=go.document;return e?e.documentMode:void 0}e:{var Yo="",Xo=function(){var e=jo();return Go?/rv:([^\);]+)(\)|;)/.exec(e):Wo?/Edge\/([\d\.]+)/.exec(e):Ho?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qo?/WebKit\/(\S+)/.exec(e):qo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Xo&&(Yo=Xo?Xo[1]:""),Ho){var Jo=$o();if(null!=Jo&&Jo>parseFloat(Yo)){Bo=String(Jo);break e}}Bo=Yo}var Zo,eu={};function tu(){return function(e){var t=eu;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Uo(String(Bo)).split("."),n=Uo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vo(0==a[2].length,0==o[2].length)||Vo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(go.document&&Ho){var nu=$o();Zo=nu||(parseInt(Bo,10)||void 0)}else Zo=void 0;var ru=Zo;function iu(e,t){if(Oo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Go){e:{try{zo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:au[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&iu.X.h.call(this)}}Co(iu,Oo);var au={2:"touch",3:"pen",4:"mouse"};iu.prototype.h=function(){iu.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ou="closure_listenable_"+(1e6*Math.random()|0),uu=0;function su(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++uu,this.ba=this.ea=!1}function lu(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function cu(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function fu(e){var t={};for(var n in e)t[n]=e[n];return t}var hu="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function du(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<hu.length;a++)n=hu[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function pu(e){this.src=e,this.g={},this.h=0}function vu(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ro(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(lu(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function yu(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}pu.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=yu(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new su(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var mu="closure_lm_"+(1e6*Math.random()|0),gu={};function ku(e,t,n,r,i){if(r&&r.once)return wu(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ku(e,t[a],n,r,i);return null}return n=Cu(n),e&&e[ou]?e.N(t,n,wo(r)?!!r.capture:!!r,i):bu(e,t,n,!1,r,i)}function bu(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=wo(i)?!!i.capture:!!i,u=Tu(e);if(u||(e[mu]=u=new pu(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Eu;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Po||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Su(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function wu(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)wu(e,t[a],n,r,i);return null}return n=Cu(n),e&&e[ou]?e.O(t,n,wo(r)?!!r.capture:!!r,i):bu(e,t,n,!0,r,i)}function _u(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)_u(e,t[a],n,r,i);else r=wo(r)?!!r.capture:!!r,n=Cu(n),e&&e[ou]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=yu(a=e.g[t],n,r,i))&&(lu(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Tu(e))&&(t=e.g[t.toString()],e=-1,t&&(e=yu(t,n,r,i)),(n=-1<e?t[e]:null)&&xu(n))}function xu(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[ou])vu(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Su(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Tu(t))?(vu(n,e),0==n.h&&(n.src=null,t[mu]=null)):lu(e)}}}function Su(e){return e in gu?gu[e]:gu[e]="on"+e}function Eu(e,t){if(e.ba)e=!0;else{t=new iu(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&xu(e),e=n.call(r,t)}return e}function Tu(e){return(e=e[mu])instanceof pu?e:null}var Iu="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(e){return"function"===typeof e?e:(e[Iu]||(e[Iu]=function(t){return e.handleEvent(t)}),e[Iu])}function Nu(){No.call(this),this.i=new pu(this),this.P=this,this.I=null}function Au(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Oo(t,e);else if(t instanceof Oo)t.target=t.target||e;else{var i=t;du(t=new Oo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ru(o,r,!0,t)&&i}if(i=Ru(o=t.g=e,r,!0,t)&&i,i=Ru(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ru(o=t.g=n[a],r,!1,t)&&i}function Ru(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var u=o.listener,s=o.ha||o.src;o.ea&&vu(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Co(Nu,No),Nu.prototype[ou]=!0,Nu.prototype.removeEventListener=function(e,t,n,r){_u(this,e,t,n,r)},Nu.prototype.M=function(){if(Nu.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lu(n[r]);delete t.g[e],t.h--}}this.I=null},Nu.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Nu.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Lu=go.JSON.stringify;function Du(){var e=zu,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ou,Pu=function(){function e(){l(this,e),this.h=this.g=null}return f(e,[{key:"add",value:function(e,t){var n=Mu.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Mu=new(function(){function e(t,n){l(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return f(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Uu}),(function(e){return e.reset()})),Uu=function(){function e(){l(this,e),this.next=this.g=this.h=null}return f(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Vu(e){go.setTimeout((function(){throw e}),0)}function ju(e,t){Ou||function(){var e=go.Promise.resolve(void 0);Ou=function(){e.then(Bu)}}(),Fu||(Ou(),Fu=!0),zu.add(e,t)}var Fu=!1,zu=new Pu;function Bu(){for(var e;e=Du();){try{e.h.call(e.g)}catch(n){Vu(n)}var t=Mu;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fu=!1}function qu(e,t){Nu.call(this),this.h=e||1,this.g=t||go,this.j=To(this.kb,this),this.l=Date.now()}function Hu(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function Wu(e,t,n){if("function"===typeof e)n&&(e=To(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=To(e.handleEvent,e)}return 2147483647<Number(t)?-1:go.setTimeout(e,t||0)}function Ku(e){e.g=Wu((function(){e.g=null,e.i&&(e.i=!1,Ku(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Co(qu,Nu),(po=qu.prototype).ca=!1,po.R=null,po.kb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Au(this,"tick"),this.ca&&(Hu(this),this.start()))}},po.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},po.M=function(){qu.X.M.call(this),Hu(this),delete this.g};var Gu=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return f(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Ku(this)}},{key:"M",value:function(){Le(p(n.prototype),"M",this).call(this),this.g&&(go.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(No);function Qu(e){No.call(this),this.h=e,this.g={}}Co(Qu,No);var $u=[];function Yu(e,t,n,r){Array.isArray(n)||(n&&($u[0]=n.toString()),n=$u);for(var i=0;i<n.length;i++){var a=ku(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Xu(e){cu(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xu(e)}),e),e.g={}}function Ju(){this.g=!0}function Zu(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Lu(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Qu.prototype.M=function(){Qu.X.M.call(this),Xu(this)},Qu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ju.prototype.Aa=function(){this.g=!1},Ju.prototype.info=function(){};var es={},ts=null;function ns(){return ts=ts||new Nu}function rs(e){Oo.call(this,es.Oa,e)}function is(e){var t=ns();Au(t,new rs(t,e))}function as(e,t){Oo.call(this,es.STAT_EVENT,e),this.stat=t}function os(e){var t=ns();Au(t,new as(t,e))}function us(e,t){Oo.call(this,es.Pa,e),this.size=t}function ss(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return go.setTimeout((function(){e()}),t)}es.Oa="serverreachability",Co(rs,Oo),es.STAT_EVENT="statevent",Co(as,Oo),es.Pa="timingevent",Co(us,Oo);var ls={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},cs={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fs(){}function hs(e){return e.h||(e.h=e.i())}function ds(){}fs.prototype.h=null;var ps,vs={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function ys(){Oo.call(this,"d")}function ms(){Oo.call(this,"c")}function gs(){}function ks(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new Qu(this),this.O=ws,e=Ko?125:void 0,this.T=new qu(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new bs}function bs(){this.i=null,this.g="",this.h=!1}Co(ys,Oo),Co(ms,Oo),Co(gs,fs),gs.prototype.g=function(){return new XMLHttpRequest},gs.prototype.i=function(){return{}},ps=new gs;var ws=45e3,_s={},xs={};function Ss(e,t,n){e.K=1,e.v=qs(Vs(t)),e.s=n,e.P=!0,Es(e,null)}function Es(e,t){e.F=Date.now(),Ns(e),e.A=Vs(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),nl(n.i,"t",r),e.C=0,n=e.l.H,e.h=new bs,e.g=rc(e.l,n?t:null,!e.s),0<e.N&&(e.L=new Gu(To(e.Ka,e,e.g),e.N)),Yu(e.S,e.g,"readystatechange",e.hb),t=e.H?fu(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),is(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function Ts(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function Is(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Cs(e,n))==xs){4==t&&(e.o=4,os(14),i=!1),Zu(e.j,e.m,null,"[Incomplete Response]");break}if(r==_s){e.o=4,os(15),Zu(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Zu(e.j,e.m,r,null),Os(e,r)}Ts(e)&&r!=xs&&r!=_s&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,os(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),$l(t),t.K=!0,os(11))):(Zu(e.j,e.m,n,"[Invalid Chunked Response]"),Ds(e),Ls(e))}function Cs(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?xs:(n=Number(t.substring(n,r)),isNaN(n)?_s:(r+=1)+n>t.length?xs:(t=t.substr(r,n),e.C=r+n,t))}function Ns(e){e.V=Date.now()+e.O,As(e,e.O)}function As(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ss(To(e.fb,e),t)}function Rs(e){e.B&&(go.clearTimeout(e.B),e.B=null)}function Ls(e){0==e.l.G||e.I||Jl(e.l,e)}function Ds(e){Rs(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Hu(e.T),Xu(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Os(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||cl(n.h,e)))if(!e.J&&cl(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Xl(n),zl(n)}Ql(n),os(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=ss(To(n.bb,n),6e3));if(1>=ll(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else ec(n,11)}else if((e.J||n.g==e)&&Xl(n),!Mo(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var u=a[4];null!=u&&(n.Ca=u,n.j.info("SVER="+n.Ca));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.h;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(fl(f,f.h),f.h=null))}if(r.D){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,Bs(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=nc(r,r.H?r.ka:null,r.V),d.J){hl(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(Rs(p),Ns(p)),r.g=d}else Gl(r);0<n.i.length&&ql(n)}else"stop"!=a[0]&&"close"!=a[0]||ec(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ec(n,7):Fl(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}is(4)}catch(a){}}function Ps(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(bo(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(bo(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(bo(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(po=ks.prototype).setTimeout=function(e){this.O=e},po.hb=function(e){e=e.target;var t=this.L;t&&3==Ol(e)?t.l():this.Ka(e)},po.Ka=function(e){try{if(e==this.g)e:{var t=Ol(this.g),n=this.g.Ea(),r=this.g.aa();if(!(3>t)&&(3!=t||Ko||this.g&&(this.h.h||this.g.fa()||Pl(this.g)))){this.I||4!=t||7==n||is(8==n||0>=r?3:2),Rs(this);var i=this.g.aa();this.Y=i;t:if(Ts(this)){var a=Pl(this.g);e="";var o=a.length,u=4==Ol(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ds(this),Ls(this);var s="";break t}this.h.i=new go.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,i),this.i){if(this.Z&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Mo(l)){var f=l;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,os(12),Ds(this),Ls(this);break e}Zu(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Os(this,i)}this.P?(Is(this,t,s),Ko&&this.i&&3==t&&(Yu(this.S,this.T,"tick",this.gb),this.T.start())):(Zu(this.j,this.m,s,null),Os(this,s)),4==t&&Ds(this),this.i&&!this.I&&(4==t?Jl(this.l,this):(this.i=!1,Ns(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,os(12)):(this.o=0,os(13)),Ds(this),Ls(this)}}}catch(t){}},po.gb=function(){if(this.g){var e=Ol(this.g),t=this.g.fa();this.C<t.length&&(Rs(this),Is(this,e,t),this.i&&4!=e&&Ns(this))}},po.cancel=function(){this.I=!0,Ds(this)},po.fb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(is(3),os(17)),Ds(this),this.o=2,Ls(this)):As(this,this.V-e)};var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Us){this.h=void 0!==t?t:e.h,js(this,e.j),this.s=e.s,this.g=e.g,Fs(this,e.m),this.l=e.l,t=e.i;var n=new Js;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),zs(this,n),this.o=e.o}else e&&(n=String(e).match(Ms))?(this.h=!!t,js(this,n[1]||"",!0),this.s=Hs(n[2]||""),this.g=Hs(n[3]||"",!0),Fs(this,n[4]),this.l=Hs(n[5]||"",!0),zs(this,n[6]||"",!0),this.o=Hs(n[7]||"")):(this.h=!!t,this.i=new Js(null,this.h))}function Vs(e){return new Us(e)}function js(e,t,n){e.j=n?Hs(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fs(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function zs(e,t,n){t instanceof Js?(e.i=t,function(e,t){t&&!e.j&&(Zs(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(el(this,t),nl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Ws(t,Ys)),e.i=new Js(t,e.h))}function Bs(e,t,n){e.i.set(t,n)}function qs(e){return Bs(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Hs(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ws(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ks),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ks(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Us.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ws(t,Gs,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ws(t,Gs,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ws(n,"/"==n.charAt(0)?$s:Qs,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ws(n,Xs)),e.join("")};var Gs=/[#\/\?@]/g,Qs=/[#\?:]/g,$s=/[#\?]/g,Ys=/[#\?@]/g,Xs=/#/g;function Js(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Zs(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function el(e,t){Zs(e),t=rl(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function tl(e,t){return Zs(e),t=rl(e,t),e.g.has(t)}function nl(e,t,n){el(e,t),0<n.length&&(e.i=null,e.g.set(rl(e,t),Lo(n)),e.h+=n.length)}function rl(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(po=Js.prototype).add=function(e,t){Zs(this),this.i=null,e=rl(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},po.forEach=function(e,t){Zs(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},po.oa=function(){Zs(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},po.W=function(e){Zs(this);var t=[];if("string"===typeof e)tl(this,e)&&(t=t.concat(this.g.get(rl(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},po.set=function(e,t){return Zs(this),this.i=null,tl(this,e=rl(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},po.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},po.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var il=f((function e(t,n){l(this,e),this.h=t,this.g=n}));function al(e){this.l=e||ul,go.PerformanceNavigationTiming?e=0<(e=go.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(go.g&&go.g.Ga&&go.g.Ga()&&go.g.Ga().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ol,ul=10;function sl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ll(e){return e.h?1:e.g?e.g.size:0}function cl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function fl(e,t){e.g?e.g.add(t):e.h=t}function hl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function dl(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=De(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Lo(e.i)}function pl(){}function vl(){this.g=new pl}function yl(e,t,n){var r=n||"";try{Ps(e,(function(e,n){var i=e;wo(e)&&(i=Lu(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ml(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function gl(e){this.l=e.$b||null,this.j=e.ib||!1}function kl(e,t){Nu.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=bl,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}al.prototype.cancel=function(){if(this.i=dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=De(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},pl.prototype.stringify=function(e){return go.JSON.stringify(e,void 0)},pl.prototype.parse=function(e){return go.JSON.parse(e,void 0)},Co(gl,fs),gl.prototype.g=function(){return new kl(this.l,this.j)},gl.prototype.i=(ol={},function(){return ol}),Co(kl,Nu);var bl=0;function wl(e){e.j.read().then(e.Sa.bind(e)).catch(e.ga.bind(e))}function _l(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xl(e)}function xl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(po=kl.prototype).open=function(e,t){if(this.readyState!=bl)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xl(this)},po.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||go).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},po.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_l(this)),this.readyState=bl},po.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xl(this)),this.g&&(this.readyState=3,xl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if("undefined"!==typeof go.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wl(this)}else e.text().then(this.Ua.bind(this),this.ga.bind(this))},po.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_l(this):xl(this),3==this.readyState&&wl(this)}},po.Ua=function(e){this.g&&(this.response=this.responseText=e,_l(this))},po.Ta=function(e){this.g&&(this.response=e,_l(this))},po.ga=function(){this.g&&_l(this)},po.setRequestHeader=function(e,t){this.v.append(e,t)},po.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},po.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(kl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sl=go.JSON.parse;function El(e){Nu.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tl,this.K=this.L=!1}Co(El,Nu);var Tl="",Il=/^https?$/i,Cl=["POST","PUT"];function Nl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Al(e),Ll(e)}function Al(e){e.D||(e.D=!0,Au(e,"complete"),Au(e,"error"))}function Rl(e){if(e.h&&"undefined"!=typeof mo&&(!e.C[1]||4!=Ol(e)||2!=e.aa()))if(e.v&&4==Ol(e))Wu(e.Ha,0,e);else if(Au(e,"readystatechange"),4==Ol(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ms)[1]||null;if(!a&&go.self&&go.self.location){var o=go.self.location.protocol;a=o.substr(0,o.length-1)}i=!Il.test(a?a.toLowerCase():"")}t=i}if(t)Au(e,"complete"),Au(e,"success");else{e.m=6;try{var u=2<Ol(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.aa()+"]",Al(e)}}finally{Ll(e)}}}function Ll(e,t){if(e.g){Dl(e);var n=e.g,r=e.C[0]?ko:null;e.g=null,e.C=null,t||Au(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Dl(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(go.clearTimeout(e.A),e.A=null)}function Ol(e){return e.g?e.g.readyState:0}function Pl(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tl:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(bc){return null}}function Ml(e){var t="";return cu(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ul(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ml(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Bs(e,t,n))}function Vl(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jl(e){this.Ca=0,this.i=[],this.j=new Ju,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=Vl("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=Vl("baseRetryDelayMs",5e3,e),this.ab=Vl("retryDelaySeedMs",1e4,e),this.Za=Vl("forwardChannelMaxRetries",2,e),this.ta=Vl("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Yb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new al(e&&e.concurrentRequestLimit),this.Fa=new vl,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=e&&e.Wb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Fl(e){if(Bl(e),3==e.G){var t=e.U++,n=Vs(e.F);Bs(n,"SID",e.I),Bs(n,"RID",t),Bs(n,"TYPE","terminate"),Wl(e,n),(t=new ks(e,e.j,t,void 0)).K=2,t.v=qs(Vs(n)),n=!1,go.navigator&&go.navigator.sendBeacon&&(n=go.navigator.sendBeacon(t.v.toString(),"")),!n&&go.Image&&((new Image).src=t.v,n=!0),n||(t.g=rc(t.l,null),t.g.da(t.v)),t.F=Date.now(),Ns(t)}tc(e)}function zl(e){e.g&&($l(e),e.g.cancel(),e.g=null)}function Bl(e){zl(e),e.u&&(go.clearTimeout(e.u),e.u=null),Xl(e),e.h.cancel(),e.m&&("number"===typeof e.m&&go.clearTimeout(e.m),e.m=null)}function ql(e){sl(e.h)||e.m||(e.m=!0,ju(e.Ja,e),e.C=0)}function Hl(e,t){var n;n=t?t.m:e.U++;var r=Vs(e.F);Bs(r,"SID",e.I),Bs(r,"RID",n),Bs(r,"AID",e.T),Wl(e,r),e.o&&e.s&&Ul(r,e.o,e.s),n=new ks(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=Kl(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),fl(e.h,n),Ss(n,r,t)}function Wl(e,t){e.ia&&cu(e.ia,(function(e,n){Bs(t,n,e)})),e.l&&Ps({},(function(e,n){Bs(t,n,e)}))}function Kl(e,t,n){n=Math.min(e.i.length,n);var r=e.l?To(e.l.Qa,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{yl(c,o,"req"+l+"_")}catch(Ac){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function Gl(e){e.g||e.u||(e.Z=1,ju(e.Ia,e),e.A=0)}function Ql(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=ss(To(e.Ia,e),Zl(e,e.A)),e.A++,!0)}function $l(e){null!=e.B&&(go.clearTimeout(e.B),e.B=null)}function Yl(e){e.g=new ks(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=Vs(e.sa);Bs(t,"RID","rpc"),Bs(t,"SID",e.I),Bs(t,"CI",e.L?"0":"1"),Bs(t,"AID",e.T),Bs(t,"TYPE","xmlhttp"),Wl(e,t),e.o&&e.s&&Ul(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=qs(Vs(t)),n.s=null,n.P=!0,Es(n,e)}function Xl(e){null!=e.v&&(go.clearTimeout(e.v),e.v=null)}function Jl(e,t){var n=null;if(e.g==t){Xl(e),$l(e),e.g=null;var r=2}else{if(!cl(e.h,t))return;n=t.D,hl(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Au(r=ns(),new us(r,n,t,i)),ql(e)}else Gl(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(ll(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Ya?0:e.Za))&&(e.m=ss(To(e.Ja,e,t),Zl(e,e.C)),e.C++,!0))}(e,t)||2==r&&Ql(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:ec(e,5);break;case 4:ec(e,10);break;case 3:ec(e,6);break;default:ec(e,2)}}function Zl(e,t){var n=e.Wa+Math.floor(Math.random()*e.ab);return e.l||(n*=2),n*t}function ec(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=To(e.jb,e);n||(n=new Us("//www.google.com/images/cleardot.gif"),go.location&&"http"==go.location.protocol||js(n,"https"),qs(n)),function(e,t){var n=new Ju;if(go.Image){var r=new Image;r.onload=Io(ml,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Io(ml,n,r,"TestLoadImage: error",!1,t),r.onabort=Io(ml,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Io(ml,n,r,"TestLoadImage: timeout",!1,t),go.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else os(2);e.G=0,e.l&&e.l.va(t),tc(e),Bl(e)}function tc(e){if(e.G=0,e.la=[],e.l){var t=dl(e.h);0==t.length&&0==e.i.length||(Do(e.la,t),Do(e.la,e.i),e.h.i.length=0,Lo(e.i),e.i.length=0),e.l.ua()}}function nc(e,t,n){var r=n instanceof Us?Vs(n):new Us(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),Fs(r,r.m);else{var i=go.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Us(null,void 0);r&&js(a,r),t&&(a.g=t),i&&Fs(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&Bs(r,n,t),Bs(r,"VER",e.ma),Wl(e,r),r}function rc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new El(new gl({ib:!0})):new El(e.ra)).L=e.H,t}function ic(){}function ac(){if(Ho&&!(10<=Number(ru)))throw Error("Environmental error: no available transport.")}function oc(e,t){Nu.call(this),this.g=new jl(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Xb)&&!Mo(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Mo(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new lc(this)}function uc(e){ys.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function sc(){ms.call(this),this.status=1}function lc(e){this.g=e}(po=El.prototype).da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ps.g(),this.C=this.u?hs(this.u):hs(ps),this.g.onreadystatechange=To(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void Nl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=De(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(p){o.e(p)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=go.FormData&&e instanceof go.FormData,!(0<=Ro(Cl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var l,c=De(n);try{for(c.s();!(l=c.n()).done;){var f=u(l.value,2),h=f[0],d=f[1];this.g.setRequestHeader(h,d)}}catch(p){c.e(p)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Dl(this),0<this.B&&((this.K=function(e){return Ho&&tu()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=To(this.qa,this)):this.A=Wu(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Nl(this,s)}},po.qa=function(){"undefined"!=typeof mo&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Au(this,"timeout"),this.abort(8))},po.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Au(this,"complete"),Au(this,"abort"),Ll(this))},po.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ll(this,!0)),El.X.M.call(this)},po.Ha=function(){this.s||(this.F||this.v||this.l?Rl(this):this.eb())},po.eb=function(){Rl(this)},po.aa=function(){try{return 2<Ol(this)?this.g.status:-1}catch(ol){return-1}},po.fa=function(){try{return this.g?this.g.responseText:""}catch(ol){return""}},po.Ra=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sl(t)}},po.Ea=function(){return this.m},po.Na=function(){return"string"===typeof this.j?this.j:String(this.j)},(po=jl.prototype).ma=8,po.G=1,po.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new ks(this,this.j,e,void 0),n=this.s;if(this.S&&(n?du(n=fu(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Kl(this,t,r),Bs(i=Vs(this.F),"RID",e),Bs(i,"CVER",22),this.D&&Bs(i,"X-HTTP-Session-Id",this.D),Wl(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(Ml(n)))+"&"+r:this.o&&Ul(i,this.o,n)),fl(this.h,t),this.Xa&&Bs(i,"TYPE","init"),this.O?(Bs(i,"$req",r),Bs(i,"SID","null"),t.Z=!0,Ss(t,i,null)):Ss(t,i,r),this.G=2}}else 3==this.G&&(e?Hl(this,e):0==this.i.length||sl(this.h)||Hl(this))},po.Ia=function(){if(this.u=null,Yl(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=ss(To(this.cb,this),e)}},po.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,os(10),zl(this),Yl(this))},po.bb=function(){null!=this.v&&(this.v=null,zl(this),Ql(this),os(19))},po.jb=function(e){e?(this.j.info("Successfully pinged google.com"),os(2)):(this.j.info("Failed to ping google.com"),os(1))},(po=ic.prototype).xa=function(){},po.wa=function(){},po.va=function(){},po.ua=function(){},po.Qa=function(){},ac.prototype.g=function(e,t){return new oc(e,t)},Co(oc,Nu),oc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;os(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=nc(e,null,e.V),ql(e)},oc.prototype.close=function(){Fl(this.g)},oc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Lu(e),e=n);t.i.push(new il(t.$a++,e)),3==t.G&&ql(t)},oc.prototype.M=function(){this.g.l=null,delete this.j,Fl(this.g),delete this.g,oc.X.M.call(this)},Co(uc,ys),Co(sc,ms),Co(lc,ic),lc.prototype.xa=function(){Au(this.g,"a")},lc.prototype.wa=function(e){Au(this.g,new uc(e))},lc.prototype.va=function(e){Au(this.g,new sc(e))},lc.prototype.ua=function(){Au(this.g,"b")},ac.prototype.createWebChannel=ac.prototype.g,oc.prototype.send=oc.prototype.u,oc.prototype.open=oc.prototype.m,oc.prototype.close=oc.prototype.close,ls.NO_ERROR=0,ls.TIMEOUT=8,ls.HTTP_ERROR=6,cs.COMPLETE="complete",ds.EventType=vs,vs.OPEN="a",vs.CLOSE="b",vs.ERROR="c",vs.MESSAGE="d",Nu.prototype.listen=Nu.prototype.N,El.prototype.listenOnce=El.prototype.O,El.prototype.getLastError=El.prototype.Na,El.prototype.getLastErrorCode=El.prototype.Ea,El.prototype.getStatus=El.prototype.aa,El.prototype.getResponseJson=El.prototype.Ra,El.prototype.getResponseText=El.prototype.fa,El.prototype.send=El.prototype.da;var cc=yo.createWebChannelTransport=function(){return new ac},fc=yo.getStatEventTarget=function(){return ns()},hc=yo.ErrorCode=ls,dc=yo.EventType=cs,pc=yo.Event=es,vc=yo.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yc=yo.FetchXmlHttpFactory=gl,mc=yo.WebChannel=ds,gc=yo.XhrIo=El,kc="@firebase/firestore",bc=function(){function e(t){l(this,e),this.uid=t}return f(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();bc.UNAUTHENTICATED=new bc(null),bc.GOOGLE_CREDENTIALS=new bc("google-credentials-uid"),bc.FIRST_PARTY=new bc("first-party-uid"),bc.MOCK_USER=new bc("mock-user");var wc="9.10.0",_c=new dt("@firebase/firestore");function xc(){return _c.logLevel}function Sc(e){if(_c.logLevel<=ot.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ic);_c.debug.apply(_c,["Firestore (".concat(wc,"): ").concat(e)].concat(s(i)))}}function Ec(e){if(_c.logLevel<=ot.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ic);_c.error.apply(_c,["Firestore (".concat(wc,"): ").concat(e)].concat(s(i)))}}function Tc(e){if(_c.logLevel<=ot.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Ic);_c.warn.apply(_c,["Firestore (".concat(wc,"): ").concat(e)].concat(s(i)))}}function Ic(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Cc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(wc,") INTERNAL ASSERTION FAILED: ")+e;throw Ec(t),new Error(t)}function Nc(e,t){e||Cc()}function Ac(e,t){return e}var Rc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Lc=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return f(n)}(He),Dc=f((function e(){var t=this;l(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Oc=f((function e(t,n){l(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Pc=function(){function e(){l(this,e)}return f(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(bc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Mc=function(){function e(t){l(this,e),this.t=t,this.currentUser=bc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Dc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Dc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Sc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Sc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Dc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Sc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Nc("string"==typeof n.accessToken),new Oc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Nc(null===e||"string"==typeof e),new bc(e)}}]),e}(),Uc=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=bc.FIRST_PARTY,this.p=new Map}return f(e,[{key:"I",value:function(){return this.g?this.g():(Nc(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}},{key:"headers",get:function(){this.p.set("X-Goog-AuthUser",this.l);var e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}]),e}(),Vc=function(){function e(t,n,r,i){l(this,e),this.h=t,this.l=n,this.m=r,this.g=i}return f(e,[{key:"getToken",value:function(){return Promise.resolve(new Uc(this.h,this.l,this.m,this.g))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(bc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jc=f((function e(t){l(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Fc=function(){function e(t){l(this,e),this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}return f(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Sc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.A;return n.A=e.token,Sc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Sc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.T.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.T.getImmediate({optional:!0});e?i(e):Sc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Nc("string"==typeof t.token),e.A=t.token,new jc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function zc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Bc=function(){function e(){l(this,e)}return f(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=zc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function qc(e,t){return e<t?-1:e>t?1:0}function Hc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var Wc=function(){function e(t,n){if(l(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Lc(Rc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return f(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?qc(this.nanoseconds,e.nanoseconds):qc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Kc=function(){function e(t){l(this,e),this.timestamp=t}return f(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Wc(0,0))}},{key:"max",value:function(){return new e(new Wc(253402300799,999999999))}}]),e}(),Gc=function(){function e(t,n,r){l(this,e),void 0===n?n=0:n>t.length&&Cc(),void 0===r?r=t.length-n:r>t.length-n&&Cc(),this.segments=t,this.offset=n,this.len=r}return f(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Qc=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,s(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gc),$c=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yc=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return $c.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Lc(Rc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Lc(Rc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Lc(Rc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Gc),Xc=function(){function e(t){l(this,e),this.path=t}return f(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Qc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Qc.fromString(t))}},{key:"fromName",value:function(t){return new e(Qc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Qc.emptyPath())}},{key:"comparator",value:function(e,t){return Qc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Qc(t.slice()))}}]),e}(),Jc=f((function e(t,n,r,i){l(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Jc.UNKNOWN_ID=-1;function Zc(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Kc.fromTimestamp(1e9===r?new Wc(n+1,0):new Wc(n,r));return new tf(i,Xc.empty(),t)}function ef(e){return new tf(e.readTime,e.key,-1)}var tf=function(){function e(t,n,r){l(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return f(e,null,[{key:"min",value:function(){return new e(Kc.min(),Xc.empty(),-1)}},{key:"max",value:function(){return new e(Kc.max(),Xc.empty(),-1)}}]),e}();function nf(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Xc.comparator(e.documentKey,t.documentKey))?n:qc(e.largestBatchId,t.largestBatchId)}var rf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",af=function(){function e(){l(this,e),this.onCommittedListeners=[]}return f(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function of(e){return uf.apply(this,arguments)}function uf(){return uf=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Rc.FAILED_PRECONDITION&&t.message===rf){e.next=2;break}throw t;case 2:Sc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}var sf=function(){function e(t){var n=this;l(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return f(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Cc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=De(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function lf(e){return"IndexedDbTransactionError"===e.name}var cf=function(){function e(t,n){var r=this;l(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ut(e)},this.ct=function(e){return n.writeSequenceNumber(e)})}return f(e,[{key:"ut",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ct&&this.ct(e),e}}]),e}();function ff(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function hf(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function df(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}cf.at=-1;var pf=function(){function e(t,n){l(this,e),this.comparator=t,this.root=n||yf.EMPTY}return f(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yf.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yf.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new vf(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new vf(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new vf(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new vf(this.root,e,this.comparator,!0)}}]),e}(),vf=function(){function e(t,n,r,i){l(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return f(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),yf=function(){function e(t,n,r,i,a){l(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return f(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Cc();if(this.right.isRed())throw Cc();var e=this.left.check();if(e!==this.right.check())throw Cc();return e+(this.isRed()?0:1)}}]),e}();yf.EMPTY=null,yf.RED=!0,yf.BLACK=!1,yf.EMPTY=new(function(){function e(){l(this,e),this.size=0}return f(e,[{key:"key",get:function(){throw Cc()}},{key:"value",get:function(){throw Cc()}},{key:"color",get:function(){throw Cc()}},{key:"left",get:function(){throw Cc()}},{key:"right",get:function(){throw Cc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new yf(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var mf=function(){function e(t){l(this,e),this.comparator=t,this.data=new pf(this.comparator)}return f(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new gf(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new gf(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),gf=function(){function e(t){l(this,e),this.iter=t}return f(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var kf=function(){function e(t){l(this,e),this.fields=t,t.sort(Yc.comparator)}return f(e,[{key:"unionWith",value:function(t){var n,r=new mf(Yc.comparator),i=De(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,u=De(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(l){u.e(l)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=De(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Hc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var bf=function(e){function t(e){l(this,t),this.binaryString=e}return f(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return qc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();bf.EMPTY_BYTE_STRING=new bf("");var wf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _f(e){if(Nc(!!e),"string"==typeof e){var t=0,n=wf.exec(e);if(Nc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xf(e.seconds),nanos:xf(e.nanos)}}function xf(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Sf(e){return"string"==typeof e?bf.fromBase64String(e):bf.fromUint8Array(e)}function Ef(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Tf(e){var t=e.mapValue.fields.__previous_value__;return Ef(t)?Tf(t):t}function If(e){var t=_f(e.mapValue.fields.__local_write_time__.timestampValue);return new Wc(t.seconds,t.nanos)}var Cf=f((function e(t,n,r,i,a,o,u,s){l(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),Nf=function(){function e(t,n){l(this,e),this.projectId=t,this.database=n||"(default)"}return f(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Af(e){return null==e}function Rf(e){return 0===e&&1/e==-1/0}function Lf(e){return"number"==typeof e&&Number.isInteger(e)&&!Rf(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Df={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Of(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Ef(e)?4:Qf(e)?9007199254740991:10:Cc()}function Pf(e,t){if(e===t)return!0;var n=Of(e);if(n!==Of(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return If(e).isEqual(If(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=_f(e.timestampValue),r=_f(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Sf(e.bytesValue).isEqual(Sf(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return xf(e.geoPointValue.latitude)===xf(t.geoPointValue.latitude)&&xf(e.geoPointValue.longitude)===xf(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return xf(e.integerValue)===xf(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=xf(e.doubleValue),r=xf(t.doubleValue);return n===r?Rf(n)===Rf(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Hc(e.arrayValue.values||[],t.arrayValue.values||[],Pf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(ff(n)!==ff(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Pf(n[i],r[i])))return!1;return!0}(e,t);default:return Cc()}}function Mf(e,t){return void 0!==(e.values||[]).find((function(e){return Pf(e,t)}))}function Uf(e,t){if(e===t)return 0;var n=Of(e),r=Of(t);if(n!==r)return qc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return qc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=xf(e.integerValue||e.doubleValue),r=xf(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Vf(e.timestampValue,t.timestampValue);case 4:return Vf(If(e),If(t));case 5:return qc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Sf(e),r=Sf(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=qc(n[i],r[i]);if(0!==a)return a}return qc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=qc(xf(e.latitude),xf(t.latitude));return 0!==n?n:qc(xf(e.longitude),xf(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Uf(n[i],r[i]);if(a)return a}return qc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Df.mapValue&&t===Df.mapValue)return 0;if(e===Df.mapValue)return 1;if(t===Df.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=qc(r[o],a[o]);if(0!==u)return u;var s=Uf(n[r[o]],i[a[o]]);if(0!==s)return s}return qc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Cc()}}function Vf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return qc(e,t);var n=_f(e),r=_f(t),i=qc(n.seconds,r.seconds);return 0!==i?i:qc(n.nanos,r.nanos)}function jf(e){return Ff(e)}function Ff(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=_f(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Sf(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Xc.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=De(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ff(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=De(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ff(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Cc();var t,n}function zf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Bf(e){return!!e&&"integerValue"in e}function qf(e){return!!e&&"arrayValue"in e}function Hf(e){return!!e&&"nullValue"in e}function Wf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Kf(e){return!!e&&"mapValue"in e}function Gf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return hf(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Gf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Gf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Qf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var $f=function(){function e(t){l(this,e),this.value=t}return f(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Kf(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gf(t)}},{key:"setAll",value:function(e){var t=this,n=Yc.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Gf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Kf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Pf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Kf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){hf(t,(function(t,n){return e[t]=n}));var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Gf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Yf(e){var t=[];return hf(e.fields,(function(e,n){var r=new Yc([e]);if(Kf(n)){var i=Yf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=De(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new kf(t)}var Xf=function(){function e(t,n,r,i,a,o){l(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return f(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=$f.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=$f.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=Kc.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Kc.min(),Kc.min(),$f.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Kc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Kc.min(),$f.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Kc.min(),$f.empty(),2)}}]),e}(),Jf=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;l(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ht=null}));function Zf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Jf(e,t,n,r,i,a,o)}function eh(e){var t=Ac(e);if(null===t.ht){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+jf(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Af(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return jf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return jf(e)})).join(",")),t.ht=n}return t.ht}function th(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!ph(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Pf(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yh(e.startAt,t.startAt)&&yh(e.endAt,t.endAt)}function nh(e){return Xc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var rh=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Uf(t,this.value)):null!==t&&Of(this.value)===Of(t)&&this.ft(Uf(t,this.value))}},{key:"ft",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Cc()}}},{key:"dt",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new ih(e,t,r):"array-contains"===t?new sh(e,r):"in"===t?new lh(e,r):"not-in"===t?new ch(e,r):"array-contains-any"===t?new fh(e,r):new n(e,t,r)}},{key:"lt",value:function(e,t,n){return"in"===t?new ah(e,n):new oh(e,n)}}]),n}(function(){return f((function e(){l(this,e)}))}()),ih=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,i)).key=Xc.fromName(i.referenceValue),a}return f(n,[{key:"matches",value:function(e){var t=Xc.comparator(e.key,this.key);return this.ft(t)}}]),n}(rh),ah=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"in",r)).keys=uh("in",r),i}return f(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rh),oh=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this,e,"not-in",r)).keys=uh("not-in",r),i}return f(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(rh);function uh(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Xc.fromName(e.referenceValue)}))}var sh=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return qf(t)&&Mf(t.arrayValue,this.value)}}]),n}(rh),lh=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"in",r)}return f(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Mf(this.value.arrayValue,t)}}]),n}(rh),ch=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"not-in",r)}return f(n,[{key:"matches",value:function(e){if(Mf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Mf(this.value.arrayValue,t)}}]),n}(rh),fh=function(e){d(n,e);var t=k(n);function n(e,r){return l(this,n),t.call(this,e,"array-contains-any",r)}return f(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!qf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Mf(t.value.arrayValue,e)}))}}]),n}(rh),hh=f((function e(t,n){l(this,e),this.position=t,this.inclusive=n})),dh=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";l(this,e),this.field=t,this.dir=n}));function ph(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function vh(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Xc.comparator(Xc.fromName(o.referenceValue),n.key):Uf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function yh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Pf(e.position[n],t.position[n]))return!1;return!0}var mh=f((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;l(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}));function gh(e,t,n,r,i,a,o,u){return new mh(e,t,n,r,i,a,o,u)}function kh(e){return new mh(e)}function bh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _h(e){var t,n=De(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.dt())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function xh(e){return null!==e.collectionGroup}function Sh(e){var t=Ac(e);if(null===t._t){t._t=[];var n=_h(t),r=wh(t);if(null!==n&&null===r)n.isKeyField()||t._t.push(new dh(n)),t._t.push(new dh(Yc.keyField(),"asc"));else{var i,a=!1,o=De(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t._t.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new dh(Yc.keyField(),s))}}}return t._t}function Eh(e){var t=Ac(e);if(!t.wt)if("F"===t.limitType)t.wt=Zf(t.path,t.collectionGroup,Sh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=De(Sh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new dh(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new hh(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new hh(t.startAt.position,t.startAt.inclusive):null;t.wt=Zf(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.wt}function Th(e,t,n){return new mh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ih(e,t){return th(Eh(e),Eh(t))&&e.limitType===t.limitType}function Ch(e){return"".concat(eh(Eh(e)),"|lt:").concat(e.limitType)}function Nh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(jf(t.value));var t})).join(", "),"]")),Af(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return jf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return jf(e)})).join(",")),"Target(".concat(t,")")}(Eh(e)),"; limitType=").concat(e.limitType,")")}function Ah(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Xc.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=De(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=vh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sh(e),t))&&!(e.endAt&&!function(e,t,n){var r=vh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sh(e),t))}(e,t)}function Rh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Lh(e){return function(t,n){var r,i=!1,a=De(Sh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Dh(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Dh(e,t,n){var r=e.field.isKeyField()?Xc.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Uf(r,i):Cc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Cc()}}function Oh(e,t){if(e.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rf(t)?"-0":t}}function Ph(e){return{integerValue:""+e}}function Mh(e,t){return Lf(t)?Ph(t):Oh(e,t)}var Uh=f((function e(){l(this,e),this._=void 0}));function Vh(e,t,n){return e instanceof zh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bh?qh(e,t):e instanceof Hh?Wh(e,t):function(e,t){var n=Fh(e,t),r=Gh(n)+Gh(e.yt);return Bf(n)&&Bf(e.yt)?Ph(r):Oh(e.It,r)}(e,t)}function jh(e,t,n){return e instanceof Bh?qh(e,t):e instanceof Hh?Wh(e,t):n}function Fh(e,t){return e instanceof Kh?Bf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var zh=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(Uh),Bh=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return f(n)}(Uh);function qh(e,t){var n,r=Qh(t),i=De(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Pf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Hh=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).elements=e,r}return f(n)}(Uh);function Wh(e,t){var n,r=Qh(t),i=De(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Pf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Kh=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).It=e,i.yt=r,i}return f(n)}(Uh);function Gh(e){return xf(e.integerValue||e.doubleValue)}function Qh(e){return qf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var $h=f((function e(t,n){l(this,e),this.version=t,this.transformResults=n})),Yh=function(){function e(t,n){l(this,e),this.updateTime=t,this.exists=n}return f(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Xh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Jh=f((function e(){l(this,e)}));function Zh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new fd(e.key,Yh.none()):new id(e.key,e.data,Yh.none());var n,r=e.data,i=$f.empty(),a=new mf(Yc.comparator),o=De(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(l){o.e(l)}finally{o.f()}return new ad(e.key,i,new kf(a.toArray()),Yh.none())}function ed(e,t,n){e instanceof id?function(e,t,n){var r=e.value.clone(),i=ud(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ad?function(e,t,n){if(Xh(e.precondition,t)){var r=ud(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(od(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function td(e,t,n,r){return e instanceof id?function(e,t,n,r){if(!Xh(e.precondition,t))return n;var i=e.value.clone(),a=sd(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ad?function(e,t,n,r){if(!Xh(e.precondition,t))return n;var i=sd(e.fieldTransforms,r,t),a=t.data;return a.setAll(od(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Xh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function nd(e,t){var n,r=null,i=De(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Fh(a.transform,o||null);null!=u&&(null===r&&(r=$f.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function rd(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Hc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Bh&&t instanceof Bh||e instanceof Hh&&t instanceof Hh?Hc(e.elements,t.elements,Pf):e instanceof Kh&&t instanceof Kh?Pf(e.yt,t.yt):e instanceof zh&&t instanceof zh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var id=function(e){d(n,e);var t=k(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return l(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),ad=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return l(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return f(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Jh);function od(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function ud(e,t,n){var r=new Map;Nc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,jh(o,u,n[i]))}return r}function sd(e,t,n){var r,i=new Map,a=De(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Vh(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var ld,cd,fd=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),hd=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return f(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Jh),dd=f((function e(t){l(this,e),this.count=t}));function pd(e){switch(e){default:return Cc();case Rc.CANCELLED:case Rc.UNKNOWN:case Rc.DEADLINE_EXCEEDED:case Rc.RESOURCE_EXHAUSTED:case Rc.INTERNAL:case Rc.UNAVAILABLE:case Rc.UNAUTHENTICATED:return!1;case Rc.INVALID_ARGUMENT:case Rc.NOT_FOUND:case Rc.ALREADY_EXISTS:case Rc.PERMISSION_DENIED:case Rc.FAILED_PRECONDITION:case Rc.ABORTED:case Rc.OUT_OF_RANGE:case Rc.UNIMPLEMENTED:case Rc.DATA_LOSS:return!0}}function vd(e){if(void 0===e)return Ec("GRPC error has no .code"),Rc.UNKNOWN;switch(e){case ld.OK:return Rc.OK;case ld.CANCELLED:return Rc.CANCELLED;case ld.UNKNOWN:return Rc.UNKNOWN;case ld.DEADLINE_EXCEEDED:return Rc.DEADLINE_EXCEEDED;case ld.RESOURCE_EXHAUSTED:return Rc.RESOURCE_EXHAUSTED;case ld.INTERNAL:return Rc.INTERNAL;case ld.UNAVAILABLE:return Rc.UNAVAILABLE;case ld.UNAUTHENTICATED:return Rc.UNAUTHENTICATED;case ld.INVALID_ARGUMENT:return Rc.INVALID_ARGUMENT;case ld.NOT_FOUND:return Rc.NOT_FOUND;case ld.ALREADY_EXISTS:return Rc.ALREADY_EXISTS;case ld.PERMISSION_DENIED:return Rc.PERMISSION_DENIED;case ld.FAILED_PRECONDITION:return Rc.FAILED_PRECONDITION;case ld.ABORTED:return Rc.ABORTED;case ld.OUT_OF_RANGE:return Rc.OUT_OF_RANGE;case ld.UNIMPLEMENTED:return Rc.UNIMPLEMENTED;case ld.DATA_LOSS:return Rc.DATA_LOSS;default:return Cc()}}(cd=ld||(ld={}))[cd.OK=0]="OK",cd[cd.CANCELLED=1]="CANCELLED",cd[cd.UNKNOWN=2]="UNKNOWN",cd[cd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cd[cd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cd[cd.NOT_FOUND=5]="NOT_FOUND",cd[cd.ALREADY_EXISTS=6]="ALREADY_EXISTS",cd[cd.PERMISSION_DENIED=7]="PERMISSION_DENIED",cd[cd.UNAUTHENTICATED=16]="UNAUTHENTICATED",cd[cd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cd[cd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cd[cd.ABORTED=10]="ABORTED",cd[cd.OUT_OF_RANGE=11]="OUT_OF_RANGE",cd[cd.UNIMPLEMENTED=12]="UNIMPLEMENTED",cd[cd.INTERNAL=13]="INTERNAL",cd[cd.UNAVAILABLE=14]="UNAVAILABLE",cd[cd.DATA_LOSS=15]="DATA_LOSS";var yd=function(){function e(t,n){l(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return f(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){hf(this.inner,(function(t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(l){i.e(l)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return df(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),md=new pf(Xc.comparator);function gd(){return md}var kd=new pf(Xc.comparator);function bd(){for(var e=kd,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function wd(e){var t=kd;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function _d(){return Sd()}function xd(){return Sd()}function Sd(){return new yd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ed=new pf(Xc.comparator),Td=new mf(Xc.comparator);function Id(){for(var e=Td,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Cd=new mf(qc);function Nd(){return Cd}var Ad=function(){function e(t,n,r,i,a){l(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return f(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Rd.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Kc.min(),r,Nd(),gd(),Id())}}]),e}(),Rd=function(){function e(t,n,r,i,a){l(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return f(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(bf.EMPTY_BYTE_STRING,n,Id(),Id(),Id())}}]),e}(),Ld=f((function e(t,n,r,i){l(this,e),this.Tt=t,this.removedTargetIds=n,this.key=r,this.Et=i})),Dd=f((function e(t,n){l(this,e),this.targetId=t,this.At=n})),Od=f((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:bf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;l(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Pd=function(){function e(){l(this,e),this.Rt=0,this.bt=Vd(),this.Pt=bf.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}return f(e,[{key:"current",get:function(){return this.vt}},{key:"resumeToken",get:function(){return this.Pt}},{key:"St",get:function(){return 0!==this.Rt}},{key:"Dt",get:function(){return this.Vt}},{key:"Ct",value:function(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}},{key:"xt",value:function(){var e=Id(),t=Id(),n=Id();return this.bt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Cc()}})),new Rd(this.Pt,this.vt,e,t,n)}},{key:"Nt",value:function(){this.Vt=!1,this.bt=Vd()}},{key:"kt",value:function(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}},{key:"Mt",value:function(e){this.Vt=!0,this.bt=this.bt.remove(e)}},{key:"Ot",value:function(){this.Rt+=1}},{key:"Ft",value:function(){this.Rt-=1}},{key:"$t",value:function(){this.Vt=!0,this.vt=!0}}]),e}(),Md=function(){function e(t){l(this,e),this.Bt=t,this.Lt=new Map,this.Ut=gd(),this.qt=Ud(),this.Kt=new mf(qc)}return f(e,[{key:"Gt",value:function(e){var t,n=De(e.Tt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Et&&e.Et.isFoundDocument()?this.Qt(r,e.Et):this.jt(r,e.key,e.Et)}}catch(u){n.e(u)}finally{n.f()}var i,a=De(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.jt(o,e.key,e.Et)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Wt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.zt(n);switch(e.state){case 0:t.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||t.removeTarget(n);break;case 3:t.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:t.Ht(n)&&(t.Jt(n),r.Ct(e.resumeToken));break;default:Cc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((function(e,r){n.Ht(r)&&t(r)}))}},{key:"Yt",value:function(e){var t=e.targetId,n=e.At.count,r=this.Xt(t);if(r){var i=r.target;if(nh(i))if(0===n){var a=new Xc(i.path);this.jt(t,a,Xf.newNoDocument(a,Kc.min()))}else Nc(1===n);else this.Zt(t)!==n&&(this.Jt(t),this.Kt=this.Kt.add(t))}}},{key:"te",value:function(e){var t=this,n=new Map;this.Lt.forEach((function(r,i){var a=t.Xt(i);if(a){if(r.current&&nh(a.target)){var o=new Xc(a.target.path);null!==t.Ut.get(o)||t.ee(i,o)||t.jt(i,o,Xf.newNoDocument(o,e))}r.Dt&&(n.set(i,r.xt()),r.Nt())}}));var r=Id();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Xt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Ut.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ad(e,n,this.Kt,this.Ut,r);return this.Ut=gd(),this.qt=Ud(),this.Kt=new mf(qc),i}},{key:"Qt",value:function(e,t){if(this.Ht(e)){var n=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,n),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}}},{key:"jt",value:function(e,t,n){if(this.Ht(e)){var r=this.zt(e);this.ee(e,t)?r.kt(t,1):r.Mt(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),n&&(this.Ut=this.Ut.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Lt.delete(e)}},{key:"Zt",value:function(e){var t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.zt(e).Ot()}},{key:"zt",value:function(e){var t=this.Lt.get(e);return t||(t=new Pd,this.Lt.set(e,t)),t}},{key:"ne",value:function(e){var t=this.qt.get(e);return t||(t=new mf(qc),this.qt=this.qt.insert(e,t)),t}},{key:"Ht",value:function(e){var t=null!==this.Xt(e);return t||Sc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Xt",value:function(e){var t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}},{key:"Jt",value:function(e){var t=this;this.Lt.set(e,new Pd),this.Bt.getRemoteKeysForTarget(e).forEach((function(n){t.jt(e,n,null)}))}},{key:"ee",value:function(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Ud(){return new pf(Xc.comparator)}function Vd(){return new pf(Xc.comparator)}var jd={asc:"ASCENDING",desc:"DESCENDING"},Fd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zd=f((function e(t,n){l(this,e),this.databaseId=t,this.gt=n}));function Bd(e,t){return e.gt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function qd(e,t){return e.gt?t.toBase64():t.toUint8Array()}function Hd(e,t){return Bd(e,t.toTimestamp())}function Wd(e){return Nc(!!e),Kc.fromTimestamp(function(e){var t=_f(e);return new Wc(t.seconds,t.nanos)}(e))}function Kd(e,t){return function(e){return new Qc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Gd(e){var t=Qc.fromString(e);return Nc(dp(t)),t}function Qd(e,t){return Kd(e.databaseId,t.path)}function $d(e,t){var n=Gd(t);if(n.get(1)!==e.databaseId.projectId)throw new Lc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Lc(Rc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Xc(Zd(n))}function Yd(e,t){return Kd(e.databaseId,t)}function Xd(e){var t=Gd(e);return 4===t.length?Qc.emptyPath():Zd(t)}function Jd(e){return new Qc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Zd(e){return Nc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function ep(e,t,n){return{name:Qd(e,t),fields:n.value.mapValue.fields}}function tp(e,t){var n;if(t instanceof id)n={update:ep(e,t.key,t.value)};else if(t instanceof fd)n={delete:Qd(e,t.key)};else if(t instanceof ad)n={update:ep(e,t.key,t.data),updateMask:hp(t.fieldMask)};else{if(!(t instanceof hd))return Cc();n={verify:Qd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof zh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Hh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Kh)return{fieldPath:t.field.canonicalString(),increment:n.yt};throw Cc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Hd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Cc()}(e,t.precondition)),n}function np(e,t){return{documents:[Yd(e,t.path)]}}function rp(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Yd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Yd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Wf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NAN"}};if(Hf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Wf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NOT_NAN"}};if(Hf(e.value))return{unaryFilter:{field:sp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sp(e.field),op:up(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:sp(e.field),direction:op(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.gt||Af(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ip(e){var t=Xd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Nc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=ap(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new dh(lp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Af(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new hh(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new hh(n,t)}(n.endAt)),gh(t,i,u,o,s,"F",l,c)}function ap(e){return e?void 0!==e.unaryFilter?[fp(e)]:void 0!==e.fieldFilter?[cp(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return ap(e)})).reduce((function(e,t){return e.concat(t)})):Cc():[]}function op(e){return jd[e]}function up(e){return Fd[e]}function sp(e){return{fieldPath:e.canonicalString()}}function lp(e){return Yc.fromServerFormat(e.fieldPath)}function cp(e){return rh.create(lp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Cc()}}(e.fieldFilter.op),e.fieldFilter.value)}function fp(e){switch(e.unaryFilter.op){case"IS_NAN":var t=lp(e.unaryFilter.field);return rh.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=lp(e.unaryFilter.field);return rh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=lp(e.unaryFilter.field);return rh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=lp(e.unaryFilter.field);return rh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Cc()}}function hp(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function dp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var pp=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),vp=([].concat(s(pp),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),yp=vp;[].concat(yp,["indexConfiguration","indexState","indexEntries"]);var mp=function(){function e(t,n,r,i){l(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return f(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&ed(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=De(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=td(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=De(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=td(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=xd();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Zh(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(Kc.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Id())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Hc(this.mutations,e.mutations,(function(e,t){return rd(e,t)}))&&Hc(this.baseMutations,e.baseMutations,(function(e,t){return rd(e,t)}))}}]),e}(),gp=function(){function e(t,n,r,i){l(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return f(e,null,[{key:"from",value:function(t,n,r){Nc(t.mutations.length===r.length);for(var i=Ed,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kp=function(){function e(t,n){l(this,e),this.largestBatchId=t,this.mutation=n}return f(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),bp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Kc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Kc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bf.EMPTY_BYTE_STRING;l(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return f(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wp=f((function e(t){l(this,e),this.re=t}));function _p(e){var t=ip({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Th(t,t.limit,"L"):t}var xp=function(){function e(){l(this,e)}return f(e,[{key:"ce",value:function(e,t){this.ae(e,t),t.he()}},{key:"ae",value:function(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(xf(e.integerValue));else if("doubleValue"in e){var n=xf(e.doubleValue);isNaN(n)?this.le(t,13):(this.le(t,15),Rf(n)?t.fe(0):t.fe(n))}else if("timestampValue"in e){var r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de("".concat(r.seconds||"")),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Sf(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.le(t,45),t.fe(i.latitude||0),t.fe(i.longitude||0)}else"mapValue"in e?Qf(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):Cc()}},{key:"_e",value:function(e,t){this.le(t,25),this.Ie(e,t)}},{key:"Ie",value:function(e,t){t.de(e)}},{key:"ye",value:function(e,t){var n=e.fields||{};this.le(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this._e(a,t),this.ae(n[a],t)}}},{key:"pe",value:function(e,t){var n=e.values||[];this.le(t,50);var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ae(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ge",value:function(e,t){var n=this;this.le(t,37),Xc.fromName(e).path.forEach((function(e){n.le(t,60),n.Ie(e,t)}))}},{key:"le",value:function(e,t){e.fe(t)}},{key:"we",value:function(e){e.fe(2)}}]),e}();xp.Te=new xp;var Sp=function(){function e(){l(this,e),this.Ye=new Ep}return f(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Ye.add(t),sf.resolve()}},{key:"getCollectionParents",value:function(e,t){return sf.resolve(this.Ye.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return sf.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return sf.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return sf.resolve(null)}},{key:"getIndexType",value:function(e,t){return sf.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return sf.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return sf.resolve(null)}},{key:"getMinOffset",value:function(e,t){return sf.resolve(tf.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return sf.resolve(tf.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return sf.resolve()}},{key:"updateIndexEntries",value:function(e,t){return sf.resolve()}}]),e}(),Ep=function(){function e(){l(this,e),this.index={}}return f(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new mf(Qc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new mf(Qc.comparator)).toArray()}}]),e}();new Uint8Array(0);var Tp=function(){function e(t,n,r){l(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return f(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();Tp.DEFAULT_COLLECTION_PERCENTILE=10,Tp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tp.DEFAULT=new Tp(41943040,Tp.DEFAULT_COLLECTION_PERCENTILE,Tp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tp.DISABLED=new Tp(-1,0,0);var Ip=function(){function e(t){l(this,e),this.bn=t}return f(e,[{key:"next",value:function(){return this.bn+=2,this.bn}}],[{key:"Pn",value:function(){return new e(0)}},{key:"vn",value:function(){return new e(-1)}}]),e}();var Cp=function(){function e(){l(this,e),this.changes=new yd((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return f(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Xf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?sf.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var Np=f((function e(t,n){l(this,e),this.overlayedDocument=t,this.mutatedFields=n})),Ap=function(){function e(t,n,r,i){l(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return f(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&td(r.mutation,e,kf.empty(),Wc.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Id()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Id(),i=_d();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=bd();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=_d();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Id())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=gd(),a=Sd(),o=Sd();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ad)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),td(o.mutation,t,o.mutation.getFieldMask(),Wc.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new Np(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Sd(),i=new pf((function(e,t){return e-t})),a=Id();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=De(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||kf.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||Id()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,l=i.value,c=xd();l.forEach((function(e){if(!a.has(e)){var n=Zh(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,c))};u.hasNext();)s();return sf.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Xc.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):xh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):sf.resolve(_d()),u=-1,s=a;return o.next((function(t){return sf.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?sf.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,Id())})).next((function(e){return{batchId:u,changes:wd(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Xc(t)).next((function(e){var t=bd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=bd();return this.indexManager.getCollectionParents(e,i).next((function(o){return sf.forEach(o,(function(o){var u=function(e,t){return new mh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Xf.newInvalidDocument(n)))}));var n=bd();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&td(a.mutation,i,kf.empty(),Wc.now()),Ah(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):sf.resolve(Xf.newInvalidDocument(t))}}]),e}(),Rp=function(){function e(t){l(this,e),this.It=t,this.Zn=new Map,this.ts=new Map}return f(e,[{key:"getBundleMetadata",value:function(e,t){return sf.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Wd(n.createTime)}),sf.resolve()}},{key:"getNamedQuery",value:function(e,t){return sf.resolve(this.ts.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.ts.set(t.name,function(e){return{name:e.name,query:_p(e.bundledQuery),readTime:Wd(e.readTime)}}(t)),sf.resolve()}}]),e}(),Lp=function(){function e(){l(this,e),this.overlays=new pf(Xc.comparator),this.es=new Map}return f(e,[{key:"getOverlay",value:function(e,t){return sf.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=_d();return sf.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ue(e,t,i)})),sf.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.es.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.es.delete(n)),sf.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_d(),i=t.length+1,a=new Xc(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return sf.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new pf((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=_d(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=_d(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return sf.resolve(s)}},{key:"ue",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kp(t,n));var a=this.es.get(t);void 0===a&&(a=Id(),this.es.set(t,a)),this.es.set(t,a.add(n.key))}}]),e}(),Dp=function(){function e(){l(this,e),this.ns=new mf(Op.ss),this.rs=new mf(Op.os)}return f(e,[{key:"isEmpty",value:function(){return this.ns.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Op(e,t);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}},{key:"us",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.cs(new Op(e,t))}},{key:"hs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"ls",value:function(e){var t=this,n=new Xc(new Qc([])),r=new Op(n,e),i=new Op(n,e+1),a=[];return this.rs.forEachInRange([r,i],(function(e){t.cs(e),a.push(e.key)})),a}},{key:"fs",value:function(){var e=this;this.ns.forEach((function(t){return e.cs(t)}))}},{key:"cs",value:function(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}},{key:"ds",value:function(e){var t=new Xc(new Qc([])),n=new Op(t,e),r=new Op(t,e+1),i=Id();return this.rs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new Op(e,0),n=this.ns.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Op=function(){function e(t,n){l(this,e),this.key=t,this._s=n}return f(e,null,[{key:"ss",value:function(e,t){return Xc.comparator(e.key,t.key)||qc(e._s,t._s)}},{key:"os",value:function(e,t){return qc(e._s,t._s)||Xc.comparator(e.key,t.key)}}]),e}(),Pp=function(){function e(t,n){l(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new mf(Op.ss)}return f(e,[{key:"checkEmpty",value:function(e){return sf.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new mp(i,t,n,r);this.mutationQueue.push(a);var o,u=De(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.gs=this.gs.add(new Op(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return sf.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return sf.resolve(this.ys(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ps(n),i=r<0?0:r;return sf.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return sf.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return sf.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Op(t,0),i=new Op(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],(function(e){var t=n.ys(e._s);a.push(t)})),sf.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new mf(qc);return t.forEach((function(e){var t=new Op(e,0),i=new Op(e,Number.POSITIVE_INFINITY);n.gs.forEachInRange([t,i],(function(e){r=r.add(e._s)}))})),sf.resolve(this.Is(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Xc.isDocumentKey(i)||(i=i.child(""));var a=new Op(new Xc(i),0),o=new mf(qc);return this.gs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e._s)),!0)}),a),sf.resolve(this.Is(o))}},{key:"Is",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ys(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Nc(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();var r=this.gs;return sf.forEach(t.mutations,(function(i){var a=new Op(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.gs=r}))}},{key:"An",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Op(t,0),r=this.gs.firstAfterOrEqual(n);return sf.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,sf.resolve()}},{key:"Ts",value:function(e,t){return this.ps(e)}},{key:"ps",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"ys",value:function(e){var t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Mp=function(){function e(t){l(this,e),this.Es=t,this.docs=new pf(Xc.comparator),this.size=0}return f(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Es(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return sf.resolve(n?n.document.mutableCopy():Xf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=gd();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Xf.newInvalidDocument(e))})),sf.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=gd(),i=new Xc(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||nf(ef(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return sf.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Cc()}},{key:"As",value:function(e,t){return sf.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Up(this)}},{key:"getSize",value:function(e){return sf.resolve(this.size)}}]),e}(),Up=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).Yn=e,r}return f(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Yn.addEntry(e,i)):t.Yn.removeEntry(r)})),sf.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Yn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Yn.getEntries(e,t)}}]),n}(Cp),Vp=function(){function e(t){l(this,e),this.persistence=t,this.Rs=new yd((function(e){return eh(e)}),th),this.lastRemoteSnapshotVersion=Kc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Dp,this.targetCount=0,this.vs=Ip.Pn()}return f(e,[{key:"forEachTarget",value:function(e,t){return this.Rs.forEach((function(e,n){return t(n)})),sf.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return sf.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return sf.resolve(this.bs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.vs.next(),sf.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.bs&&(this.bs=t),sf.resolve()}},{key:"Dn",value:function(e){this.Rs.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.vs=new Ip(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Dn(t),this.targetCount+=1,sf.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Dn(t),sf.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,sf.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Rs.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Rs.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),sf.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return sf.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Rs.get(t)||null;return sf.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Ps.us(t,n),sf.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Ps.hs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),sf.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Ps.ls(t),sf.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Ps.ds(t);return sf.resolve(n)}},{key:"containsKey",value:function(e,t){return sf.resolve(this.Ps.containsKey(t))}}]),e}(),jp=function(){function e(t,n){var r=this;l(this,e),this.Vs={},this.overlays={},this.Ss=new cf(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Vp(this),this.indexManager=new Sp,this.remoteDocumentCache=new Mp((function(e){return r.referenceDelegate.xs(e)})),this.It=new wp(n),this.Ns=new Rp(this.It)}return f(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ds=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ds}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new Lp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Vs[e.toKey()];return n||(n=new Pp(t,this.referenceDelegate),this.Vs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Cs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ns}},{key:"runTransaction",value:function(e,t,n){var r=this;Sc("MemoryPersistence","Starting transaction:",e);var i=new Fp(this.Ss.next());return this.referenceDelegate.ks(),n(i).next((function(e){return r.referenceDelegate.Ms(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return sf.or(Object.values(this.Vs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Fp=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return f(n)}(af),zp=function(){function e(t){l(this,e),this.persistence=t,this.Fs=new Dp,this.$s=null}return f(e,[{key:"Ls",get:function(){if(this.$s)return this.$s;throw Cc()}},{key:"addReference",value:function(e,t,n){return this.Fs.addReference(n,t),this.Ls.delete(n.toString()),sf.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Fs.removeReference(n,t),this.Ls.add(n.toString()),sf.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Ls.add(t.toString()),sf.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Fs.ls(t.targetId).forEach((function(e){return n.Ls.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Ls.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ks",value:function(){this.$s=new Set}},{key:"Ms",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sf.forEach(this.Ls,(function(r){var i=Xc.fromPath(r);return t.Us(e,i).next((function(e){e||n.removeEntry(i,Kc.min())}))})).next((function(){return t.$s=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Us(e,t).next((function(e){e?n.Ls.delete(t.toString()):n.Ls.add(t.toString())}))}},{key:"xs",value:function(e){return 0}},{key:"Us",value:function(e,t){var n=this;return sf.or([function(){return sf.resolve(n.Fs.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Bs",value:function(t){return new e(t)}}]),e}();var Bp=function(){function e(t,n,r,i){l(this,e),this.targetId=t,this.fromCache=n,this.Si=r,this.Di=i}return f(e,null,[{key:"Ci",value:function(t,n){var r,i=Id(),a=Id(),o=De(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),qp=function(){function e(){l(this,e),this.xi=!1}return f(e,[{key:"initialize",value:function(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.ki(e,t).next((function(a){return a||i.Mi(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"ki",value:function(e,t){var n=this;if(bh(t))return sf.resolve(null);var r=Eh(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=Th(t,null,"F"),r=Eh(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Id.apply(void 0,s(i));return n.Ni.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Fi(t,i);return n.$i(t,o,a,r.readTime)?n.ki(e,Th(t,null,"F")):n.Bi(e,o,t,r)}))}))})))}))}},{key:"Mi",value:function(e,t,n,r){var i=this;return bh(t)||r.isEqual(Kc.min())?this.Oi(e,t):this.Ni.getDocuments(e,n).next((function(a){var o=i.Fi(t,a);return i.$i(t,o,n,r)?i.Oi(e,t):(xc()<=ot.DEBUG&&Sc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nh(t)),i.Bi(e,o,t,Zc(r,-1)))}))}},{key:"Fi",value:function(e,t){var n=new mf(Lh(e));return t.forEach((function(t,r){Ah(e,r)&&(n=n.add(r))})),n}},{key:"$i",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return xc()<=ot.DEBUG&&Sc("QueryEngine","Using full collection scan to execute query:",Nh(t)),this.Ni.getDocumentsMatchingQuery(e,t,tf.min())}},{key:"Bi",value:function(e,t,n,r){return this.Ni.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Hp=function(){function e(t,n,r,i){l(this,e),this.persistence=t,this.Li=n,this.It=i,this.Ui=new pf(qc),this.qi=new yd((function(e){return eh(e)}),th),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(r)}return f(e,[{key:"Qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ap(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ui)}))}}]),e}();function Wp(e,t,n,r){return new Hp(e,t,n,r)}function Kp(e,t){return Gp.apply(this,arguments)}function Gp(){return Gp=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Id(),s=De(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,f=De(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=De(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=De(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{ji:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Gp.apply(this,arguments)}function Qp(e,t){var n=Ac(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=sf.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Nc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Id(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function $p(e){var t=Ac(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Cs.getLastRemoteSnapshotVersion(e)}))}function Yp(e,t){var n=Ac(e),r=t.snapshotVersion,i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Cs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Cs.addMatchingKeys(e,a.addedDocuments,u)})));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(bf.EMPTY_BYTE_STRING,Kc.min()).withLastLimboFreeSnapshotVersion(Kc.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.Cs.updateTargetData(e,l))}}));var u=gd(),s=Id();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Xp(e,a,t.documentUpdates).next((function(e){u=e.Wi,s=e.zi}))),!r.isEqual(Kc.min())){var l=n.Cs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Cs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return sf.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.Ui=i,e}))}function Xp(e,t,n){var r=Id(),i=Id();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=gd();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(Kc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Sc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Wi:r,zi:i}}))}function Jp(e,t){var n=Ac(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Zp(e,t){var n=Ac(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Cs.getTargetData(e,t).next((function(i){return i?(r=i,sf.resolve(r)):n.Cs.allocateTargetId(e).next((function(i){return r=new bp(t,i,0,e.currentSequenceNumber),n.Cs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function ev(e,t,n){return tv.apply(this,arguments)}function tv(){return tv=Me(Oe().mark((function e(t,n,r){var i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ac(t),a=i.Ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lf(e.t1)){e.next=12;break}throw e.t1;case 12:Sc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ui=i.Ui.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),tv.apply(this,arguments)}function nv(e,t,n){var r=Ac(e),i=Kc.min(),a=Id();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ac(e),i=r.qi.get(n);return void 0!==i?sf.resolve(r.Ui.get(i)):r.Cs.getTargetData(t,n)}(r,e,Eh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Li.getDocumentsMatchingQuery(e,t,n?i:Kc.min(),n?a:Id())})).next((function(e){return rv(r,Rh(t),e),{documents:e,Hi:a}}))}))}function rv(e,t,n){var r=Kc.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ki.set(t,r)}var iv=function(){function e(){l(this,e),this.activeTargetIds=Nd()}return f(e,[{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"tr",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),av=function(){function e(){l(this,e),this.Lr=new iv,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return f(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Lr.er(e),this.Ur[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Ur[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Lr.nr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Ur[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Lr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Lr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Lr=new iv,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),ov=function(){function e(){l(this,e)}return f(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),uv=function(){function e(){var t=this;l(this,e),this.Kr=function(){return t.Gr()},this.Qr=function(){return t.jr()},this.Wr=[],this.zr()}return f(e,[{key:"qr",value:function(e){this.Wr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}},{key:"zr",value:function(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}},{key:"Gr",value:function(){Sc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=De(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"jr",value:function(){Sc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=De(this.Wr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"C",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),sv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},lv=function(){function e(t){l(this,e),this.Hr=t.Hr,this.Jr=t.Jr}return f(e,[{key:"Yr",value:function(e){this.Xr=e}},{key:"Zr",value:function(e){this.eo=e}},{key:"onMessage",value:function(e){this.no=e}},{key:"close",value:function(){this.Jr()}},{key:"send",value:function(e){this.Hr(e)}},{key:"so",value:function(){this.Xr()}},{key:"io",value:function(e){this.eo(e)}},{key:"ro",value:function(e){this.no(e)}}]),e}(),cv=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return f(n,[{key:"lo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new gc;o.listenOnce(dc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case hc.NO_ERROR:var t=o.getResponseJson();Sc("Connection","XHR received:",JSON.stringify(t)),i(t);break;case hc.TIMEOUT:Sc("Connection",'RPC "'+e+'" timed out'),a(new Lc(Rc.DEADLINE_EXCEEDED,"Request time out"));break;case hc.HTTP_ERROR:var n=o.getStatus();if(Sc("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Rc).indexOf(t)>=0?t:Rc.UNKNOWN}(r.status);a(new Lc(u,r.message))}else a(new Lc(Rc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Lc(Rc.UNAVAILABLE,"Connection failed."));break;default:Cc()}}finally{Sc("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"_o",value:function(e,t,n){var r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cc(),a=fc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new yc({})),this.ho(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;var u=r.join("");Sc("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,f=new lv({Hr:function(e){c?Sc("Connection","Not sending because WebChannel is closed:",e):(l||(Sc("Connection","Opening WebChannel transport."),s.open(),l=!0),Sc("Connection","WebChannel sending:",e),s.send(e))},Jr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,mc.EventType.OPEN,(function(){c||Sc("Connection","WebChannel transport opened.")})),h(s,mc.EventType.CLOSE,(function(){c||(c=!0,Sc("Connection","WebChannel transport closed"),f.io())})),h(s,mc.EventType.ERROR,(function(e){c||(c=!0,Tc("Connection","WebChannel transport errored:",e),f.io(new Lc(Rc.UNAVAILABLE,"The operation could not be completed")))})),h(s,mc.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];Nc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Sc("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=ld[e];if(void 0!==t)return vd(t)}(a),u=i.message;void 0===o&&(o=Rc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,f.io(new Lc(o,u)),s.close()}else Sc("Connection","WebChannel received:",n),f.ro(n)}})),h(a,pc.STAT_EVENT,(function(e){e.stat===vc.PROXY?Sc("Connection","Detected buffering proxy"):e.stat===vc.NOPROXY&&Sc("Connection","Detected no buffering proxy")})),setTimeout((function(){f.so()}),0),f}}]),n}(function(){function e(t){l(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.oo=n+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return f(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ao(e,t);Sc("RestConnection","Sending: ",a,n);var o={};return this.ho(o,r,i),this.lo(e,a,o,n).then((function(e){return Sc("RestConnection","Received: ",e),e}),(function(t){throw Tc("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+wc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=sv[e];return"".concat(this.oo,"/v1/").concat(t,":").concat(n)}}]),e}());function fv(){return"undefined"!=typeof document?document:null}function hv(e){return new zd(e,!0)}var dv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;l(this,e),this.Hs=t,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return f(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Sc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}},{key:"bo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),pv=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.Hs=t,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new dv(t,n)}return f(e,[{key:"No",value:function(){return 1===this.state||5===this.state||this.ko()}},{key:"ko",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Mo()}},{key:"stop",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.No(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.xo.reset()}},{key:"Fo",value:function(){var e=this;this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,(function(){return e.$o()})))}},{key:"Bo",value:function(e){this.Lo(),this.stream.send(e)}},{key:"$o",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.ko()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"close",value:function(){var e=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():n&&n.code===Rc.RESOURCE_EXHAUSTED?(Ec(n.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===Rc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=u(t,2),i=r[0],a=r[1];e.So===n&&e.Go(i,a)}),(function(n){t((function(){var t=new Lc(Rc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Qo(t)}))}))}},{key:"Go",value:function(e,t){var n=this,r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr((function(){r((function(){return n.state=2,n.Co=n.Hs.enqueueAfterDelay(n.vo,1e4,(function(){return n.ko()&&(n.state=3),Promise.resolve()})),n.listener.Yr()}))})),this.stream.Zr((function(e){r((function(){return n.Qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Mo",value:function(){var e=this;this.state=5,this.xo.Ao(Me(Oe().mark((function t(){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Qo",value:function(e){return Sc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Ko",value:function(e){var t=this;return function(n){t.Hs.enqueueAndForget((function(){return t.So===e?n():(Sc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),vv=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).It=o,s}return f(n,[{key:"jo",value:function(e,t){return this.Vo._o("Listen",e,t)}},{key:"onMessage",value:function(e){this.xo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Cc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.gt?(Nc(void 0===t||"string"==typeof t),bf.fromBase64String(t||"")):(Nc(void 0===t||t instanceof Uint8Array),bf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Rc.UNKNOWN:vd(e.code);return new Lc(t,e.message||"")}(o);n=new Od(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=$d(e,s.document.name),c=Wd(s.document.updateTime),f=new $f({mapValue:{fields:s.document.fields}}),h=Xf.newFoundDocument(l,c,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Ld(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=$d(e,v.document),m=v.readTime?Wd(v.readTime):Kc.min(),g=Xf.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Ld([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=$d(e,b.document),_=b.removedTargetIds||[];n=new Ld([],_,w,null)}else{if(!("filter"in t))return Cc();t.filter;var x=t.filter;x.targetId;var S=x.count||0,E=new dd(S),T=x.targetId;n=new Dd(T,E)}return n}(this.It,e),n=function(e){if(!("targetChange"in e))return Kc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Kc.min():t.readTime?Wd(t.readTime):Kc.min()}(e);return this.listener.Wo(t,n)}},{key:"zo",value:function(e){var t={};t.database=Jd(this.It),t.addTarget=function(e,t){var n,r=t.target;return(n=nh(r)?{documents:np(e,r)}:{query:rp(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=qd(e,t.resumeToken):t.snapshotVersion.compareTo(Kc.min())>0&&(n.readTime=Bd(e,t.snapshotVersion.toTimestamp())),n}(this.It,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Cc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,e);n&&(t.labels=n),this.Bo(t)}},{key:"Ho",value:function(e){var t={};t.database=Jd(this.It),t.removeTarget=e,this.Bo(t)}}]),n}(pv),yv=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).It=o,s.Jo=!1,s}return f(n,[{key:"Yo",get:function(){return this.Jo}},{key:"start",value:function(){this.Jo=!1,this.lastStreamToken=void 0,Le(p(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Jo&&this.Xo([])}},{key:"jo",value:function(e,t){return this.Vo._o("Write",e,t)}},{key:"onMessage",value:function(e){if(Nc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();var t=function(e,t){return e&&e.length>0?(Nc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Wd(e.updateTime):Wd(t);return n.isEqual(Kc.min())&&(n=Wd(t)),new $h(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Wd(e.commitTime);return this.listener.Zo(n,t)}return Nc(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}},{key:"eu",value:function(){var e={};e.database=Jd(this.It),this.Bo(e)}},{key:"Xo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return tp(t.It,e)}))};this.Bo(n)}}]),n}(pv),mv=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.Vo=i,o.It=a,o.nu=!1,o}return f(n,[{key:"su",value:function(){if(this.nu)throw new Lc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=u(i,2),o=a[0],s=a[1];return r.Vo.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Lc(Rc.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=u(a,2),s=o[0],l=o[1];return i.Vo.fo(e,t,n,s,l,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Rc.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new Lc(Rc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.nu=!0}}]),n}(function(){return f((function e(){l(this,e)}))}()),gv=function(){function e(t,n){l(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}return f(e,[{key:"uu",value:function(){var e=this;0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ru=null,e.au("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"hu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"au",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ou?(Ec(t),this.ou=!1):Sc("OnlineStateTracker",t)}},{key:"lu",value:function(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}]),e}(),kv=f((function e(t,n,r,i,a){var o=this;l(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr((function(e){r.enqueueAndForget(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Av(o),!e.t0){e.next=5;break}return Sc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ac(t))._u.add(4),e.next=4,_v(n);case 4:return n.gu.set("Unknown"),n._u.delete(4),e.next=8,bv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.gu=new gv(r,i)}));function bv(e){return wv.apply(this,arguments)}function wv(){return wv=Me(Oe().mark((function e(t){var n,r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Av(t)){e.next=18;break}n=De(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),wv.apply(this,arguments)}function _v(e){return xv.apply(this,arguments)}function xv(){return xv=Me(Oe().mark((function e(t){var n,r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=De(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),xv.apply(this,arguments)}function Sv(e,t){var n=Ac(e);n.du.has(t.targetId)||(n.du.set(t.targetId,t),Nv(n)?Cv(n):ay(n).ko()&&Tv(n,t))}function Ev(e,t){var n=Ac(e),r=ay(n);n.du.delete(t),r.ko()&&Iv(n,t),0===n.du.size&&(r.ko()?r.Fo():Av(n)&&n.gu.set("Unknown"))}function Tv(e,t){e.yu.Ot(t.targetId),ay(e).zo(t)}function Iv(e,t){e.yu.Ot(t),ay(e).Ho(t)}function Cv(e){e.yu=new Md({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},se:function(t){return e.du.get(t)||null}}),ay(e).start(),e.gu.uu()}function Nv(e){return Av(e)&&!ay(e).No()&&e.du.size>0}function Av(e){return 0===Ac(e)._u.size}function Rv(e){e.yu=void 0}function Lv(e){return Dv.apply(this,arguments)}function Dv(){return Dv=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.du.forEach((function(e,n){Tv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Dv.apply(this,arguments)}function Ov(e,t){return Pv.apply(this,arguments)}function Pv(){return Pv=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Rv(t),Nv(t)?(t.gu.hu(n),Cv(t)):t.gu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Mv(e,t,n){return Uv.apply(this,arguments)}function Uv(){return Uv=Me(Oe().mark((function e(t,n,r){var i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.gu.set("Online"),!(n instanceof Od&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Me(Oe().mark((function e(t,n){var r,i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=De(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.du.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.du.delete(o),t.yu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Sc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Ld?t.yu.Gt(n):n instanceof Dd?t.yu.Yt(n):t.yu.Wt(n),r.isEqual(Kc.min())){e.next=29;break}return e.prev=14,e.next=17,$p(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.yu.te(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.du.get(r);i&&e.du.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.du.get(t);if(n){e.du.set(t,n.withResumeToken(bf.EMPTY_BYTE_STRING,n.snapshotVersion)),Iv(e,t);var r=new bp(n.target,t,1,n.sequenceNumber);Tv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Sc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Uv.apply(this,arguments)}function Vv(e,t,n){return jv.apply(this,arguments)}function jv(){return jv=Me(Oe().mark((function e(t,n,r){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lf(n)){e.next=2;break}throw n;case 2:return t._u.add(1),e.next=5,_v(t);case 5:t.gu.set("Offline"),r||(r=function(){return $p(t.localStore)}),t.asyncQueue.enqueueRetryable(Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t._u.delete(1),e.next=6,bv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}function Fv(e,t){return t().catch((function(n){return Vv(e,n,t)}))}function zv(e){return Bv.apply(this,arguments)}function Bv(){return Bv=Me(Oe().mark((function e(t){var n,r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ac(t),r=oy(n),i=n.fu.length>0?n.fu[n.fu.length-1].batchId:-1;case 2:if(!qv(n)){e.next=19;break}return e.prev=3,e.next=6,Jp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.fu.length&&r.Fo(),e.abrupt("break",19);case 10:i=a.batchId,Hv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vv(n,e.t0);case 17:e.next=2;break;case 19:Wv(n)&&Kv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Bv.apply(this,arguments)}function qv(e){return Av(e)&&e.fu.length<10}function Hv(e,t){e.fu.push(t);var n=oy(e);n.ko()&&n.Yo&&n.Xo(t.mutations)}function Wv(e){return Av(e)&&!oy(e).No()&&e.fu.length>0}function Kv(e){oy(e).start()}function Gv(e){return Qv.apply(this,arguments)}function Qv(){return Qv=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oy(t).eu();case 1:case"end":return e.stop()}}),e)}))),Qv.apply(this,arguments)}function $v(e){return Yv.apply(this,arguments)}function Yv(){return Yv=Me(Oe().mark((function e(t){var n,r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oy(t),r=De(t.fu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Xo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Yv.apply(this,arguments)}function Xv(e,t,n){return Jv.apply(this,arguments)}function Jv(){return Jv=Me(Oe().mark((function e(t,n,r){var i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.fu.shift(),a=gp.from(i,n,r),e.next=3,Fv(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zv(t);case 5:case"end":return e.stop()}}),e)}))),Jv.apply(this,arguments)}function Zv(e,t){return ey.apply(this,arguments)}function ey(){return ey=Me(Oe().mark((function e(t,n){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&oy(t).Yo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!pd(i=n.code)||i===Rc.ABORTED){e.next=7;break}return r=t.fu.shift(),oy(t).Oo(),e.next=5,Fv(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Wv(t)&&Kv(t);case 5:case"end":return e.stop()}}),e)}))),ey.apply(this,arguments)}function ty(e,t){return ny.apply(this,arguments)}function ny(){return ny=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ac(t)).asyncQueue.verifyOperationInProgress(),Sc("RemoteStore","RemoteStore received new credentials"),i=Av(r),r._u.add(3),e.next=6,_v(r);case 6:return i&&r.gu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r._u.delete(3),e.next=12,bv(r);case 12:case"end":return e.stop()}}),e)}))),ny.apply(this,arguments)}function ry(e,t){return iy.apply(this,arguments)}function iy(){return iy=Me(Oe().mark((function e(t,n){var r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),!n){e.next=7;break}return r._u.delete(2),e.next=5,bv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r._u.add(2),e.next=12,_v(r);case 12:r.gu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),iy.apply(this,arguments)}function ay(e){return e.pu||(e.pu=function(e,t,n){var r=Ac(e);return r.su(),new vv(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Lv.bind(null,e),Zr:Ov.bind(null,e),Wo:Mv.bind(null,e)}),e.wu.push(function(){var t=Me(Oe().mark((function t(n){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.pu.Oo(),Nv(e)?Cv(e):e.gu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.pu.stop();case 6:Rv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}function oy(e){return e.Iu||(e.Iu=function(e,t,n){var r=Ac(e);return r.su(),new yv(t,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,n)}(e.datastore,e.asyncQueue,{Yr:Gv.bind(null,e),Zr:Zv.bind(null,e),tu:$v.bind(null,e),Zo:Xv.bind(null,e)}),e.wu.push(function(){var t=Me(Oe().mark((function t(n){return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Iu.Oo(),t.next=4,zv(e);case 4:t.next=9;break;case 6:return t.next=8,e.Iu.stop();case 8:e.fu.length>0&&(Sc("RemoteStore","Stopping write stream with ".concat(e.fu.length," pending writes")),e.fu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}var uy=function(){function e(t,n,r,i,a){l(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Dc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return f(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Lc(Rc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function sy(e,t){if(Ec("AsyncQueue","".concat(t,": ").concat(e)),lf(e))return new Lc(Rc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ly=function(){function e(t){l(this,e),this.comparator=t?function(e,n){return t(e,n)||Xc.comparator(e.key,n.key)}:function(e,t){return Xc.comparator(e.key,t.key)},this.keyedMap=bd(),this.sortedSet=new pf(this.comparator)}return f(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),cy=function(){function e(){l(this,e),this.Tu=new pf(Xc.comparator)}return f(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Tu.get(t);n?0!==e.type&&3===n.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==n.type?this.Tu=this.Tu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Tu=this.Tu.remove(t):1===e.type&&2===n.type?this.Tu=this.Tu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):Cc():this.Tu=this.Tu.insert(t,e)}},{key:"Eu",value:function(){var e=[];return this.Tu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),fy=function(){function e(t,n,r,i,a,o,u,s){l(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return f(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ih(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,ly.emptySet(n),a,r,i,!0,!1)}}]),e}(),hy=f((function e(){l(this,e),this.Au=void 0,this.listeners=[]})),dy=f((function e(){l(this,e),this.queries=new yd((function(e){return Ch(e)}),Ih),this.onlineState="Unknown",this.Ru=new Set}));function py(e,t){return vy.apply(this,arguments)}function vy(){return vy=Me(Oe().mark((function e(t,n){var r,i,a,o,u;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new hy),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Au=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=sy(e.t0,"Initialization of query '".concat(Nh(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.bu(r.onlineState),o.Au&&n.Pu(o.Au)&&by(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),vy.apply(this,arguments)}function yy(e,t){return my.apply(this,arguments)}function my(){return my=Me(Oe().mark((function e(t,n){var r,i,a,o,u;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),my.apply(this,arguments)}function gy(e,t){var n,r=Ac(e),i=!1,a=De(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=De(s.listeners);try{for(c.s();!(l=c.n()).done;){l.value.Pu(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}s.Au=o}}}catch(f){a.e(f)}finally{a.f()}i&&by(r)}function ky(e,t,n){var r=Ac(e),i=r.queries.get(t);if(i){var a,o=De(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function by(e){e.Ru.forEach((function(e){e.next()}))}var wy=function(){function e(t,n,r){l(this,e),this.query=t,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}return f(e,[{key:"Pu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=De(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new fy(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),a=!0):this.Cu(e,this.onlineState)&&(this.xu(e),a=!0),this.Su=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"bu",value:function(e){this.onlineState=e;var t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}},{key:"Cu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Nu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Du",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"xu",value:function(e){e=fy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}]),e}();var _y=f((function e(t){l(this,e),this.key=t})),xy=f((function e(t){l(this,e),this.key=t})),Sy=function(){function e(t,n){l(this,e),this.query=t,this.Lu=n,this.Uu=null,this.current=!1,this.qu=Id(),this.mutatedKeys=Id(),this.Ku=Lh(t),this.Gu=new ly(this.Ku)}return f(e,[{key:"Qu",get:function(){return this.Lu}},{key:"ju",value:function(e,t){var n=this,r=t?t.Wu:new cy,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=Ah(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.zu(c,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Ku(f,s)>0||l&&n.Ku(f,l)<0)&&(u=!0)):!c&&f?(r.track({type:0,doc:f}),p=!0):c&&!f&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Gu:o,Wu:r,$i:u,mutatedKeys:a}}},{key:"zu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.Wu.Eu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Cc()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],u=0===this.qu.size&&this.current?1:0,s=u!==this.Uu;return this.Uu=u,0!==a.length||s?{snapshot:new fy(this.query,e.Gu,i,a,e.mutatedKeys,0===u,s,!1),Yu:o}:{Yu:o}}},{key:"bu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new cy,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}},{key:"Xu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.qu;this.qu=Id(),this.Gu.forEach((function(t){e.Xu(t.key)&&(e.qu=e.qu.add(t.key))}));var n=[];return t.forEach((function(t){e.qu.has(t)||n.push(new xy(t))})),this.qu.forEach((function(e){t.has(e)||n.push(new _y(e))})),n}},{key:"Zu",value:function(e){this.Lu=e.Hi,this.qu=Id();var t=this.ju(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return fy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}]),e}(),Ey=f((function e(t,n,r){l(this,e),this.query=t,this.targetId=n,this.view=r})),Ty=f((function e(t){l(this,e),this.key=t,this.ec=!1})),Iy=function(){function e(t,n,r,i,a,o){l(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new yd((function(e){return Ch(e)}),Ih),this.ic=new Map,this.rc=new Set,this.oc=new pf(Xc.comparator),this.uc=new Map,this.cc=new Dp,this.ac={},this.hc=new Map,this.lc=Ip.vn(),this.onlineState="Unknown",this.fc=void 0}return f(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function Cy(e,t){return Ny.apply(this,arguments)}function Ny(){return Ny=Me(Oe().mark((function e(t,n){var r,i,a,o,u,s;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=rm(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,Zp(r.localStore,Eh(n));case 8:return u=e.sent,r.isPrimaryClient&&Sv(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Ay(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Ny.apply(this,arguments)}function Ay(e,t,n,r){return Ry.apply(this,arguments)}function Ry(){return Ry=Me(Oe().mark((function e(t,n,r,i){var a,o,u,s,l,c;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Me(Oe().mark((function e(t,n,r,i){var a,o,u;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.ju(r),e.t0=a.$i,!e.t0){e.next=6;break}return e.next=5,nv(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.ju(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",($y(t,n.targetId,u.Yu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,nv(t.localStore,n,!0);case 3:return a=e.sent,o=new Sy(n,a.Hi),u=o.ju(a.documents),s=Rd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),l=o.applyChanges(u,t.isPrimaryClient,s),$y(t,r,l.Yu),c=new Ey(n,r,o),e.abrupt("return",(t.sc.set(n,c),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),Ry.apply(this,arguments)}function Ly(e,t){return Dy.apply(this,arguments)}function Dy(){return Dy=Me(Oe().mark((function e(t,n){var r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!Ih(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ev(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ev(r.remoteStore,i.targetId),Gy(r,i.targetId)})).catch(of);case 9:e.next=14;break;case 11:return Gy(r,i.targetId),e.next=14,ev(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Dy.apply(this,arguments)}function Oy(e,t,n){return Py.apply(this,arguments)}function Py(){return Py=Me(Oe().mark((function e(t,n,r){var i,a,o;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=im(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Ac(e),a=Wc.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Id());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=gd(),s=Id();return i.Gi.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=De(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,c=nd(l,n.get(l.key).overlayedDocument);null!=c&&u.push(new ad(l.key,c,Yf(c.value.mapValue),Yh.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:wd(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new pf(qc)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Jy(i,a.changes);case 9:return e.next=11,zv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=sy(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Py.apply(this,arguments)}function My(e,t){return Uy.apply(this,arguments)}function Uy(){return Uy=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.prev=1,e.next=4,Yp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(Nc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?Nc(n.ec):e.removedDocuments.size>0&&(Nc(n.ec),n.ec=!1))})),e.next=8,Jy(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,of(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Uy.apply(this,arguments)}function Vy(e,t,n){var r=Ac(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.bu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ac(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=De(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.bu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&by(n)}(r.eventManager,t),i.length&&r.nc.Wo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jy(e,t,n){return Fy.apply(this,arguments)}function Fy(){return Fy=Me(Oe().mark((function e(t,n,r){var i,a,o,u,s,l;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ac(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new pf(Xc.comparator)).insert(o,Xf.newNoDocument(o,Kc.min())),s=Id().add(o),l=new Ad(Kc.min(),new Map,new mf(qc),u,s),e.next=9,My(i,l);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Xy(i),e.next=16;break;case 14:return e.next=16,ev(i.localStore,n,!1).then((function(){return Gy(i,n,r)})).catch(of);case 16:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function zy(e,t){return By.apply(this,arguments)}function By(){return By=Me(Oe().mark((function e(t,n){var r,i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),i=n.batch.batchId,e.prev=1,e.next=4,Qp(r.localStore,n);case 4:return a=e.sent,Ky(r,i,null),Wy(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Jy(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,of(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),By.apply(this,arguments)}function qy(e,t,n){return Hy.apply(this,arguments)}function Hy(){return Hy=Me(Oe().mark((function e(t,n,r){var i,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ac(t),e.prev=1,e.next=4,function(e,t){var n=Ac(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Nc(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Ky(i,n,r),Wy(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Jy(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,of(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Hy.apply(this,arguments)}function Wy(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Ky(e,t,n){var r=Ac(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Gy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=De(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc._c(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.ls(t).forEach((function(t){e.cc.containsKey(t)||Qy(e,t)}))}function Qy(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(Ev(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Xy(e))}function $y(e,t,n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof _y?(e.cc.addReference(a.key,t),Yy(e,a)):a instanceof xy?(Sc("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Qy(e,a.key)):Cc()}}catch(o){i.e(o)}finally{i.f()}}function Yy(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Sc("SyncEngine","New document in limbo: "+n),e.rc.add(r),Xy(e))}function Xy(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Xc(Qc.fromString(t)),r=e.lc.next();e.uc.set(r,new Ty(n)),e.oc=e.oc.insert(n,r),Sv(e.remoteStore,new bp(Eh(kh(n.path)),r,2,cf.at))}}function Jy(e,t,n){return Zy.apply(this,arguments)}function Zy(){return Zy=Me(Oe().mark((function e(t,n,r){var i,a,o,u;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ac(t),a=[],o=[],u=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){u.push(i.dc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=Bp.Ci(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.nc.Wo(a),e.next=9,function(){var e=Me(Oe().mark((function e(t,n){var r,i,a,o,u,s,l,c;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return sf.forEach(n,(function(t){return sf.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return sf.forEach(t.Di,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lf(e.t0)){e.next=10;break}throw e.t0;case 10:Sc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=De(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ui.get(u),l=s.snapshotVersion,c=s.withLastLimboFreeSnapshotVersion(l),r.Ui=r.Ui.insert(u,c))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Zy.apply(this,arguments)}function em(e,t){return tm.apply(this,arguments)}function tm(){return tm=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ac(t)).currentUser.isEqual(n)){e.next=11;break}return Sc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Kp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new Lc(Rc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Jy(r,i.ji);case 11:case"end":return e.stop()}}),e)}))),tm.apply(this,arguments)}function nm(e,t){var n=Ac(e),r=n.uc.get(t);if(r&&r.ec)return Id().add(r.key);var i=Id(),a=n.ic.get(t);if(!a)return i;var o,u=De(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.sc.get(s);i=i.unionWith(l.view.Qu)}}catch(c){u.e(c)}finally{u.f()}return i}function rm(e){var t=Ac(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=My.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jy.bind(null,t),t.nc.Wo=gy.bind(null,t.eventManager),t.nc._c=ky.bind(null,t.eventManager),t}function im(e){var t=Ac(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=zy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qy.bind(null,t),t}var am=function(){function e(){l(this,e),this.synchronizeTabs=!1}return f(e,[{key:"initialize",value:function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.It=hv(t.databaseInfo.databaseId),this.sharedClientState=this.mc(t),this.persistence=this.gc(t),e.next=5,this.persistence.start();case 5:this.localStore=this.yc(t),this.gcScheduler=this.Ic(t,this.localStore),this.indexBackfillerScheduler=this.Tc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ic",value:function(e,t){return null}},{key:"Tc",value:function(e,t){return null}},{key:"yc",value:function(e){return Wp(this.persistence,new qp,e.initialUser,this.It)}},{key:"gc",value:function(e){return new jp(zp.Bs,this.It)}},{key:"mc",value:function(e){return new av}},{key:"terminate",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),om=function(){function e(){l(this,e)}return f(e,[{key:"initialize",value:function(){var e=Me(Oe().mark((function e(t,n){var r=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Vy(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=em.bind(null,this.syncEngine),e.next=12,ry(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new dy}},{key:"createDatastore",value:function(e){var t,n=hv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new cv(t));return function(e,t,n,r){return new mv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Vy(o.syncEngine,e,0)},a=uv.C()?new uv:new ov,new kv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Iy(e,t,n,r,i,a);return o&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(t),Sc("RemoteStore","RemoteStore shutting down."),n._u.add(5),e.next=5,_v(n);case 5:n.mu.shutdown(),n.gu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var um=function(){function e(t){l(this,e),this.observer=t,this.muted=!1}return f(e,[{key:"next",value:function(e){this.observer.next&&this.Ac(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ac(this.observer.error,e):Ec("Uncaught Error in snapshot listener:",e)}},{key:"Rc",value:function(){this.muted=!0}},{key:"Ac",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),sm=function(){function e(t,n,r,i){var a=this;l(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=bc.UNAUTHENTICATED,this.clientId=Bc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Sc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return f(e,[{key:"getConfiguration",value:function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Lc(Rc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Dc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Me(Oe().mark((function n(){var r;return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=sy(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function lm(e,t){return cm.apply(this,arguments)}function cm(){return cm=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Sc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Kp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cm.apply(this,arguments)}function fm(e,t){return hm.apply(this,arguments)}function hm(){return hm=Me(Oe().mark((function e(t,n){var r,i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,dm(t);case 3:return r=e.sent,Sc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return ty(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ty(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),hm.apply(this,arguments)}function dm(e){return pm.apply(this,arguments)}function pm(){return pm=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Sc("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,lm(t,new am);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(e){return ym.apply(this,arguments)}function ym(){return ym=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Sc("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,fm(t,new om);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),ym.apply(this,arguments)}function mm(e){return vm(e).then((function(e){return e.syncEngine}))}function gm(e){return km.apply(this,arguments)}function km(){return km=Me(Oe().mark((function e(t){var n,r;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vm(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Cy.bind(null,n.syncEngine),r.onUnlisten=Ly.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Dc;return e.asyncQueue.enqueueAndForget(Me(Oe().mark((function i(){return Oe().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new um({next:function(n){t.enqueueAndForget((function(){return yy(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Lc(Rc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new wy(n,a,{includeMetadataChanges:!0,Nu:!0});return py(e,o)},i.next=3,gm(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var wm=new Map;function _m(e,t,n){if(!n)throw new Lc(Rc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function xm(e){if(!Xc.isDocumentKey(e))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Sm(e){if(Xc.isDocumentKey(e))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Em(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Cc()}function Tm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Lc(Rc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Em(e);throw new Lc(Rc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Im=function(){function e(t){var n;if(l(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Lc(Rc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Lc(Rc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new Lc(Rc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return f(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Cm=function(){function e(t,n,r,i){l(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Im({}),this._settingsFrozen=!1}return f(e,[{key:"app",get:function(){if(!this._app)throw new Lc(Rc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Lc(Rc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Im(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Pc;switch(e.type){case"gapi":var t=e.client;return new Vc(t,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Lc(Rc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=wm.get(e);t&&(Sc("ComponentProvider","Removing Datastore"),wm.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();var Nm=function(){function e(t,n,r){l(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return f(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Rm(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Am=function(){function e(t,n,r){l(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return f(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Rm=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this,e,r,kh(i)))._path=i,a.type="collection",a}return f(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Nm(this.firestore,null,new Xc(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Am);function Lm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),_m("collection","path",t),e instanceof Cm){var a=Qc.fromString.apply(Qc,[t].concat(r));return Sm(a),new Rm(e,null,a)}if(!(e instanceof Nm||e instanceof Rm))throw new Lc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qc.fromString.apply(Qc,[t].concat(r)));return Sm(o),new Rm(e.firestore,null,o)}function Dm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=tt(e),1===arguments.length&&(t=Bc.R()),_m("doc","path",t),e instanceof Cm){var a=Qc.fromString.apply(Qc,[t].concat(r));return xm(a),new Nm(e,null,new Xc(a))}if(!(e instanceof Nm||e instanceof Rm))throw new Lc(Rc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Qc.fromString.apply(Qc,[t].concat(r)));return xm(o),new Nm(e.firestore,e instanceof Rm?e.converter:null,new Xc(o))}var Om=function(){function e(){var t=this;l(this,e),this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new dv(this,"async_queue_retry"),this.jc=function(){var e=fv();e&&Sc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.xo.bo()};var n=fv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.jc)}return f(e,[{key:"isShuttingDown",get:function(){return this.Lc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Wc(),this.zc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;var t=fv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.jc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Wc(),this.Lc)return new Promise((function(){}));var n=new Dc;return this.zc((function(){return t.Lc&&t.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Bc.push(e),t.Hc()}))}},{key:"Hc",value:function(){var e=Me(Oe().mark((function e(){var t=this;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Bc.length){e.next=14;break}return e.prev=1,e.next=4,this.Bc[0]();case 4:this.Bc.shift(),this.xo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lf(e.t0)){e.next=12;break}throw e.t0;case 12:Sc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Bc.length>0&&this.xo.Ao((function(){return t.Hc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"zc",value:function(e){var t=this,n=this.$c.then((function(){return t.Kc=!0,e().catch((function(e){t.qc=e,t.Kc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ec("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Kc=!1,e}))}));return this.$c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Wc(),this.Qc.indexOf(e)>-1&&(t=0);var i=uy.createAndSchedule(this,e,t,n,(function(e){return r.Jc(e)}));return this.Uc.push(i),i}},{key:"Wc",value:function(){this.qc&&Cc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Yc",value:function(){var e=Me(Oe().mark((function e(){var t;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.$c,e.next=3,t;case 3:if(t!==this.$c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Xc",value:function(e){var t,n=De(this.Uc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Zc",value:function(e){var t=this;return this.Yc().then((function(){t.Uc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=De(t.Uc);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Yc()}))}},{key:"ta",value:function(e){this.Qc.push(e)}},{key:"Jc",value:function(e){var t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}]),e}();var Pm=function(e){d(n,e);var t=k(n);function n(e,r,i,a){var o;return l(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new Om,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return f(n,[{key:"_terminate",value:function(){return this._firestoreClient||Um(this),this._firestoreClient.terminate()}}]),n}(Cm);function Mm(e){return e._firestoreClient||Um(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Um(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Cf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new sm(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Vm=function(){function e(){l(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yc(n)}return f(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var jm=function(){function e(t){l(this,e),this._byteString=t}return f(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(bf.fromBase64String(t))}catch(t){throw new Lc(Rc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(bf.fromUint8Array(t))}}]),e}(),Fm=f((function e(t){l(this,e),this._methodName=t})),zm=function(){function e(t,n){if(l(this,e),!isFinite(t)||t<-90||t>90)throw new Lc(Rc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Lc(Rc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return f(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return qc(this._lat,e._lat)||qc(this._long,e._long)}}]),e}(),Bm=/^__.*__$/,qm=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new ad(e,this.data,this.fieldMask,t,this.fieldTransforms):new id(e,this.data,t,this.fieldTransforms)}}]),e}(),Hm=function(){function e(t,n,r){l(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return f(e,[{key:"toMutation",value:function(e,t){return new ad(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Wm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Cc()}}var Km=function(){function e(t,n,r,i,a,o){l(this,e),this.settings=t,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return f(e,[{key:"path",get:function(){return this.settings.path}},{key:"na",get:function(){return this.settings.na}},{key:"sa",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.oa(e),r}},{key:"ua",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.sa({path:n,ra:!1});return r.ea(),r}},{key:"ca",value:function(e){return this.sa({path:void 0,ra:!0})}},{key:"aa",value:function(e){return ug(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"ea",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.oa(this.path.get(e))}},{key:"oa",value:function(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Wm(this.na)&&Bm.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}]),e}(),Gm=function(){function e(t,n,r){l(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.It=r||hv(t)}return f(e,[{key:"fa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Km({na:e,methodName:t,la:n,path:Yc.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}]),e}();function Qm(e){var t=e._freezeSettings(),n=hv(e._databaseId);return new Gm(e._databaseId,!!t.ignoreUndefinedProperties,n)}function $m(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.fa(a.merge||a.mergeFields?2:0,t,n,i);rg("Data must be an object, but it was:",o,r);var u,s,l=tg(r,o);if(a.merge)u=new kf(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=De(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=c.value,p=ig(t,d,n);if(!o.contains(p))throw new Lc(Rc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));sg(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new kf(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new qm(new $f(l),u,s)}var Ym=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.na)throw 1===e.na?e.aa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.aa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Fm);function Xm(e,t,n,r){var i=e.fa(1,t,n);rg("Data must be an object, but it was:",i,r);var a=[],o=$f.empty();hf(r,(function(e,r){var u=og(t,e,n);r=tt(r);var s=i.ua(u);if(r instanceof Ym)a.push(u);else{var l=eg(r,s);null!=l&&(a.push(u),o.set(u,l))}}));var u=new kf(a);return new Hm(o,u,i.fieldTransforms)}function Jm(e,t,n,r,i,a){var o=e.fa(1,t,n),u=[ig(t,r,n)],s=[i];if(a.length%2!=0)throw new Lc(Rc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)u.push(ig(t,a[l])),s.push(a[l+1]);for(var c=[],f=$f.empty(),h=u.length-1;h>=0;--h)if(!sg(c,u[h])){var d=u[h],p=s[h];p=tt(p);var v=o.ua(d);if(p instanceof Ym)c.push(d);else{var y=eg(p,v);null!=y&&(c.push(d),f.set(d,y))}}var m=new kf(c);return new Hm(f,m,o.fieldTransforms)}function Zm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return eg(n,e.fa(r?4:3,t))}function eg(e,t){if(ng(e=tt(e)))return rg("Unsupported field value:",t,e),tg(e,t);if(e instanceof Fm)return function(e,t){if(!Wm(t.na))throw t.aa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.aa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=De(e);try{for(a.s();!(n=a.n()).done;){var o=eg(n.value,t.ca(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=tt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Mh(t.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Wc.fromDate(e);return{timestampValue:Bd(t.It,n)}}if(e instanceof Wc){var r=new Wc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bd(t.It,r)}}if(e instanceof zm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof jm)return{bytesValue:qd(t.It,e._byteString)};if(e instanceof Nm){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.aa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Kd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.aa("Unsupported field value: ".concat(Em(e)))}(e,t)}function tg(e,t){var n={};return df(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):hf(e,(function(e,r){var i=eg(r,t.ia(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function ng(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Wc||e instanceof zm||e instanceof jm||e instanceof Nm||e instanceof Fm)}function rg(e,t,n){if(!ng(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Em(n);throw"an object"===r?t.aa(e+" a custom object"):t.aa(e+" "+r)}}function ig(e,t,n){if((t=tt(t))instanceof Vm)return t._internalPath;if("string"==typeof t)return og(e,t);throw ug("Field path arguments must be of type string or ",e,!1,void 0,n)}var ag=new RegExp("[~\\*/\\[\\]]");function og(e,t,n){if(t.search(ag)>=0)throw ug("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return b(Vm,s(t.split(".")))._internalPath}catch(r){throw ug("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ug(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Lc(Rc.INVALID_ARGUMENT,u+e+s)}function sg(e,t){return e.some((function(e){return e.isEqual(t)}))}var lg=function(){function e(t,n,r,i,a){l(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return f(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Nm(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new cg(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(fg("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),cg=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){return Le(p(n.prototype),"data",this).call(this)}}]),n}(lg);function fg(e,t){return"string"==typeof t?og(e,t):t instanceof Vm?t._internalPath:t._delegate._internalPath}var hg=function(){function e(t,n){l(this,e),this.hasPendingWrites=t,this.fromCache=n}return f(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),dg=function(e){d(n,e);var t=k(n);function n(e,r,i,a,o,u){var s;return l(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return f(n,[{key:"exists",value:function(){return Le(p(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new pg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(fg("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(lg),pg=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Le(p(n.prototype),"data",this).call(this,e)}}]),n}(dg),vg=function(){function e(t,n,r,i){l(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new hg(i.hasPendingWrites,i.fromCache),this.query=r}return f(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new pg(n._firestore,n._userDataWriter,r.key,r,new hg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Lc(Rc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new pg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new pg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:yg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function yg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Cc()}}function mg(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Lc(Rc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gg=f((function e(){l(this,e)}));function kg(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var bg=function(e){d(n,e);var t=k(n);function n(e,r,i){var a;return l(this,n),(a=t.call(this)).wa=e,a.ma=r,a.ga=i,a.type="where",a}return f(n,[{key:"_apply",value:function(e){var t=Qm(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){xg(o,a);var s,l=[],c=De(o);try{for(c.s();!(s=c.n()).done;){var f=s.value;l.push(_g(r,e,f))}}catch(d){c.e(d)}finally{c.f()}u={arrayValue:{values:l}}}else u=_g(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||xg(o,a),u=Zm(n,"where",o,"in"===a||"not-in"===a);var h=rh.create(i,a,u);return function(e,t){if(t.dt()){var n=_h(e);if(null!==n&&!n.isEqual(t.field))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=wh(e);null!==r&&Sg(e,t.field,r)}var i=function(e,t){var n,r=De(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Am(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new mh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(gg);function wg(e,t,n){var r=t,i=fg("where",e);return new bg(i,r,n)}function _g(e,t,n){if("string"==typeof(n=tt(n))){if(""===n)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xh(t)&&-1!==n.indexOf("/"))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Qc.fromString(n));if(!Xc.isDocumentKey(r))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return zf(e,new Xc(r))}if(n instanceof Nm)return zf(e,n._key);throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Em(n),"."))}function xg(e,t){if(!Array.isArray(e)||0===e.length)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Lc(Rc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Sg(e,t,n){if(!n.isEqual(t))throw new Lc(Rc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Eg=function(){function e(){l(this,e)}return f(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Of(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xf(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Cc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return hf(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new zm(xf(e.latitude),xf(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=Tf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(If(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=_f(e);return new Wc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Qc.fromString(e);Nc(dp(n));var r=new Nf(n.get(1),n.get(3)),i=new Xc(n.popFirst(5));return r.isEqual(t)||Ec("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Tg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Ig=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),(r=t.call(this)).firestore=e,r}return f(n,[{key:"convertBytes",value:function(e){return new jm(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nm(this.firestore,null,t)}}]),n}(Eg);function Cg(e){e=Tm(e,Am);var t=Tm(e.firestore,Pm),n=Mm(t),r=new Ig(t);return mg(e._query),bm(n,e._query).then((function(n){return new vg(t,r,e,n)}))}function Ng(e,t,n){e=Tm(e,Nm);var r=Tm(e.firestore,Pm),i=Tg(e.converter,t,n);return Rg(r,[$m(Qm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Yh.none())])}function Ag(e,t,n){e=Tm(e,Nm);for(var r=Tm(e.firestore,Pm),i=Qm(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Rg(r,[("string"==typeof(t=tt(t))||t instanceof Vm?Jm(i,"updateDoc",e._key,t,n,o):Xm(i,"updateDoc",e._key,t)).toMutation(e._key,Yh.exists(!0))])}function Rg(e,t){return function(e,t){var n=new Dc;return e.asyncQueue.enqueueAndForget(Me(Oe().mark((function r(){return Oe().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Oy,r.next=3,mm(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Mm(e),t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];wc="9.10.0",qt(new nt("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Pm(new Mc(e.getProvider("auth-internal")),new Fc(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Lc(Rc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Nf(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Yt(kc,"3.5.0",e),Yt(kc,"3.5.0","esm2017")}();var Lg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Vt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Kt.create("bad-app-name",{appName:String(i)});var a=Ft.get(i);if(a){if(Qe(e,a.options)&&Qe(r,a.config))return a;throw Kt.create("duplicate-app",{appName:i})}var o,u=new ut(i),s=De(zt.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u.addComponent(l)}}catch(f){s.e(f)}finally{s.f()}var c=new Gt(e,r,u);return Ft.set(i,c),c}({apiKey:"AIzaSyC0Xo-vJzn2Ji3j0C3QZcvQhYMg0Dz4p5U",authDomain:"mister-great.firebaseapp.com",projectId:"mister-great",storageBucket:"mister-great.appspot.com",messagingSenderId:"822030212769",appId:"1:822030212769:web:ac48a9cd4c3c70ee961ae0"}),Dg=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t(),t=Ht(e,"auth");return t.isInitialized()?t.getImmediate():Cn(e,{popupRedirectResolver:oo,persistence:[ia,Di,Pi]})}(Lg),Og=function(e,t){var n="string"==typeof e?e:t||"(default)";return Ht("object"==typeof e?e:$t(),"firestore").getImmediate({identifier:n})}(Lg),Pg=n(559);var Mg=function(e){var n=e.isLogin,r=he();return(0,t.useEffect)((function(){n&&r("/orderHistory")})),(0,Pg.jsxs)("div",{className:"h-full flex justify-between items-center relative",children:[(0,Pg.jsx)(Ae,{to:"auth/employee",className:"absolute top-4 right-6 font-bold text-sm",children:(0,Pg.jsx)("button",{children:"\uc9c1\uc6d0 \ub85c\uadf8\uc778"})}),(0,Pg.jsx)(Ae,{to:"auth",className:"w-1/2 mx-4 h-40 flex justify-center items-center font-bold text-2xl border shadow-lg rounded-2xl",children:(0,Pg.jsx)("button",{className:"",children:"\ub85c\uadf8\uc778/\ud68c\uc6d0\uac00\uc785\ud558\uae30"})}),(0,Pg.jsx)(Ae,{to:"order",className:"w-1/2 mx-4 h-40 flex justify-center items-center font-bold text-2xl border shadow-lg rounded-2xl",children:(0,Pg.jsx)("button",{className:"",children:"\ube44\ud68c\uc6d0 \uc8fc\ubb38\ud558\uae30"})})]})};var Ug=function(e){var n=e.isLogin,r=e.isEmployee,i=he(),a=u((0,t.useState)(""),2),o=a[0],s=a[1],l=u((0,t.useState)(""),2),c=l[0],f=l[1],h=function(e){var t=e.target,n=t.name,r=t.value;"email"===n?s(r):"password"===n&&f(r)},d=function(){var e=Me(Oe().mark((function e(t){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,Ii(Dg,o,c);case 4:e.next=15;break;case 6:if(e.prev=6,e.t0=e.catch(1),"auth/user-not-found"!==e.t0.code){e.next=11;break}return alert("\uc774\uba54\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 11:if("auth/wrong-password"!==e.t0.code){e.next=14;break}return alert("\ube44\ubc00\ubc88\ud638\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 14:return e.abrupt("return",e.t0.message.replace("Firebase: Error ",""));case 15:i(r?"/management":"/auth");case 16:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){n&&i("/orderHistory")}),[n,i]),(0,Pg.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,Pg.jsx)("div",{className:"h-96 w-1/2 bg-gray-100 py-20 rounded-md",children:(0,Pg.jsxs)("form",{onSubmit:d,className:"h-full flex flex-col justify-between items-center",children:[(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",onChange:h,type:"email",name:"email",value:o,placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694"}),(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",onChange:h,type:"password",name:"password",value:c,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,Pg.jsx)("button",{type:"submit",className:"w-32 p-2 rounded-md shadow border bg-white",children:"\ub85c\uadf8\uc778"}),!r&&(0,Pg.jsxs)("p",{children:[(0,Pg.jsx)("span",{children:"\uc544\uc9c1 \ud68c\uc6d0\uc774 \uc544\ub2c8\uc2e0\uac00\uc694?"}),(0,Pg.jsx)(Ae,{to:"../register",className:"ml-2 text-red-500 font-bold",children:"\ud68c\uc6d0\uac00\uc785"})]})]})})})};function Vg(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var jg=n(599),Fg=["override"],zg=["cachePolicyForParams_UNSTABLE"],Bg=Oe().mark(bb),qg=Oe().mark(Rw);var Hg=function(e){var t=new Error(e);if(void 0===t.stack)try{throw t}catch(n){}return t};var Wg=function(e){return!!e&&"function"===typeof e.then};var Kg=function(e,t){if(null!=e)return e;throw Hg(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};function Gg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Qg=function(){function e(){l(this,e)}return f(e,[{key:"getValue",value:function(){throw Hg("BaseLoadable")}},{key:"toPromise",value:function(){throw Hg("BaseLoadable")}},{key:"valueMaybe",value:function(){throw Hg("BaseLoadable")}},{key:"valueOrThrow",value:function(){throw Hg('Loadable expected value, but in "'.concat(this.state,'" state'))}},{key:"promiseMaybe",value:function(){throw Hg("BaseLoadable")}},{key:"promiseOrThrow",value:function(){throw Hg('Loadable expected promise, but in "'.concat(this.state,'" state'))}},{key:"errorMaybe",value:function(){throw Hg("BaseLoadable")}},{key:"errorOrThrow",value:function(){throw Hg('Loadable expected error, but in "'.concat(this.state,'" state'))}},{key:"is",value:function(e){return e.state===this.state&&e.contents===this.contents}},{key:"map",value:function(e){throw Hg("BaseLoadable")}}]),e}(),$g=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),Gg(m(r=t.call(this)),"state","hasValue"),Gg(m(r),"contents",void 0),r.contents=e,r}return f(n,[{key:"getValue",value:function(){return this.contents}},{key:"toPromise",value:function(){return Promise.resolve(this.contents)}},{key:"valueMaybe",value:function(){return this.contents}},{key:"valueOrThrow",value:function(){return this.contents}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;try{var n=e(this.contents);return Wg(n)?ek(n):rk(n)?n:Jg(n)}catch(r){return Wg(r)?ek(r.next((function(){return t.map(e)}))):Zg(r)}}}]),n}(Qg),Yg=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),Gg(m(r=t.call(this)),"state","hasError"),Gg(m(r),"contents",void 0),r.contents=e,r}return f(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return Promise.reject(this.contents)}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){}},{key:"errorMaybe",value:function(){return this.contents}},{key:"errorOrThrow",value:function(){return this.contents}},{key:"map",value:function(e){return this}}]),n}(Qg),Xg=function(e){d(n,e);var t=k(n);function n(e){var r;return l(this,n),Gg(m(r=t.call(this)),"state","loading"),Gg(m(r),"contents",void 0),r.contents=e,r}return f(n,[{key:"getValue",value:function(){throw this.contents}},{key:"toPromise",value:function(){return this.contents}},{key:"valueMaybe",value:function(){}},{key:"promiseMaybe",value:function(){return this.contents}},{key:"promiseOrThrow",value:function(){return this.contents}},{key:"errorMaybe",value:function(){}},{key:"map",value:function(e){var t=this;return ek(this.contents.then((function(t){var n=e(t);if(rk(n)){var r=n;switch(r.state){case"hasValue":case"loading":return r.contents;case"hasError":throw r.contents}}return n})).catch((function(n){if(Wg(n))return n.then((function(){return t.map(e).contents}));throw n})))}}]),n}(Qg);function Jg(e){return Object.freeze(new $g(e))}function Zg(e){return Object.freeze(new Yg(e))}function ek(e){return Object.freeze(new Xg(e))}function tk(){return Object.freeze(new Xg(new Promise((function(){}))))}function nk(e){var t=(Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))).map((function(e){return rk(e)?e:Wg(e)?ek(e):Jg(e)})),n=function(e){return e.every((function(e){return"hasValue"===e.state}))?Jg(e.map((function(e){return e.contents}))):e.some((function(e){return"hasError"===e.state}))?Zg(Kg(e.find((function(e){return"hasError"===e.state})),"Invalid loadable passed to loadableAll").contents):ek(Promise.all(e.map((function(e){return e.contents}))))}(t);return Array.isArray(e)?n:n.map((function(t){return Object.getOwnPropertyNames(e).reduce((function(e,n,r){return vt(vt({},e),{},Ue({},n,t[r]))}),{})}))}function rk(e){return e instanceof Qg}var ik={of:function(e){return Wg(e)?ek(e):rk(e)?e:Jg(e)},error:function(e){return Zg(e)},loading:function(){return tk()},all:nk,isLoadable:rk},ak={loadableWithValue:Jg,loadableWithError:Zg,loadableWithPromise:ek,loadableLoading:tk,loadableAll:nk,isLoadable:rk,RecoilLoadable:ik},ok=ak.loadableWithValue,uk=ak.loadableWithError,sk=ak.loadableWithPromise,lk=ak.loadableLoading,ck=ak.loadableAll,fk=ak.isLoadable,hk=ak.RecoilLoadable,dk=Object.freeze({__proto__:null,loadableWithValue:ok,loadableWithError:uk,loadableWithPromise:sk,loadableLoading:lk,loadableAll:ck,isLoadable:fk,RecoilLoadable:hk}),pk=(new Map).set("recoil_hamt_2020",!0).set("recoil_sync_external_store",!0).set("recoil_suppress_rerender_in_callback",!0).set("recoil_memory_managament_2020",!0);function vk(e){var t;return null!==(t=pk.get(e))&&void 0!==t&&t}vk.setPass=function(e){pk.set(e,!0)},vk.setFail=function(e){pk.set(e,!1)},vk.clear=function(){pk.clear()};var yk=vk;var mk,gk,kk,bk=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.error,null},wk=bk,_k=null!==(mk=t.createMutableSource)&&void 0!==mk?mk:t.unstable_createMutableSource,xk=null!==(gk=t.useMutableSource)&&void 0!==gk?gk:t.unstable_useMutableSource,Sk=null!==(kk=t.useSyncExternalStore)&&void 0!==kk?kk:t.unstable_useSyncExternalStore,Ek=!1;var Tk={createMutableSource:_k,useMutableSource:xk,useSyncExternalStore:Sk,currentRendererSupportsUseSyncExternalStore:function(){var e,n=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,r=n.ReactCurrentDispatcher,i=n.ReactCurrentOwner,a=null!=(null!==(e=null===r||void 0===r?void 0:r.current)&&void 0!==e?e:i.currentDispatcher).useSyncExternalStore;return!Sk||a||Ek||(Ek=!0,wk("A React renderer without React 18+ API support is being used with React 18+.")),a},reactMode:function(){return yk("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:yk("recoil_sync_external_store")&&null!=Sk?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:yk("recoil_mutable_source")&&null!=xk&&"undefined"!==typeof window&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?yk("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:yk("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}},isFastRefreshEnabled:function(){return!1}},Ik={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0};!function(){var e,t,n;if("undefined"!==typeof process&&null!=(null===(e=process)||void 0===e?void 0:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})){var r=null===(t={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED)||void 0===t||null===(n=t.toLowerCase())||void 0===n?void 0:n.trim();if(null!=r&&""!==r){if(!["true","false"].includes(r))throw Hg("process.env.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED value must be 'true', 'false', or empty: ".concat(r));Ik.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED="true"===r}}}();var Ck=Ik,Nk=function(){function e(t){l(this,e),Gg(this,"key",void 0),this.key=t}return f(e,[{key:"toJSON",value:function(){return{key:this.key}}}]),e}(),Ak=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(Nk),Rk=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(Nk);var Lk={AbstractRecoilValue:Nk,RecoilState:Ak,RecoilValueReadOnly:Rk,isRecoilValue:function(e){return e instanceof Ak||e instanceof Rk}},Dk=Lk.AbstractRecoilValue,Ok=Lk.RecoilState,Pk=Lk.RecoilValueReadOnly,Mk=Lk.isRecoilValue,Uk=Object.freeze({__proto__:null,AbstractRecoilValue:Dk,RecoilState:Ok,RecoilValueReadOnly:Pk,isRecoilValue:Mk});var Vk=function(e){};var jk=function(e,t){return Oe().mark((function n(){var r,i,a,o;return Oe().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=0,i=De(e),n.prev=2,i.s();case 4:if((a=i.n()).done){n.next=10;break}return o=a.value,n.next=8,t(o,r++);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t0=n.catch(2),i.e(n.t0);case 15:return n.prev=15,i.f(),n.finish(15);case 18:case"end":return n.stop()}}),n,null,[[2,12,15,18]])}))()},Fk=f((function e(){l(this,e)})),zk=new Fk,Bk=new Map,qk=new Map;var Hk=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(w(Error));var Wk=new Map;function Kk(e){return Wk.get(e)}var Gk={nodes:Bk,recoilValues:qk,registerNode:function(e){Ck.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&function(e){if(Bk.has(e)){var t='Duplicate atom key "'.concat(e,'". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.');console.warn(t)}}(e.key),Bk.set(e.key,e);var t=null==e.set?new Uk.RecoilValueReadOnly(e.key):new Uk.RecoilState(e.key);return qk.set(e.key,t),t},getNode:function(e){var t=Bk.get(e);if(null==t)throw new Hk('Missing definition for RecoilValue: "'.concat(e,'""'));return t},getNodeMaybe:function(e){return Bk.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(yk("recoil_memory_managament_2020")){var n,r=Bk.get(e);if(null!==r&&void 0!==r&&null!==(t=r.shouldDeleteConfigOnRelease)&&void 0!==t&&t.call(r))Bk.delete(e),null===(n=Kk(e))||void 0===n||n(),Wk.delete(e)}},setConfigDeletionHandler:function(e,t){yk("recoil_memory_managament_2020")&&(void 0===t?Wk.delete(e):Wk.set(e,t))},getConfigDeletionHandler:Kk,recoilValuesForKeys:function(e){return jk(e,(function(e){return Kg(qk.get(e))}))},NodeMissingError:Hk,DefaultValue:Fk,DEFAULT_VALUE:zk};var Qk={enqueueExecution:function(e,t){t()}};var $k=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,a=r/2,o=r/4,u={},s=function(e){return function(){return e}},l=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,a=e.length;i<a;++i){r=(r<<5)-r+e.charCodeAt(i)|0}return r},c=function(e,t){return t>>>e&i},f=function(e){return 1<<e},h=function(e,t){return function(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&e+(e>>16)}(e&t-1)},d=function(e,t,n,r){var i=r;if(!e){var a=r.length;i=new Array(a);for(var o=0;o<a;++o)i[o]=r[o]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,a=0,o=n;if(e)i=a=t;else for(o=new Array(r);i<t;)o[a++]=n[i++];for(++i;i<=r;)o[a++]=n[i++];return e&&(o.length=r),o},v={__hamt_isEmpty:!0},y=function(e){return e===v||e&&e.__hamt_isEmpty},m=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:x}},g=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:S}},k=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:E}},b=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:T}},w=function e(t,n,r,i,a,o){if(r===a)return g(t,r,[o,i]);var u=c(n,r),s=c(n,a);return k(t,f(u)|f(s),u===s?[e(t,n+5,r,i,a,o)]:u<s?[i,o]:[o,i])},_=function(e,t){return e===t.edit},x=function(e,t,n,r,i,a,o){if(t(a,this.key)){var s=r(this.value);return s===this.value?this:s===u?(--o.value,v):_(e,this)?(this.value=s,this):m(e,i,a,s)}var l=r();return l===u?this:(++o.value,w(e,n,this.hash,this,i,m(e,i,a,l)))},S=function(e,t,n,r,i,a,o){if(i===this.hash){var s=function(e,t,n,r,i,a,o,s){for(var l=i.length,c=0;c<l;++c){var f=i[c];if(n(o,f.key)){var h=f.value,v=a(h);return v===h?i:v===u?(--s.value,p(e,c,i)):d(e,c,m(t,r,o,v),i)}}var y=a();return y===u?i:(++s.value,d(e,l,m(t,r,o,y),i))}(_(e,this),e,t,this.hash,this.children,r,a,o);return s===this.children?this:s.length>1?g(e,this.hash,s):s[0]}var l=r();return l===u?this:(++o.value,w(e,n,this.hash,this,i,m(e,i,a,l)))},E=function(e,t,n,r,i,o,u){var s=this.mask,l=this.children,m=c(n,i),g=f(m),w=h(s,g),x=s&g,S=x?l[w]:v,E=S._modify(e,t,n+5,r,i,o,u);if(S===E)return this;var T,I=_(e,this),C=s,N=void 0;if(x&&y(E)){if(!(C&=~g))return v;if(l.length<=2&&((T=l[1^w])===v||1===T.type||2===T.type))return l[1^w];N=p(I,w,l)}else if(x||y(E))N=d(I,w,E,l);else{if(l.length>=a)return function(e,t,n,r,i){for(var a=[],o=r,u=0,s=0;o;++s)1&o&&(a[s]=i[u++]),o>>>=1;return a[t]=n,b(e,u+1,a)}(e,m,E,s,l);C|=g,N=function(e,t,n,r){var i=r.length;if(e){for(var a=i;a>=t;)r[a--]=r[a];return r[t]=n,r}for(var o=0,u=0,s=new Array(i+1);o<t;)s[u++]=r[o++];for(s[t]=n;o<i;)s[++u]=r[o++];return s}(I,w,E,l)}return I?(this.mask=C,this.children=N,this):k(e,C,N)},T=function(e,t,n,r,i,a,u){var s=this.size,l=this.children,f=c(n,i),h=l[f],p=(h||v)._modify(e,t,n+5,r,i,a,u);if(h===p)return this;var m=_(e,this),g=void 0;if(y(h)&&!y(p))++s,g=d(m,f,p,l);else if(!y(h)&&y(p)){if(--s<=o)return function(e,t,n,r){for(var i=new Array(t-1),a=0,o=0,u=0,s=r.length;u<s;++u)if(u!==n){var l=r[u];l&&!y(l)&&(i[a++]=l,o|=1<<u)}return k(e,o,i)}(e,s,f,l);g=d(m,f,v,l)}else g=d(m,f,p,l);return m?(this.size=s,this.children=g,this):b(e,s,g)};function I(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}v._modify=function(e,t,n,r,i,a,o){var s=r();return s===u?v:(++o.value,m(e,i,a,s))},I.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new I(this._editable,this._edit,this._config,e,t)};var C=n.tryGetHash=function(e,t,n,r){for(var i=r._root,a=0,o=r._config.keyEq;;)switch(i.type){case 1:return o(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var u=i.children,s=0,l=u.length;s<l;++s){var d=u[s];if(o(n,d.key))return d.value}return e;case 3:var p=c(a,t),v=f(p);if(i.mask&v){i=i.children[h(i.mask,v)],a+=5;break}return e;case 4:if(i=i.children[c(a,t)]){a+=5;break}return e;default:return e}};I.prototype.tryGetHash=function(e,t,n){return C(e,t,n,this)};var N=n.tryGet=function(e,t,n){return C(e,n._config.hash(t),t,n)};I.prototype.tryGet=function(e,t){return N(e,t,this)};var A=n.getHash=function(e,t,n){return C(void 0,e,t,n)};I.prototype.getHash=function(e,t){return A(e,t,this)};n.get=function(e,t){return C(void 0,t._config.hash(e),e,t)};I.prototype.get=function(e,t){return N(t,e,this)};var R=n.has=function(e,t,n){return C(u,e,t,n)!==u};I.prototype.hasHash=function(e,t){return R(e,t,this)};var L=n.has=function(e,t){return R(t._config.hash(e),e,t)};I.prototype.has=function(e){return L(e,this)};var D=function(e,t){return e===t};n.make=function(e){return new I(0,0,{keyEq:e&&e.keyEq||D,hash:e&&e.hash||l},v,0)},n.empty=n.make();var O=n.isEmpty=function(e){return e&&!!y(e._root)};I.prototype.isEmpty=function(){return O(this)};var P=n.modifyHash=function(e,t,n,r){var i={value:r._size},a=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(a,i.value)};I.prototype.modifyHash=function(e,t,n){return P(n,e,t,this)};var M=n.modify=function(e,t,n){return P(e,n._config.hash(t),t,n)};I.prototype.modify=function(e,t){return M(t,e,this)};var U=n.setHash=function(e,t,n,r){return P(s(n),e,t,r)};I.prototype.setHash=function(e,t,n){return U(e,t,n,this)};var V=n.set=function(e,t,n){return U(n._config.hash(e),e,t,n)};I.prototype.set=function(e,t){return V(e,t,this)};var j=s(u),F=n.removeHash=function(e,t,n){return P(j,e,t,n)};I.prototype.removeHash=I.prototype.deleteHash=function(e,t){return F(e,t,this)};var z=n.remove=function(e,t){return F(t._config.hash(e),e,t)};I.prototype.remove=I.prototype.delete=function(e){return z(e,this)};var B=n.beginMutation=function(e){return new I(e._editable+1,e._edit+1,e._config,e._root,e._size)};I.prototype.beginMutation=function(){return B(this)};var q=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};I.prototype.endMutation=function(){return q(this)};var H=n.mutate=function(e,t){var n=B(t);return e(n),q(n)};I.prototype.mutate=function(e){return H(e,this)};var W=function(e){return e&&K(e[0],e[1],e[2],e[3],e[4])},K=function(e,t,n,r,i){for(;n<e;){var a=t[n++];if(a&&!y(a))return G(a,r,[e,t,n,r,i])}return W(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return K(r.length,r,0,t,n);default:return W(n)}},Q={done:!0};function $(e){this.v=e}$.prototype.next=function(){if(!this.v)return Q;var e=this.v;return this.v=W(e.rest),e},$.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new $(G(e._root,t))},X=function(e){return[e.key,e.value]},J=n.entries=function(e){return Y(e,X)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return J(this)};var Z=function(e){return e.key},ee=n.keys=function(e){return Y(e,Z)};I.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=I.prototype.values=function(e){return Y(e,te)};I.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],a=void 0;a=i.pop();)for(var o=0,u=a.length;o<u;){var s=a[o++];s&&s.type&&(1===s.type?t=e(t,s.value,s.key):i.push(s.children))}return t};I.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};I.prototype.forEach=function(e){return ie(e,this)};var ae=n.count=function(e){return e._size};I.prototype.count=function(){return ae(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n})),Yk=function(){function e(t){l(this,e),Gg(this,"_map",void 0),this._map=new Map(null===t||void 0===t?void 0:t.entries())}return f(e,[{key:"keys",value:function(){return this._map.keys()}},{key:"entries",value:function(){return this._map.entries()}},{key:"get",value:function(e){return this._map.get(e)}},{key:"has",value:function(e){return this._map.has(e)}},{key:"set",value:function(e,t){return this._map.set(e,t),this}},{key:"delete",value:function(e){return this._map.delete(e),this}},{key:"clone",value:function(){return Jk(this)}},{key:"toMap",value:function(){return new Map(this._map)}}]),e}(),Xk=function(){function e(t){if(l(this,e),Gg(this,"_hamt",$k.empty.beginMutation()),t instanceof e){var n=t._hamt.endMutation();t._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(t){var r,i=De(t.entries());try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];this._hamt.set(o,s)}}catch(c){i.e(c)}finally{i.f()}}}return f(e,[{key:"keys",value:function(){return this._hamt.keys()}},{key:"entries",value:function(){return this._hamt.entries()}},{key:"get",value:function(e){return this._hamt.get(e)}},{key:"has",value:function(e){return this._hamt.has(e)}},{key:"set",value:function(e,t){return this._hamt.set(e,t),this}},{key:"delete",value:function(e){return this._hamt.delete(e),this}},{key:"clone",value:function(){return Jk(this)}},{key:"toMap",value:function(){return new Map(this._hamt)}}]),e}();function Jk(e){return yk("recoil_hamt_2020")?new Xk(e):new Yk(e)}var Zk=Jk;var eb=function(e){for(var t=new Set,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a,o=De(e);try{e:for(o.s();!(a=o.n()).done;){var u,s=a.value,l=De(r);try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.has(s))continue e}}catch(f){l.e(f)}finally{l.f()}t.add(s)}}catch(f){o.e(f)}finally{o.f()}return t};var tb=function(e,t){var n=new Map;return e.forEach((function(e,r){n.set(r,t(e,r))})),n};function nb(e,t,n,r){var i=n.nodeDeps,a=n.nodeToNodeSubscriptions,o=i.get(e);if(!o||!r||o===r.nodeDeps.get(e)){i.set(e,t);var u,s=De(null==o?t:eb(t,o));try{for(s.s();!(u=s.n()).done;){var l=u.value;a.has(l)||a.set(l,new Set),Kg(a.get(l)).add(e)}}catch(p){s.e(p)}finally{s.f()}if(o){var c,f=De(eb(o,t));try{for(f.s();!(c=f.n()).done;){var h=c.value;if(!a.has(h))return;var d=Kg(a.get(h));d.delete(e),0===d.size&&a.delete(h)}}catch(p){f.e(p)}finally{f.f()}}}}var rb=function(e){return{nodeDeps:tb(e.nodeDeps,(function(e){return new Set(e)})),nodeToNodeSubscriptions:tb(e.nodeToNodeSubscriptions,(function(e){return new Set(e)}))}},ib=function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},ab=function(e,t,n,r){var i,a,o,u,s=n.getState();r!==s.currentTree.version&&r!==(null===(i=s.nextTree)||void 0===i?void 0:i.version)&&r!==(null===(a=s.previousTree)||void 0===a?void 0:a.version)&&wk("Tried to save dependencies to a discarded tree");var l=n.getGraph(r);if(nb(e,t,l),r===(null===(o=s.previousTree)||void 0===o?void 0:o.version)&&nb(e,t,n.getGraph(s.currentTree.version),l),r===(null===(u=s.previousTree)||void 0===u?void 0:u.version)||r===s.currentTree.version){var c,f=null===(c=s.nextTree)||void 0===c?void 0:c.version;if(void 0!==f)nb(e,t,n.getGraph(f),l)}},ob=0,ub=0,sb=0,lb=function(){return ob++},cb=function(){return ub++},fb=function(){return sb++},hb=Object.freeze({__proto__:null,persistentMap:Zk}).persistentMap,db=ib,pb=lb;function vb(){var e=pb();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:hb(),nonvalidatedAtoms:hb()}}var yb={makeEmptyTreeState:vb,makeEmptyStoreState:function(){var e=vb();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,db()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:pb},mb=f((function e(){l(this,e)}));var gb={RetentionZone:mb,retentionZone:function(){return new mb}};var kb=function(e,t){var n=new Set(e);return n.add(t),n};function bb(e,t){var n,r,i,a;return Oe().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:n=0,r=De(e),o.prev=2,r.s();case 4:if((i=r.n()).done){o.next=11;break}if(a=i.value,!t(a,n++)){o.next=9;break}return o.next=9,a;case 9:o.next=4;break;case 11:o.next=16;break;case 13:o.prev=13,o.t0=o.catch(2),r.e(o.t0);case 16:return o.prev=16,r.f(),o.finish(16);case 19:case"end":return o.stop()}}),Bg,null,[[2,13,16,19]])}var wb=bb;var _b=function(e,t){return new Proxy(e,{get:function(e,n){return!(n in e)&&n in t&&(e[n]=t[n]()),e[n]},ownKeys:function(e){return Object.keys(e)}})},xb=Gk.getNode,Sb=Gk.getNodeMaybe,Eb=Gk.recoilValuesForKeys,Tb=gb.RetentionZone,Ib=kb,Cb=Object.freeze(new Set),Nb=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(w(Error));function Ab(e,t,n,r){var i=e.getState();if(!i.nodeCleanupFunctions.has(n)){var a=xb(n),o=function(e,t,n){if(!yk("recoil_memory_managament_2020"))return function(){};var r=e.getState().retention.nodesRetainedByZone;function i(e){var n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof Tb)i(n);else if(Array.isArray(n)){var a,o=De(n);try{for(o.s();!(a=o.n()).done;)i(a.value)}catch(u){o.e(u)}finally{o.f()}}return function(){if(yk("recoil_memory_managament_2020")){var r=e.getState().retention;if(n instanceof Tb)o(n);else if(Array.isArray(n)){var i,a=De(n);try{for(a.s();!(i=a.n()).done;)o(i.value)}catch(u){a.e(u)}finally{a.f()}}}function o(e){var n=r.nodesRetainedByZone.get(e);null===n||void 0===n||n.delete(t),n&&0===n.size&&r.nodesRetainedByZone.delete(e)}}}(e,n,a.retainedBy),u=a.init(e,t,r);i.nodeCleanupFunctions.set(n,(function(){u(),o()}))}}function Rb(e,t,n){return xb(n).peek(e,t)}function Lb(e,t,n){for(var r=new Set,i=Array.from(n),a=e.getGraph(t.version),o=i.pop();o;o=i.pop()){var u;r.add(o);var s,l=De(null!==(u=a.nodeToNodeSubscriptions.get(o))&&void 0!==u?u:Cb);try{for(l.s();!(s=l.n()).done;){var c=s.value;r.has(c)||i.push(c)}}catch(f){l.e(f)}finally{l.f()}}return r}var Db=function(e,t,n){return Ab(e,t,n,"get"),xb(n).get(e,t)},Ob=Rb,Pb=function(e,t,n,r){var i=xb(n);if(null==i.set)throw new Nb("Attempt to set read-only RecoilValue: ".concat(n));var a=i.set;return Ab(e,t,n,"set"),a(e,t,r)},Mb=function(e,t,n){Ab(e,e.getState().currentTree,t,n)},Ub=function(e,t){var n,r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},Vb=function(e,t,n){var r,i=Sb(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),vt(vt({},e),{},{atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:Ib(e.dirtyAtoms,t)})},jb=function(e,t,n){var r=e.getState(),i=e.getGraph(t.version),a=xb(n).nodeType;return _b({type:a},{loadable:function(){return Rb(e,t,n)},isActive:function(){return r.knownAtoms.has(n)||r.knownSelectors.has(n)},isSet:function(){return"selector"!==a&&t.atomValues.has(n)},isModified:function(){return t.dirtyAtoms.has(n)},deps:function(){var e;return Eb(null!==(e=i.nodeDeps.get(n))&&void 0!==e?e:[])},subscribers:function(){var i,a;return{nodes:Eb(wb(Lb(e,t,new Set([n])),(function(e){return e!==n}))),components:jk(null!==(i=null===(a=r.nodeToComponentSubscriptions.get(n))||void 0===a?void 0:a.values())&&void 0!==i?i:[],(function(e){return{name:u(e,1)[0]}}))}}})},Fb=Lb,zb=null;var Bb=function(e){zb=e},qb=function(){var e;null===(e=zb)||void 0===e||e()},Hb=Fb,Wb=Db,Kb=Pb,Gb=fb,Qb=Gk.getNode,$b=Gk.getNodeMaybe,Yb=Gk.DefaultValue,Xb=Tk.reactMode,Jb=Uk.AbstractRecoilValue,Zb=Uk.RecoilState,ew=Uk.RecoilValueReadOnly,tw=Uk.isRecoilValue,nw=qb;function rw(e,t,n){if("set"===n.type){var r,i=n.recoilValue,a=function(e,t,n,r){var i=n.key;if("function"===typeof r){var a=Wb(e,t,i);if("loading"===a.state){var o='Tried to set atom or selector "'.concat(i,'" using an updater function while the current state is pending, this is not currently supported.');throw wk(o),Hg(o)}if("hasError"===a.state)throw a.contents;return r(a.contents)}return r}(e,t,i,n.valueOrUpdater),o=De(Kb(e,t,i.key,a).entries());try{for(o.s();!(r=o.n()).done;){var s=u(r.value,2);iw(t,s[0],s[1])}}catch(p){o.e(p)}finally{o.f()}}else if("setLoadable"===n.type){iw(t,n.recoilValue.key,n.loadable)}else if("markModified"===n.type){var l=n.recoilValue.key;t.dirtyAtoms.add(l)}else if("setUnvalidated"===n.type){var c,f=n.recoilValue.key,h=n.unvalidatedValue,d=$b(f);null===d||void 0===d||null===(c=d.invalidate)||void 0===c||c.call(d,t),t.atomValues.delete(f),t.nonvalidatedAtoms.set(f,h),t.dirtyAtoms.add(f)}else wk("Unknown action ".concat(n.type))}function iw(e,t,n){"hasValue"===n.state&&n.contents instanceof Yb?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function aw(e,t){e.replaceState((function(n){var r,i=sw(n),a=De(t);try{for(a.s();!(r=a.n()).done;){var o=r.value;rw(e,i,o)}}catch(u){a.e(u)}finally{a.f()}return lw(e,i),nw(),i}))}function ow(e,t){if(uw.length){var n=uw[uw.length-1],r=n.get(e);r||n.set(e,r=[]),r.push(t)}else aw(e,[t])}var uw=[];function sw(e){return vt(vt({},e),{},{atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)})}function lw(e,t){var n,r=De(Hb(e,t,t.dirtyAtoms));try{for(r.s();!(n=r.n()).done;){var i,a,o=n.value;null===(i=$b(o))||void 0===i||null===(a=i.invalidate)||void 0===a||a.call(i,t)}}catch(u){r.e(u)}finally{r.f()}}function cw(e,t,n){ow(e,{type:"set",recoilValue:t,valueOrUpdater:n})}var fw={RecoilValueReadOnly:ew,AbstractRecoilValue:Jb,RecoilState:Zb,getRecoilValueAsLoadable:function(e,t){var n,r,i=t.key,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.getState().currentTree,o=e.getState();a.version!==o.currentTree.version&&a.version!==(null===(n=o.nextTree)||void 0===n?void 0:n.version)&&a.version!==(null===(r=o.previousTree)||void 0===r?void 0:r.version)&&wk("Tried to read from a discarded tree");var u=Wb(e,a,i);return"loading"===u.state&&u.contents.catch((function(){})),u},setRecoilValue:cw,setRecoilValueLoadable:function(e,t,n){if(n instanceof Yb)return cw(e,t,n);ow(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ow(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ow(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,t,n){var r=t.key,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=Gb(),o=e.getState();o.nodeToComponentSubscriptions.has(r)||o.nodeToComponentSubscriptions.set(r,new Map),Kg(o.nodeToComponentSubscriptions.get(r)).set(a,[null!==i&&void 0!==i?i:"<not captured>",n]);var u=Xb();if(u.early&&("LEGACY"===u.mode||"MUTABLE_SOURCE"===u.mode)){var s=e.getState().nextTree;s&&s.dirtyAtoms.has(r)&&n(s)}return{release:function(){var t=e.getState(),n=t.nodeToComponentSubscriptions.get(r);void 0!==n&&n.has(a)?(n.delete(a),0===n.size&&t.nodeToComponentSubscriptions.delete(r)):wk("Subscription missing at release time for atom ".concat(r,". This is a bug in Recoil."))}}},isRecoilValue:tw,applyAtomValueWrites:function(e,t){var n=e.clone();return t.forEach((function(e,t){"hasValue"===e.state&&e.contents instanceof Yb?n.delete(t):n.set(t,e)})),n},batchStart:function(){var e=new Map;return uw.push(e),function(){var t,n=De(e);try{for(n.s();!(t=n.n()).done;){var r=u(t.value,2);aw(r[0],r[1])}}catch(i){n.e(i)}finally{n.f()}uw.pop()!==e&&wk("Incorrect order of batch popping")}},writeLoadableToTreeState:iw,invalidateDownstreams:lw,copyTreeState:sw,refreshRecoilValue:function(e,t){var n,r=e.getState().currentTree,i=Qb(t.key);null===(n=i.clearCache)||void 0===n||n.call(i,e,r)}};var hw=function(e,t,n){for(var r=e.entries(),i=r.next();!i.done;){var a=i.value;if(t.call(n,a[1],a[0],e))return!0;i=r.next()}return!1},dw=Ub,pw=Gk.deleteNodeConfigIfPossible,vw=Gk.getNode,yw=gb.RetentionZone,mw=new Set;function gw(e,t){var n=e.getState(),r=n.currentTree;if(n.nextTree)wk("releaseNodesNowOnCurrentTree should only be called at the end of a batch");else{var i,a=new Set,o=De(t);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u instanceof yw){var s,l=De(bw(n,u));try{for(l.s();!(s=l.n()).done;){var c=s.value;a.add(c)}}catch(p){l.e(p)}finally{l.f()}}else a.add(u)}}catch(p){o.e(p)}finally{o.f()}var f,h=function(e,t){var n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),a=new Set,o=new Set;return u(t),a;function u(t){var s,l=new Set,c=function(e,t,n,r,i){var a=e.getGraph(t.version),o=[],u=new Set;for(;n.size>0;)s(Kg(n.values().next().value));return o;function s(e){if(r.has(e)||i.has(e))n.delete(e);else if(!u.has(e)){var t=a.nodeToNodeSubscriptions.get(e);if(t){var l,c=De(t);try{for(c.s();!(l=c.n()).done;){s(l.value)}}catch(p){c.e(p)}finally{c.f()}}u.add(e),n.delete(e),o.push(e)}}}(e,r,t,a,o),f=De(c);try{for(f.s();!(s=f.n()).done;){var h,d=s.value;if("recoilRoot"!==vw(d).retainedBy)if((null!==(h=n.retention.referenceCounts.get(d))&&void 0!==h?h:0)>0)o.add(d);else if(ww(d).some((function(e){return n.retention.referenceCounts.get(e)})))o.add(d);else{var v=i.nodeToNodeSubscriptions.get(d);v&&hw(v,(function(e){return o.has(e)}))?o.add(d):(a.add(d),l.add(d))}else o.add(d)}}catch(p){f.e(p)}finally{f.f()}var y,m=new Set,g=De(l);try{for(g.s();!(y=g.n()).done;){var k,b=y.value,w=De(null!==(_=i.nodeDeps.get(b))&&void 0!==_?_:mw);try{for(w.s();!(k=w.n()).done;){var _,x=k.value;a.has(x)||m.add(x)}}catch(p){w.e(p)}finally{w.f()}}}catch(p){g.e(p)}finally{g.f()}m.size&&u(m)}}(e,a),d=De(h);try{for(d.s();!(f=d.n()).done;){kw(e,r,f.value)}}catch(p){d.e(p)}finally{d.f()}}}function kw(e,t,n){if(yk("recoil_memory_managament_2020")){dw(e,n);var r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);var i,a=De(ww(n));try{for(a.s();!(i=a.n()).done;){var o,u=i.value;null===(o=r.retention.nodesRetainedByZone.get(u))||void 0===o||o.delete(n)}}catch(p){a.e(p)}finally{a.f()}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);var s=r.graphsByVersion.get(t.version);if(s){var l=s.nodeDeps.get(n);if(void 0!==l){s.nodeDeps.delete(n);var c,f=De(l);try{for(f.s();!(c=f.n()).done;){var h,d=c.value;null===(h=s.nodeToNodeSubscriptions.get(d))||void 0===h||h.delete(n)}}catch(p){f.e(p)}finally{f.f()}}s.nodeToNodeSubscriptions.delete(n)}pw(n)}}function bw(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:mw}function ww(e){var t=vw(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof yw?[t]:t}function _w(e,t){yk("recoil_memory_managament_2020")&&(e.getState().retention.referenceCounts.delete(t),function(e,t){var n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):gw(e,new Set([t]))}(e,t))}var xw=12e4,Sw=function(e,t,n){var r;if(yk("recoil_memory_managament_2020")){var i=e.getState().retention.referenceCounts,a=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===a?_w(e,t):i.set(t,a)}},Ew=function(e){if(yk("recoil_memory_managament_2020")){var t=e.getState();gw(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()}},Tw=function(e){return void 0===e?"recoilRoot":e},Iw=jg.unstable_batchedUpdates,Cw=fw.batchStart,Nw={unstable_batchedUpdates:{unstable_batchedUpdates:Iw}.unstable_batchedUpdates}.unstable_batchedUpdates,Aw=function(e){Nw((function(){var t=function(){};try{t=Cw(),e()}finally{t()}}))};function Rw(e){var t,n,r,i,a,o;return Oe().wrap((function(u){for(;;)switch(u.prev=u.next){case 0:t=De(e),u.prev=1,t.s();case 3:if((n=t.n()).done){u.next=24;break}r=n.value,i=De(r),u.prev=6,i.s();case 8:if((a=i.n()).done){u.next=14;break}return o=a.value,u.next=12,o;case 12:u.next=8;break;case 14:u.next=19;break;case 16:u.prev=16,u.t0=u.catch(6),i.e(u.t0);case 19:return u.prev=19,i.f(),u.finish(19);case 22:u.next=3;break;case 24:u.next=29;break;case 26:u.prev=26,u.t1=u.catch(1),t.e(u.t1);case 29:return u.prev=29,t.f(),u.finish(29);case 32:case"end":return u.stop()}}),qg,null,[[1,26,29,32],[6,16,19,22]])}var Lw=Rw,Dw="undefined"===typeof Window||"undefined"===typeof window,Ow="undefined"!==typeof navigator&&"ReactNative"===navigator.product,Pw={isSSR:Dw,isReactNative:Ow,isWindow:function(e){return!Dw&&(e===window||e instanceof Window)}};var Mw=function(e,t){var n,r;return[function(){var i=t.apply(void 0,arguments);return n===i?r:(n=i,r=e.apply(void 0,arguments))},function(){n=null}]},Uw=Aw,Vw=Mb,jw=jb,Fw=ib,zw=cb,Bw=Gk.DEFAULT_VALUE,qw=Gk.recoilValues,Hw=Gk.recoilValuesForKeys,Ww=fw.AbstractRecoilValue,Kw=fw.getRecoilValueAsLoadable,Gw=fw.setRecoilValue,Qw=fw.setUnvalidatedRecoilValue,$w=Sw,Yw=Bb,Xw=yb.getNextTreeStateVersion,Jw=yb.makeEmptyStoreState,Zw=Pw.isSSR,e_=Mw,t_=function(){function e(t,n){var r=this;l(this,e),Gg(this,"_store",void 0),Gg(this,"_refCount",1),Gg(this,"getLoadable",(function(e){return r.checkRefCount_INTERNAL(),Kw(r._store,e)})),Gg(this,"getPromise",(function(e){return r.checkRefCount_INTERNAL(),r.getLoadable(e).toPromise()})),Gg(this,"getNodes_UNSTABLE",(function(e){if(r.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];var t=r._store.getState().currentTree;return Hw(t.dirtyAtoms)}var n=r._store.getState().knownAtoms,i=r._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?qw.values():!0===e.isInitialized?Hw(Lw([n,i])):wb(qw.values(),(function(e){var t=e.key;return!n.has(t)&&!i.has(t)}))})),Gg(this,"getInfo_UNSTABLE",(function(e){var t=e.key;return r.checkRefCount_INTERNAL(),jw(r._store,r._store.getState().currentTree,t)})),Gg(this,"map",(function(e){r.checkRefCount_INTERNAL();var t=new u_(r,Uw);return e(t),t})),Gg(this,"asyncMap",function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.checkRefCount_INTERNAL(),(n=new u_(r,Uw)).retain(),e.next=5,t(n);case 5:return n.autoRelease_INTERNAL(),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this._store={storeID:zw(),parentStoreID:n,getState:function(){return t},replaceState:function(e){t.currentTree=e(t.currentTree)},getGraph:function(e){var n=t.graphsByVersion;if(n.has(e))return Kg(n.get(e));var r=Fw();return n.set(e,r),r},subscribeToTransactions:function(){return{release:function(){}}},addTransactionMetadata:function(){throw Hg("Cannot subscribe to Snapshots")}};var i,a=De(this._store.getState().knownAtoms);try{for(a.s();!(i=a.n()).done;){var o=i.value;Vw(this._store,o,"get"),$w(this._store,o,1)}}catch(u){a.e(u)}finally{a.f()}this.autoRelease_INTERNAL()}return f(e,[{key:"retain",value:function(){var e=this;this._refCount<=0&&wk("Attempt to retain() Snapshot that was already released."),this._refCount++;var t=!1;return function(){t||(t=!0,e._release())}}},{key:"autoRelease_INTERNAL",value:function(){var e=this;Zw||window.setTimeout((function(){return e._release()}),10)}},{key:"_release",value:function(){if(this._refCount--,0===this._refCount){if(this._store.getState().nodeCleanupFunctions.forEach((function(e){return e()})),this._store.getState().nodeCleanupFunctions.clear(),!yk("recoil_memory_managament_2020"))return}else this._refCount}},{key:"isRetained",value:function(){return this._refCount>0}},{key:"checkRefCount_INTERNAL",value:function(){yk("recoil_memory_managament_2020")&&this._refCount}},{key:"getStore_INTERNAL",value:function(){return this.checkRefCount_INTERNAL(),this._store}},{key:"getID",value:function(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}},{key:"getStoreID",value:function(){return this.checkRefCount_INTERNAL(),this._store.storeID}}]),e}();function n_(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.getState(),i=n?Xw():t.version;return{currentTree:{version:n?i:t.version,stateID:n?i:t.stateID,transactionMetadata:vt({},t.transactionMetadata),dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(jk(r.nodeCleanupFunctions.entries(),(function(e){return[u(e,1)[0],function(){}]})))}}var r_=e_((function(e,t){var n,r=e.getState(),i="latest"===t?null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree:Kg(r.previousTree);return new t_(n_(e,i),e.storeID)}),(function(e,t){var n,r;return String(t)+String(e.storeID)+String(null===(n=e.getState().nextTree)||void 0===n?void 0:n.version)+String(e.getState().currentTree.version)+String(null===(r=e.getState().previousTree)||void 0===r?void 0:r.version)})),i_=u(r_,2),a_=i_[0],o_=i_[1];Yw(o_);var u_=function(e){d(n,e);var t=k(n);function n(e,r){var i;return l(this,n),Gg(m(i=t.call(this,n_(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID())),"_batch",void 0),Gg(m(i),"set",(function(e,t){i.checkRefCount_INTERNAL();var n=i.getStore_INTERNAL();i._batch((function(){$w(n,e.key,1),Gw(i.getStore_INTERNAL(),e,t)}))})),Gg(m(i),"reset",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();i._batch((function(){$w(t,e.key,1),Gw(i.getStore_INTERNAL(),e,Bw)}))})),Gg(m(i),"setUnvalidatedAtomValues_DEPRECATED",(function(e){i.checkRefCount_INTERNAL();var t=i.getStore_INTERNAL();Uw((function(){var n,r=De(e.entries());try{for(r.s();!(n=r.n()).done;){var i=u(n.value,2),a=i[0],o=i[1];$w(t,a,1),Qw(t,new Ww(a),o)}}catch(s){r.e(s)}finally{r.f()}}))})),i._batch=r,i}return f(n)}(t_),s_={Snapshot:t_,MutableSnapshot:u_,freshSnapshot:function(e){var t=new t_(Jw());return null!=e?t.map(e):t},cloneSnapshot:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"latest",n=a_(e,t);return n.isRetained()?n:(o_(),a_(e,t))}},l_=s_.Snapshot,c_=s_.MutableSnapshot,f_=s_.freshSnapshot,h_=s_.cloneSnapshot,d_=Object.freeze({__proto__:null,Snapshot:l_,MutableSnapshot:c_,freshSnapshot:f_,cloneSnapshot:h_});var p_=function(){for(var e=new Set,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o,u=a[i],s=De(u);try{for(s.s();!(o=s.n()).done;){var l=o.value;e.add(l)}}catch(c){s.e(c)}finally{s.f()}}return e},v_=t.useRef;var y_=function(e){var t=v_(e);return t.current===e&&"function"===typeof e&&(t.current=e()),t},m_=yb.getNextTreeStateVersion,g_=yb.makeEmptyStoreState,k_=Ub,b_=Fb,w_=Mb,__=Pb,x_=Vb,S_=ib,E_=rb,T_=cb,I_=Tk.createMutableSource,C_=Tk.reactMode,N_=fw.applyAtomValueWrites,A_=Ew,R_=d_.freshSnapshot,L_=t.useCallback,D_=t.useContext,O_=t.useEffect,P_=t.useMemo,M_=t.useRef,U_=t.useState;function V_(){throw Hg("This component must be used inside a <RecoilRoot> component.")}var j_=Object.freeze({storeID:T_(),getState:V_,replaceState:V_,getGraph:V_,subscribeToTransactions:V_,addTransactionMetadata:V_}),F_=!1;function z_(e){if(F_)throw Hg("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");var t=e.getState();if(null===t.nextTree){yk("recoil_memory_managament_2020")&&yk("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&A_(e);var n=t.currentTree.version,r=m_();t.nextTree=vt(vt({},t.currentTree),{},{version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}}),t.graphsByVersion.set(r,E_(Kg(t.graphsByVersion.get(n))))}}var B_=t.createContext({current:j_}),q_=function(){return D_(B_)},H_=t.createContext(null);function W_(e,t,n){var r,i=De(b_(e,n,n.dirtyAtoms));try{for(i.s();!(r=i.n()).done;){var a=r.value,o=t.nodeToComponentSubscriptions.get(a);if(o){var s,l=De(o);try{for(l.s();!(s=l.n()).done;){var c=u(s.value,2),f=(c[0],u(c[1],2));f[0];(0,f[1])(n)}}catch(h){l.e(h)}finally{l.f()}}}}catch(h){i.e(h)}finally{i.f()}}function K_(e){var t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){var i,a=De(t.nodeTransactionSubscriptions);try{for(a.s();!(i=a.n()).done;){var o=u(i.value,2),s=o[0],l=o[1];if(r.has(s)){var c,f=De(l);try{for(f.s();!(c=f.n()).done;){var h=u(c.value,2);h[0];(0,h[1])(e)}}catch(y){f.e(y)}finally{f.f()}}}}catch(y){a.e(y)}finally{a.f()}var d,p=De(t.transactionSubscriptions);try{for(p.s();!(d=p.n()).done;){var v=u(d.value,2);v[0];(0,v[1])(e)}}catch(y){p.e(y)}finally{p.f()}(!C_().early||t.suspendedComponentResolvers.size>0)&&(W_(e,t,n),t.suspendedComponentResolvers.forEach((function(e){return e()})),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((function(e){return e(n)})),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function G_(e){var t=e.setNotifyBatcherOfChange,n=q_(),r=u(U_([]),2)[1];return t((function(){return r({})})),O_((function(){return t((function(){return r({})})),function(){t((function(){}))}}),[t]),O_((function(){Qk.enqueueExecution("Batcher",(function(){!function(e){var t=e.getState();t.commitDepth++;try{var n=t.nextTree;if(null==n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,K_(e),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):wk("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,yk("recoil_memory_managament_2020")&&null==n&&A_(e)}finally{t.commitDepth--}}(n.current)}))})),null}var Q_=0;function $_(e){var n,r=e.initializeState_DEPRECATED,i=e.initializeState,a=e.store_INTERNAL,o=e.children,u=function(e){var t=n.current.graphsByVersion;if(t.has(e))return Kg(t.get(e));var r=S_();return t.set(e,r),r},s=function(e,t){if(null==t){var n=d.current.getState().transactionSubscriptions,r=Q_++;return n.set(r,e),{release:function(){n.delete(r)}}}var i=d.current.getState().nodeTransactionSubscriptions;i.has(t)||i.set(t,new Map);var a=Q_++;return Kg(i.get(t)).set(a,e),{release:function(){var e=i.get(t);e&&(e.delete(a),0===e.size&&i.delete(t))}}},l=function(e){z_(d.current);for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];Kg(d.current.getState().nextTree).transactionMetadata[r]=e[r]}},c=function(e){z_(d.current);var t,r=Kg(n.current.nextTree);try{F_=!0,t=e(r)}finally{F_=!1}t!==r&&(n.current.nextTree=t,C_().early&&W_(d.current,n.current,t),Kg(f.current)())},f=M_(null),h=L_((function(e){f.current=e}),[f]),d=y_((function(){return null!==a&&void 0!==a?a:{storeID:T_(),getState:function(){return n.current},replaceState:c,getGraph:u,subscribeToTransactions:s,addTransactionMetadata:l}}));null!=a&&(d.current=a),n=y_((function(){return null!=r?function(e,t){var n=g_();return t({set:function(t,r){var i,a=n.currentTree,o=__(e,a,t.key,r),u=new Set(o.keys()),s=a.nonvalidatedAtoms.clone(),l=De(u);try{for(l.s();!(i=l.n()).done;){var c=i.value;s.delete(c)}}catch(f){l.e(f)}finally{l.f()}n.currentTree=vt(vt({},a),{},{dirtyAtoms:p_(a.dirtyAtoms,u),atomValues:N_(a.atomValues,o),nonvalidatedAtoms:s})},setUnvalidatedAtomValues:function(e){e.forEach((function(e,t){n.currentTree=x_(n.currentTree,t,e)}))}}),n}(d.current,r):null!=i?function(e){var t=R_(e),n=t.getStore_INTERNAL().getState();return t.retain(),n.nodeCleanupFunctions.forEach((function(e){return e()})),n.nodeCleanupFunctions.clear(),n}(i):g_()}));var p=P_((function(){return null===I_||void 0===I_?void 0:I_(n,(function(){return n.current.currentTree.version}))}),[n]);return O_((function(){var e,t=d.current,n=De(new Set(t.getState().knownAtoms));try{for(n.s();!(e=n.n()).done;){var r=e.value;w_(t,r,"get")}}catch(i){n.e(i)}finally{n.f()}return function(){var e,n=De(t.getState().knownAtoms);try{for(n.s();!(e=n.n()).done;){var r=e.value;k_(t,r)}}catch(i){n.e(i)}finally{n.f()}}}),[d]),t.createElement(B_.Provider,{value:d},t.createElement(H_.Provider,{value:p},t.createElement(G_,{setNotifyBatcherOfChange:h}),o))}var Y_=function(e){var n=e.override,r=Vg(e,Fg),i=q_();return!1===n&&i.current!==j_?e.children:t.createElement($_,r)},X_=q_,J_=function(){var e=D_(H_);return null==e&&Vk("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},Z_=function(){return q_().current.storeID};var ex=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0},tx=t.useEffect,nx=t.useRef;var rx=function(e){var t=nx();return tx((function(){t.current=e})),t.current},ix=X_,ax=xw,ox=Sw,ux=gb.RetentionZone,sx=t.useEffect,lx=t.useRef,cx=Pw.isSSR;var fx=function(e){if(yk("recoil_memory_managament_2020"))return function(e){var t=(Array.isArray(e)?e:[e]).map((function(e){return e instanceof ux?e:e.key})),n=ix();sx((function(){if(yk("recoil_memory_managament_2020")){var e=n.current;if(r.current&&!cx)window.clearTimeout(r.current),r.current=null;else{var i,a=De(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;ox(e,o,1)}}catch(u){a.e(u)}finally{a.f()}}return function(){var n,r=De(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;ox(e,i,-1)}}catch(u){r.e(u)}finally{r.f()}}}}),[n].concat(s(t)));var r=lx(),i=rx(t);if(!cx&&(void 0===i||!ex(i,t))){var a,o=n.current,u=De(t);try{for(u.s();!(a=u.n()).done;){var l=a.value;ox(o,l,1)}}catch(d){u.e(d)}finally{u.f()}if(i){var c,f=De(i);try{for(f.s();!(c=f.n()).done;){var h=c.value;ox(o,h,-1)}}catch(d){f.e(d)}finally{f.f()}}r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((function(){r.current=null;var e,n=De(t);try{for(n.s();!(e=n.n()).done;){var i=e.value;ox(o,i,-1)}}catch(d){n.e(d)}finally{n.f()}}),ax)}}(e)};var hx=function(){return"<component name not available>"},dx=Gk.DEFAULT_VALUE,px=Tk.currentRendererSupportsUseSyncExternalStore,vx=Tk.reactMode,yx=Tk.useMutableSource,mx=Tk.useSyncExternalStore,gx=J_,kx=X_,bx=(Uk.isRecoilValue,fw.getRecoilValueAsLoadable),wx=fw.setRecoilValue,_x=fw.subscribeToRecoilValue,xx=t.useCallback,Sx=t.useEffect,Ex=t.useMemo,Tx=t.useRef,Ix=t.useState;function Cx(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state)throw new Promise((function(e){n.current.getState().suspendedComponentResolvers.add(e)}));throw"hasError"===e.state?e.contents:Hg('Invalid value of loadable atom "'.concat(t.key,'"'))}function Nx(e){var t=kx(),n=hx(),r=xx((function(){var n;var r=t.current,i=r.getState(),a=vx().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return{loadable:bx(r,e,a),key:e.key}}),[t,e]),i=xx((function(e){var t;return function(){var n,r,i=e();return null!==(n=t)&&void 0!==n&&n.loadable.is(i.loadable)&&(null===(r=t)||void 0===r?void 0:r.key)===i.key?t:(t=i,i)}}),[]),a=Ex((function(){return i(r)}),[r,i]),o=xx((function(r){var i=t.current;return _x(i,e,r,n).release}),[t,e,n]);return mx(o,a,a).loadable}function Ax(e){var t=kx(),n=xx((function(){var n,r=t.current,i=r.getState(),a=vx().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return bx(r,e,a)}),[t,e]),r=xx((function(){return n()}),[n]),i=hx(),a=xx((function(r,a){var o=t.current;return _x(o,e,(function(){if(!yk("recoil_suppress_rerender_in_callback"))return a();var e=n();s.current.is(e)||a(),s.current=e}),i).release}),[t,e,i,n]),o=gx();if(null==o)throw Hg("Recoil hooks must be used in components contained within a <RecoilRoot> component.");var u=yx(o,r,a),s=Tx(u);return Sx((function(){s.current=u})),u}function Rx(e){var t=kx(),n=hx(),r=xx((function(){var n;var r=t.current,i=r.getState(),a=vx().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return bx(r,e,a)}),[t,e]),i=xx((function(){return{loadable:r(),key:e.key}}),[r,e.key]),a=xx((function(e){var t=i();return e.loadable.is(t.loadable)&&e.key===t.key?e:t}),[i]);Sx((function(){var r=_x(t.current,e,(function(e){l(a)}),n);return l(a),r.release}),[n,e,t,a]);var o=u(Ix(i),2),s=o[0],l=o[1];return s.key!==e.key?i().loadable:s.loadable}function Lx(e){var t=kx(),n=u(Ix([]),2)[1],r=hx(),i=xx((function(){var n;var r=t.current,i=r.getState(),a=vx().early&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return bx(r,e,a)}),[t,e]),a=i(),o=Tx(a);return Sx((function(){o.current=a})),Sx((function(){var a=t.current,u=a.getState(),s=_x(a,e,(function(e){var t;if(!yk("recoil_suppress_rerender_in_callback"))return n([]);var r=i();null!==(t=o.current)&&void 0!==t&&t.is(r)||n(r),o.current=r}),r);if(u.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push((function(){o.current=null,n([])}));else{var l;if(!yk("recoil_suppress_rerender_in_callback"))return n([]);var c=i();null!==(l=o.current)&&void 0!==l&&l.is(c)||n(c),o.current=c}return s.release}),[r,i,e,t]),a}function Dx(e){return yk("recoil_memory_managament_2020")&&fx(e),{TRANSITION_SUPPORT:Rx,SYNC_EXTERNAL_STORE:px()?Nx:Rx,MUTABLE_SOURCE:Ax,LEGACY:Lx}[vx().mode](e)}function Ox(e){var t=kx();return Cx(Dx(e),e,t)}function Px(e){var t=kx();return xx((function(n){wx(t.current,e,n)}),[t,e])}function Mx(e){return yk("recoil_memory_managament_2020")&&fx(e),Rx(e)}function Ux(e){var t=kx();return Cx(Mx(e),e,t)}var Vx=function(e){return[Ox(e),Px(e)]},jx=function(e){return[Dx(e),Px(e)]},Fx=Ox,zx=Dx,Bx=function(e){var t=kx();return xx((function(){wx(t.current,e,dx)}),[t,e])},qx=Px,Hx=Mx,Wx=Ux,Kx=function(e){return[Ux(e),Px(e)]};var Gx=Aw,Qx=Gk.DEFAULT_VALUE,$x=Gk.getNode,Yx=X_,Xx=fw.AbstractRecoilValue,Jx=fw.setRecoilValueLoadable,Zx=xw,eS=d_.cloneSnapshot,tS=t.useCallback,nS=t.useEffect,rS=t.useRef,iS=t.useState,aS=Pw.isSSR;function oS(e){var t=Yx();nS((function(){return t.current.subscribeToTransactions(e).release}),[e,t])}function uS(e,t){var n,r=e.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,a=t.getStore_INTERNAL().getState().currentTree;Gx((function(){for(var n=new Set,r=0,o=[i.atomValues.keys(),a.atomValues.keys()];r<o.length;r++){var u,s=De(o[r]);try{for(s.s();!(u=s.n()).done;){var l,c,f=u.value;(null===(l=i.atomValues.get(f))||void 0===l?void 0:l.contents)!==(null===(c=a.atomValues.get(f))||void 0===c?void 0:c.contents)&&$x(f).shouldRestoreFromSnapshots&&n.add(f)}}catch(h){s.e(h)}finally{s.f()}}n.forEach((function(t){Jx(e,new Xx(t),a.atomValues.has(t)?Kg(a.atomValues.get(t)):Qx)})),e.replaceState((function(e){return vt(vt({},e),{},{stateID:t.getID()})}))}))}var sS=function(){var e=Yx(),t=u(iS((function(){return eS(e.current)})),2),n=t[0],r=t[1],i=rx(n),a=rS(),o=rS();if(oS(tS((function(e){return r(eS(e))}),[])),nS((function(){var e,t=n.retain();a.current&&!aS&&(window.clearTimeout(a.current),a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null);return function(){window.setTimeout(t,10)}}),[n]),i!==n&&!aS){var s;if(a.current)window.clearTimeout(a.current),a.current=null,null===(s=o.current)||void 0===s||s.call(o),o.current=null;o.current=n.retain(),a.current=window.setTimeout((function(){var e;a.current=null,null===(e=o.current)||void 0===e||e.call(o),o.current=null}),Zx)}return n},lS=uS,cS=function(){var e=Yx();return tS((function(t){return uS(e.current,t)}),[e])},fS=function(e){oS(tS((function(t){var n=eS(t,"latest"),r=eS(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},hS=jb,dS=X_;var pS=function(){var e=dS();return function(t){var n=t.key;return hS(e.current,e.current.getState().currentTree,n)}},vS=Tk.reactMode,yS=Y_,mS=X_,gS=t.useMemo;var kS=function(){"MUTABLE_SOURCE"===vS().mode&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");var e=mS().current;return gS((function(){return function(n){var r=n.children;return t.createElement(yS,{store_INTERNAL:e},r)}}),[e])},bS=dk.loadableWithValue,wS=Mb,_S=Gk.DEFAULT_VALUE,xS=Gk.getNode,SS=fw.copyTreeState,ES=fw.getRecoilValueAsLoadable,TS=fw.invalidateDownstreams,IS=fw.writeLoadableToTreeState;function CS(e){return"atom"===xS(e.key).nodeType}var NS=function(){function e(t,n){var r=this;l(this,e),Gg(this,"_store",void 0),Gg(this,"_treeState",void 0),Gg(this,"_changes",void 0),Gg(this,"get",(function(e){if(r._changes.has(e.key))return r._changes.get(e.key);if(!CS(e))throw Hg("Reading selectors within atomicUpdate is not supported");var t=ES(r._store,e,r._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:Hg("Expected Recoil atom ".concat(e.key," to have a value, but it is in a loading state."))})),Gg(this,"set",(function(e,t){if(!CS(e))throw Hg("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){var n=r.get(e);r._changes.set(e.key,t(n))}else wS(r._store,e.key,"set"),r._changes.set(e.key,t)})),Gg(this,"reset",(function(e){r.set(e,_S)})),this._store=t,this._treeState=n,this._changes=new Map}return f(e,[{key:"newTreeState_INTERNAL",value:function(){if(0===this._changes.size)return this._treeState;var e,t=SS(this._treeState),n=De(this._changes);try{for(n.s();!(e=n.n()).done;){var r=u(e.value,2),i=r[0],a=r[1];IS(t,i,bS(a))}}catch(o){n.e(o)}finally{n.f()}return TS(this._store,t),t}}]),e}();var AS=function(e){return function(t){e.replaceState((function(n){var r=new NS(e,n);return t(r),r.newTreeState_INTERNAL()}))}},RS=AS,LS=Object.freeze({__proto__:null,atomicUpdater:RS});var DS=function(e,t){if(!e)throw new Error(t)},OS=LS.atomicUpdater,PS=Aw,MS=Gk.DEFAULT_VALUE,US=X_,VS=fw.refreshRecoilValue,jS=fw.setRecoilValue,FS=d_.cloneSnapshot,zS=lS,BS=t.useCallback,qS=f((function e(){l(this,e)})),HS=new qS;function WS(e,t,n,r){var i,a,o=HS;(PS((function(){var a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof t)throw Hg(a);var u=_b(vt(vt({},null!==r&&void 0!==r?r:{}),{},{set:function(t,n){return jS(e,t,n)},reset:function(t){return jS(e,t,MS)},refresh:function(t){return VS(e,t)},gotoSnapshot:function(t){return zS(e,t)},transact_UNSTABLE:function(t){return OS(e)(t)}}),{snapshot:function(){var t=FS(e);return i=t.retain(),t}}),l=t(u);if("function"!==typeof l)throw Hg(a);o=l.apply(void 0,s(n))})),o instanceof qS&&DS(!1),Wg(o))?o.finally((function(){var e;null===(e=i)||void 0===e||e()})):null===(a=i)||void 0===a||a();return o}var KS=WS,GS=function(e,t){var n=US();return BS((function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return WS(n.current,e,r)}),null!=t?[].concat(s(t),[n]):void 0)},QS=X_,$S=fw.refreshRecoilValue,YS=t.useCallback;var XS=function(e){var t=QS();return YS((function(){var n=t.current;$S(n,e)}),[e,t])},JS=LS.atomicUpdater,ZS=X_,eE=t.useMemo;var tE=function(e,t){var n=ZS();return eE((function(){return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=JS(n.current);a((function(t){e(t).apply(void 0,r)}))}}),null!=t?[].concat(s(t),[n]):void 0)},nE={WrappedValue:f((function e(t){l(this,e),Gg(this,"value",void 0),this.value=t}))}.WrappedValue,rE=Object.freeze({__proto__:null,WrappedValue:nE}),iE=Tk.isFastRefreshEnabled,aE=function(e){d(n,e);var t=k(n);function n(){return l(this,n),t.apply(this,arguments)}return f(n)}(w(Error)),oE=function(){function e(t){var n,r,i;l(this,e),Gg(this,"_name",void 0),Gg(this,"_numLeafs",void 0),Gg(this,"_root",void 0),Gg(this,"_onHit",void 0),Gg(this,"_onSet",void 0),Gg(this,"_mapNodeValue",void 0),this._name=null===t||void 0===t?void 0:t.name,this._numLeafs=0,this._root=null,this._onHit=null!==(n=null===t||void 0===t?void 0:t.onHit)&&void 0!==n?n:function(){},this._onSet=null!==(r=null===t||void 0===t?void 0:t.onSet)&&void 0!==r?r:function(){},this._mapNodeValue=null!==(i=null===t||void 0===t?void 0:t.mapNodeValue)&&void 0!==i?i:function(e){return e}}return f(e,[{key:"size",value:function(){return this._numLeafs}},{key:"root",value:function(){return this._root}},{key:"get",value:function(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}},{key:"getLeafNode",value:function(e,t){if(null!=this._root)for(var n=this._root;n;){if(null===t||void 0===t||t.onNodeVisit(n),"leaf"===n.type)return this._onHit(n),n;var r=this._mapNodeValue(e(n.nodeKey));n=n.branches.get(r)}}},{key:"set",value:function(e,t,n){var r=this,i=function(){var i,a,o,s,l,c,f,h=De(e);try{for(h.s();!(f=h.n()).done;){var d,p,v,y=u(f.value,2),m=y[0],g=y[1],k=r._root;if("leaf"===(null===k||void 0===k?void 0:k.type))throw r.invalidCacheError();var b=l;if("branch"!==(l=null!==(d=l=b?b.branches.get(c):k)&&void 0!==d?d:{type:"branch",nodeKey:m,parent:b,branches:new Map,branchKey:c}).type||l.nodeKey!==m)throw r.invalidCacheError();null===b||void 0===b||b.branches.set(c,l),null===n||void 0===n||null===(p=n.onNodeVisit)||void 0===p||p.call(n,l),c=r._mapNodeValue(g),r._root=null!==(v=r._root)&&void 0!==v?v:l}}catch(x){h.e(x)}finally{h.f()}var w=l?null===(i=l)||void 0===i?void 0:i.branches.get(c):r._root;if(null!=w&&("leaf"!==w.type||w.branchKey!==c))throw r.invalidCacheError();var _={type:"leaf",value:t,parent:l,branchKey:c};null===(a=l)||void 0===a||a.branches.set(c,_),r._root=null!==(o=r._root)&&void 0!==o?o:_,r._numLeafs++,r._onSet(_),null===n||void 0===n||null===(s=n.onNodeVisit)||void 0===s||s.call(n,_)};try{i()}catch(a){if(!(a instanceof aE))throw a;this.clear(),i()}}},{key:"delete",value:function(e){var t=this.root();if(!t)return!1;if(e===t)return this._root=null,this._numLeafs=0,!0;for(var n=e.parent,r=e.branchKey;n;){var i;if(n.branches.delete(r),n===t)return 0===n.branches.size?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(n.branches.size>0)break;r=null===(i=n)||void 0===i?void 0:i.branchKey,n=n.parent}for(;n!==t;n=n.parent)if(null==n)return!1;return this._numLeafs--,!0}},{key:"clear",value:function(){this._numLeafs=0,this._root=null}},{key:"invalidCacheError",value:function(){var e=iE()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw wk(e+(null!=this._name?" - ".concat(this._name):"")),new aE}}]),e}(),uE={TreeCache:oE}.TreeCache,sE=Object.freeze({__proto__:null,TreeCache:uE}),lE=function(){function e(t){var n;l(this,e),Gg(this,"_maxSize",void 0),Gg(this,"_size",void 0),Gg(this,"_head",void 0),Gg(this,"_tail",void 0),Gg(this,"_map",void 0),Gg(this,"_keyMapper",void 0),this._maxSize=t.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(n=t.mapKey)&&void 0!==n?n:function(e){return e}}return f(e,[{key:"head",value:function(){return this._head}},{key:"tail",value:function(){return this._tail}},{key:"size",value:function(){return this._size}},{key:"maxSize",value:function(){return this._maxSize}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){var t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}},{key:"set",value:function(e,t){var n=this._keyMapper(e);this._map.get(n)&&this.delete(e);var r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}},{key:"_maybeDeleteLRU",value:function(){this.size()>this.maxSize()&&this.deleteLru()}},{key:"deleteLru",value:function(){var e=this.tail();e&&this.delete(e.key)}},{key:"delete",value:function(e){var t=this._keyMapper(e);if(this._size&&this._map.has(t)){var n=Kg(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}}},{key:"clear",value:function(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}]),e}(),cE={LRUCache:lE}.LRUCache,fE=Object.freeze({__proto__:null,LRUCache:cE}),hE=fE.LRUCache,dE=sE.TreeCache;var pE=function(e){var t=e.name,n=e.maxSize,r=e.mapNodeValue,i=void 0===r?function(e){return e}:r,a=new hE({maxSize:n}),o=new dE({name:t,mapNodeValue:i,onHit:function(e){a.set(e,!0)},onSet:function(e){var t=a.tail();a.set(e,!0),t&&o.size()>n&&o.delete(t.key)}});return o};function vE(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return'"'.concat(e,'"');switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw Hg("Attempt to serialize function in a Recoil cache key");return"__FUNCTION(".concat(e.name,")__")}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(Wg(e))return"__PROMISE__";if(Array.isArray(e))return"[".concat(e.map((function(e,n){return vE(e,t,n.toString())})),"]");if("function"===typeof e.toJSON)return vE(e.toJSON(n),t,n);if(e instanceof Map){var i,a={},o=De(e);try{for(o.s();!(i=o.n()).done;){var s=u(i.value,2),l=s[0],c=s[1];a["string"===typeof l?l:vE(l,t)]=c}}catch(f){o.e(f)}finally{o.f()}return vE(a,t,n)}return e instanceof Set?vE(Array.from(e).sort((function(e,n){return vE(e,t).localeCompare(vE(n,t))})),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?vE(Array.from(e),t,n):"{".concat(Object.keys(e).filter((function(t){return void 0!==e[t]})).sort().map((function(n){return"".concat(vE(n,t),":").concat(vE(e[n],t,n))})).join(","),"}")}var yE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{allowFunctions:!1};return vE(e,t)},mE=sE.TreeCache,gE={equality:"reference",eviction:"keep-all",maxSize:1/0};function kE(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return yE(e)}}throw Hg("Unrecognized equality policy ".concat(e))}function bE(e,t,n,r){switch(e){case"keep-all":return new mE({name:r,mapNodeValue:n});case"lru":return pE({name:r,maxSize:Kg(t),mapNodeValue:n});case"most-recent":return pE({name:r,maxSize:1,mapNodeValue:n})}throw Hg("Unrecognized eviction policy ".concat(e))}var wE=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gE,t=e.equality,n=void 0===t?gE.equality:t,r=e.eviction,i=void 0===r?gE.eviction:r,a=e.maxSize,o=void 0===a?gE.maxSize:a,u=arguments.length>1?arguments[1]:void 0,s=kE(n);return bE(i,o,s,u)};var _E=function(e){return function(){return null}},xE=dk.isLoadable,SE=dk.loadableWithError,EE=dk.loadableWithPromise,TE=dk.loadableWithValue,IE=rE.WrappedValue,CE=Db,NE=Ob,AE=Pb,RE=ab,LE=Gk.DEFAULT_VALUE,DE=Gk.getConfigDeletionHandler,OE=Gk.getNode,PE=Gk.registerNode,ME=Uk.isRecoilValue,UE=fw.markRecoilValueModified,VE=Tw,jE=KS,FE=_E,zE=f((function e(){l(this,e)})),BE=new zE,qE=[],HE=new Map,WE=function(){var e=0;return function(){return e++}}();function KE(e){var t=null,n=e.key,r=e.get,i=e.cachePolicy_UNSTABLE,a=null!=e.set?e.set:void 0;var o=new Set,s=wE(null!==i&&void 0!==i?i:{equality:"reference",eviction:"keep-all"},n),l=VE(e.retainedBy_UNSTABLE),c=new Map,f=0;function h(){return!yk("recoil_memory_managament_2020")||f>0}function d(e){return e.getState().knownSelectors.add(n),f++,function(){f--}}function p(){return void 0!==DE(n)&&!h()}function v(e,t,n,r,i){C(t,r,i),y(e,n)}function y(e,t){I(e,t)&&T(e),m(t,!0)}function m(e,n){var r=HE.get(e);if(null!=r){var i,a=De(r);try{for(a.s();!(i=a.n()).done;){var o=i.value;UE(o,Kg(t))}}catch(u){a.e(u)}finally{a.f()}n&&HE.delete(e)}}function g(e,t){var n=HE.get(t);null==n&&HE.set(t,n=new Set),n.add(e)}function k(e,t,n,r,i,a){return t.then((function(r){if(!h())throw T(e),BE;null!=a.loadingDepKey&&a.loadingDepPromise===t?n.atomValues.set(a.loadingDepKey,TE(r)):e.getState().knownSelectors.forEach((function(e){n.atomValues.delete(e)}));var o=_(e,n);if(o&&"loading"!==o.state){if((I(e,i)||null==E(e))&&y(e,i),"hasValue"===o.state)return o.contents;throw o.contents}if(!I(e,i)){var s=S(e,n);if(null!=s)return s.loadingLoadable.contents}var l=u(w(e,n,i),2),c=l[0],f=l[1];if("loading"!==c.state&&v(e,n,i,c,f),"hasError"===c.state)throw c.contents;return c.contents})).catch((function(t){if(t instanceof zE)throw BE;if(!h())throw T(e),BE;var a=SE(t);throw v(e,n,i,a,r),t}))}function b(e,t,r,i){var a,u,s,l,c,f,h;(I(e,i)||t.version===(null===(a=e.getState())||void 0===a||null===(u=a.currentTree)||void 0===u?void 0:u.version)||t.version===(null===(s=e.getState())||void 0===s||null===(l=s.nextTree)||void 0===l?void 0:l.version))&&RE(n,r,e,null!==(c=null===(f=e.getState())||void 0===f||null===(h=f.nextTree)||void 0===h?void 0:h.version)&&void 0!==c?c:e.getState().currentTree.version);var d,p=De(r);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.add(v)}}catch(y){p.e(y)}finally{p.f()}}function w(e,i,a){var o,u,s=FE(n),l=!0,c=!0,f=function(){s(),c=!1},d=!1,p={loadingDepKey:null,loadingDepPromise:null},y=new Map;function g(t){var n=t.key,r=CE(e,i,n);switch(y.set(n,r),l||(b(e,i,new Set(y.keys()),a),function(e,t){I(e,t)&&(Kg(E(e)).stateVersions.clear(),m(t,!1))}(e,a)),r.state){case"hasValue":return r.contents;case"hasError":throw r.contents;case"loading":throw p.loadingDepKey=n,p.loadingDepPromise=r.contents,r.contents}throw Hg("Invalid Loadable state")}try{o=r({get:g,getCallback:function(n){return function(){if(c)throw Hg("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");null==t&&DS(!1);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return jE(e,n,i,{node:t})}}}),o=ME(o)?g(o):o,xE(o)&&("hasError"===o.state&&(d=!0),o=o.contents),Wg(o)?o=function(e,t,n,r,i,a){return t.then((function(t){if(!h())throw T(e),BE;var a=TE(t);return v(e,n,i,a,r),t})).catch((function(t){if(!h())throw T(e),BE;if(Wg(t))return k(e,t,n,r,i,a);var o=SE(t);throw v(e,n,i,o,r),t}))}(e,o,i,y,a,p).finally(f):f(),o=o instanceof IE?o.value:o}catch(w){Wg(o=w)?o=k(e,o,i,y,a,p).finally(f):(d=!0,f())}return u=d?SE(o):Wg(o)?EE(o):TE(o),l=!1,function(e,t,n){if(I(e,t)){var r=E(e);null!=r&&(r.depValuesDiscoveredSoFarDuringAsyncWork=n)}}(e,a,y),b(e,i,new Set(y.keys()),a),[u,y]}function _(e,t){var r=t.atomValues.get(n);if(null!=r)return r;var i,a=new Set;try{r=s.get((function(n){return"string"!==typeof n&&DS(!1),CE(e,t,n).contents}),{onNodeVisit:function(e){"branch"===e.type&&e.nodeKey!==n&&a.add(e.nodeKey)}})}catch(o){throw Hg('Problem with cache lookup for selector "'.concat(n,'": ').concat(o.message))}r&&(t.atomValues.set(n,r),b(e,t,a,null===(i=E(e))||void 0===i?void 0:i.executionID));return r}function x(e,t){var n=_(e,t);if(null!=n)return T(e),n;var r,i=S(e,t);if(null!=i)return"loading"===(null===(r=i.loadingLoadable)||void 0===r?void 0:r.state)&&g(e,i.executionID),i.loadingLoadable;var a=WE(),o=u(w(e,t,a),2),s=o[0],l=o[1];return"loading"===s.state?(!function(e,t,n,r,i){c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:r,executionID:t,loadingLoadable:n,stateVersions:new Map([[i.version,!0]])})}(e,a,s,l,t),g(e,a)):(T(e),C(t,s,l)),s}function S(e,t){function n(n){var r,i=De(n);try{for(i.s();!(r=i.n()).done;){var a=u(r.value,2),o=a[0],s=a[1];if(!CE(e,t,o).is(s))return!0}}catch(l){i.e(l)}finally{i.f()}return!1}var r,i=De(Lw([c.has(e)?[Kg(c.get(e))]:[],jk(wb(c,(function(t){return u(t,1)[0]!==e})),(function(e){return u(e,2)[1]}))]));try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.stateVersions.get(t.version)||!n(a.depValuesDiscoveredSoFarDuringAsyncWork))return a.stateVersions.set(t.version,!0),a;a.stateVersions.set(t.version,!1)}}catch(o){i.e(o)}finally{i.f()}}function E(e){return c.get(e)}function T(e){c.delete(e)}function I(e,t){var n;return t===(null===(n=E(e))||void 0===n?void 0:n.executionID)}function C(e,t,r){e.atomValues.set(n,t);try{s.set(function(e){return Array.from(e.entries()).map((function(e){var t=u(e,2);return[t[0],t[1].contents]}))}(r),t)}catch(i){throw Hg('Problem with setting cache for selector "'.concat(n,'": ').concat(i.message))}}function N(e,t){var r=t.atomValues.get(n);return null!=r?r:s.get((function(n){var r;return"string"!==typeof n&&DS(!1),null===(r=NE(e,t,n))||void 0===r?void 0:r.contents}))}function A(e,t){return function(e){if(qE.includes(n)){var t="Recoil selector has circular dependencies: ".concat(qE.slice(qE.indexOf(n)).join(" \u2192 "));return SE(Hg(t))}qE.push(n);try{return e()}finally{qE.pop()}}((function(){return x(e,t)}))}function R(e){e.atomValues.delete(n)}function L(e,n){null==t&&DS(!1);var r,i=De(o);try{for(i.s();!(r=i.n()).done;){var a,u=r.value,l=OE(u);null===(a=l.clearCache)||void 0===a||a.call(l,e,n)}}catch(c){i.e(c)}finally{i.f()}o.clear(),R(n),s.clear(),UE(e,t)}if(null!=a){return t=PE({key:n,nodeType:"selector",peek:N,get:A,set:function(e,t,r){var i=!1,o=new Map;function u(r){var a=r.key;if(i)throw Hg("Recoil: Async selector sets are not currently supported.");var o=CE(e,t,a);if("hasValue"===o.state)return o.contents;if("loading"===o.state){var u='Getting value of asynchronous atom or selector "'.concat(a,'" in a pending state while setting selector "').concat(n,'" is not yet supported.');throw wk(u),Hg(u)}throw o.contents}function s(n,r){if(i){var a="Recoil: Async selector sets are not currently supported.";throw wk(a),Hg(a)}var s="function"===typeof r?r(u(n)):r;AE(e,t,n.key,s).forEach((function(e,t){return o.set(t,e)}))}var l=a({set:s,get:u,reset:function(e){s(e,LE)}},r);if(void 0!==l)throw Wg(l)?Hg("Recoil: Async selector sets are not currently supported."):Hg("Recoil: selector set should be a void function.");return i=!0,o},init:d,invalidate:R,clearCache:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}return t=PE({key:n,nodeType:"selector",peek:N,get:A,init:d,invalidate:R,clearCache:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}KE.value=function(e){return new IE(e)};var GE=KE,QE=dk.isLoadable,$E=dk.loadableWithError,YE=dk.loadableWithPromise,XE=dk.loadableWithValue,JE=rE.WrappedValue,ZE=jb,eT=Gk.DEFAULT_VALUE,tT=Gk.DefaultValue,nT=Gk.getConfigDeletionHandler,rT=Gk.registerNode,iT=Gk.setConfigDeletionHandler,aT=Uk.isRecoilValue,oT=fw.getRecoilValueAsLoadable,uT=fw.markRecoilValueModified,sT=fw.setRecoilValue,lT=fw.setRecoilValueLoadable,cT=Tw,fT=function(e){return e instanceof JE?e.value:e};function hT(e){var t=e.key,n=e.persistence_UNSTABLE,r=cT(e.retainedBy_UNSTABLE),i=0;function a(e){return YE(e.then((function(e){return o=XE(e),e})).catch((function(e){throw o=$E(e),e})))}var o=Wg(e.default)?a(e.default):QE(e.default)?"loading"===e.default.state?a(e.default.contents):e.default:XE(fT(e.default));c(o.contents);var u=void 0,l=new Map;function c(e){return e}function f(e,n){var r,i;return null!==(r=null!==(i=n.atomValues.get(t))&&void 0!==i?i:u)&&void 0!==r?r:o}var h=rT({key:t,nodeType:"atom",peek:f,get:function(e,r){if(r.atomValues.has(t))return Kg(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=u)return u;if(null==n)return Vk("Tried to restore a persisted value for atom ".concat(t," but it has no persistence settings.")),o;var i=r.nonvalidatedAtoms.get(t),a=n.validator(i,eT),s=a instanceof tT?o:XE(a);return u=s}return o},set:function(e,n,r){if(n.atomValues.has(t)){var i=Kg(n.atomValues.get(t));if("hasValue"===i.state&&r===i.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof tT)return new Map;return u=void 0,(new Map).set(t,XE(r))},init:function(n,r,a){var u;if(i++,n.getState().knownAtoms.add(t),"loading"===o.state){o.contents.finally((function(){var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||uT(n,h)}))}var c=null!==(u=e.effects)&&void 0!==u?u:e.effects_UNSTABLE;if(null!=c){var d,p=function(e){if(g&&e.key===t){var i=m;return i instanceof tT?f(n,r):Wg(i)?YE(i.then((function(e){return e instanceof tT?o.toPromise():e}))):XE(i)}return oT(n,e)},v=function(e){return p(e).toPromise()},y=function(e){var r,i=ZE(n,null!==(r=n.getState().nextTree)&&void 0!==r?r:n.getState().currentTree,e.key);return!g||e.key!==t||m instanceof tT?i:vt(vt({},i),{},{isSet:!0,loadable:p(e)})},m=eT,g=!0,k=!1,b=null,w=function(e){return function(t){if(g){var r=p(h),i="hasValue"===r.state?r.contents:eT;m="function"===typeof t?t(i):t,Wg(m)&&(m=m.then((function(t){return b={effect:e,value:t},t})))}else{if(Wg(t))throw Hg("Setting atoms to async values is not implemented.");"function"!==typeof t&&(b={effect:e,value:fT(t)}),sT(n,h,"function"===typeof t?function(n){var r=fT(t(n));return b={effect:e,value:r},r}:fT(t))}}},_=function(e){return function(){return w(e)(eT)}},x=function(e){return function(r){var i,a=n.subscribeToTransactions((function(n){var i,a=n.getState(),u=a.currentTree,s=a.previousTree;s||(wk("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),s=u);var l=null!==(i=u.atomValues.get(t))&&void 0!==i?i:o;if("hasValue"===l.state){var c,f,h,d,p=l.contents,v=null!==(c=s.atomValues.get(t))&&void 0!==c?c:o,y="hasValue"===v.state?v.contents:eT;(null===(f=b)||void 0===f?void 0:f.effect)!==e||(null===(h=b)||void 0===h?void 0:h.value)!==p?r(p,y,!u.atomValues.has(t)):(null===(d=b)||void 0===d?void 0:d.effect)===e&&(b=null)}}),t).release;l.set(n,[].concat(s(null!==(i=l.get(n))&&void 0!==i?i:[]),[a]))}},S=De(c);try{for(S.s();!(d=S.n()).done;){var E=d.value;try{var T,I=E({node:h,storeID:n.storeID,parentStoreID_UNSTABLE:n.parentStoreID,trigger:a,setSelf:w(E),resetSelf:_(E),onSet:x(E),getPromise:v,getLoadable:p,getInfo_UNSTABLE:y});if(null!=I)l.set(n,[].concat(s(null!==(T=l.get(n))&&void 0!==T?T:[]),[I]))}catch(A){m=A,k=!0}}}catch(R){S.e(R)}finally{S.f()}if(g=!1,!(m instanceof tT)){var C,N=k?$E(m):Wg(m)?YE(function(e,n){var r=n.then((function(n){var i,a;return(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&sT(e,h,n),n})).catch((function(n){var i,a;throw(null===(a=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===a?void 0:a.contents)===r&&lT(e,h,$E(n)),n}));return r}(n,m)):XE(fT(m));N.contents,r.atomValues.set(t,N),null===(C=n.getState().nextTree)||void 0===C||C.atomValues.set(t,N)}}return function(){var e;i--,null===(e=l.get(n))||void 0===e||e.forEach((function(e){return e()})),l.delete(n)}},invalidate:function(){u=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==nT(t)&&i<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return h}function dT(e){var t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e)),n="default"in e?e.default:new Promise((function(){}));return aT(n)?function(e){var t=dT(vt(vt({},e),{},{default:eT,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:vt(vt({},e.persistence_UNSTABLE),{},{validator:function(t){return t instanceof tT?t:Kg(e.persistence_UNSTABLE).validator(t,eT)}}),effects:e.effects,effects_UNSTABLE:e.effects_UNSTABLE})),n=GE({key:"".concat(e.key,"__withFallback"),get:function(n){var r=(0,n.get)(t);return r instanceof tT?e.default:r},set:function(e,n){return(0,e.set)(t,n)},cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:e.dangerouslyAllowMutability});return iT(n.key,nT(e.key)),n}(vt(vt({},t),{},{default:n})):hT(vt(vt({},t),{},{default:n}))}dT.value=function(e){return new JE(e)};var pT=dT,vT=function(){function e(t){var n;l(this,e),Gg(this,"_map",void 0),Gg(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(n=null===t||void 0===t?void 0:t.mapKey)&&void 0!==n?n:function(e){return e}}return f(e,[{key:"size",value:function(){return this._map.size}},{key:"has",value:function(e){return this._map.has(this._keyMapper(e))}},{key:"get",value:function(e){return this._map.get(this._keyMapper(e))}},{key:"set",value:function(e,t){this._map.set(this._keyMapper(e),t)}},{key:"delete",value:function(e){this._map.delete(this._keyMapper(e))}},{key:"clear",value:function(){this._map.clear()}}]),e}(),yT={MapCache:vT}.MapCache,mT=Object.freeze({__proto__:null,MapCache:yT}),gT=fE.LRUCache,kT=mT.MapCache,bT={equality:"reference",eviction:"none",maxSize:1/0};function wT(e){switch(e){case"reference":return function(e){return e};case"value":return function(e){return yE(e)}}throw Hg("Unrecognized equality policy ".concat(e))}function _T(e,t,n){switch(e){case"keep-all":return new kT({mapKey:n});case"lru":return new gT({mapKey:n,maxSize:Kg(t)});case"most-recent":return new gT({mapKey:n,maxSize:1})}throw Hg("Unrecognized eviction policy ".concat(e))}var xT=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bT,t=e.equality,n=void 0===t?bT.equality:t,r=e.eviction,i=void 0===r?bT.eviction:r,a=e.maxSize,o=void 0===a?bT.maxSize:a,u=wT(n),s=_T(i,o,u);return s},ST=Gk.setConfigDeletionHandler;var ET=function(e){var t,n,r=xT({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i,a=r.get(t);if(null!=a)return a;e.cachePolicyForParams_UNSTABLE;var o=Vg(e,zg),u="default"in e?e.default:new Promise((function(){})),s=pT(vt(vt({},o),{},{key:"".concat(e.key,"__").concat(null!==(n=yE(t))&&void 0!==n?n:"void"),default:"function"===typeof u?u(t):u,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects:"function"===typeof e.effects?e.effects(t):"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):null!==(i=e.effects)&&void 0!==i?i:e.effects_UNSTABLE}));return r.set(t,s),ST(s.key,(function(){r.delete(t)})),s}},TT=Gk.setConfigDeletionHandler,IT=0;var CT=function(e){var t,n,r=xT({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return function(t){var n,i;try{i=r.get(t)}catch(f){throw Hg("Problem with cache lookup for selector ".concat(e.key,": ").concat(f.message))}if(null!=i)return i;var a,o="".concat(e.key,"__selectorFamily/").concat(null!==(n=yE(t,{allowFunctions:!0}))&&void 0!==n?n:"void","/").concat(IT++),u=function(n){return e.get(t)(n)},s=e.cachePolicy_UNSTABLE,l="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;if(null!=e.set){var c=e.set;a=GE({key:o,get:u,set:function(e,n){return c(t)(e,n)},cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l})}else a=GE({key:o,get:u,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:l});return r.set(t,a),TT(a.key,(function(){r.delete(t)})),a}},NT=CT({key:"__constant",get:function(e){return function(){return e}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var AT=function(e){return NT(e)},RT=CT({key:"__error",get:function(e){return function(){throw Hg(e)}},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var LT=function(e){return RT(e)};var DT=function(e){return e},OT=dk.loadableWithError,PT=dk.loadableWithPromise,MT=dk.loadableWithValue;function UT(e,t){var n,r=Array(t.length).fill(void 0),i=Array(t.length).fill(void 0),a=De(t.entries());try{for(a.s();!(n=a.n()).done;){var o=u(n.value,2),s=o[0],l=o[1];try{r[s]=e(l)}catch(c){i[s]=c}}}catch(f){a.e(f)}finally{a.f()}return[r,i]}function VT(e){return null!=e&&!Wg(e)}function jT(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((function(t){return e[t]}))}function FT(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce((function(e,n,r){return vt(vt({},e),{},Ue({},n,t[r]))}),{})}function zT(e,t,n){return FT(e,n.map((function(e,n){return null==e?MT(t[n]):Wg(e)?PT(e):OT(e)})))}var BT=CT({key:"__waitForNone",get:function(e){return function(t){var n=u(UT(t.get,jT(e)),2),r=n[0],i=n[1];return zT(e,r,i)}},dangerouslyAllowMutability:!0}),qT=CT({key:"__waitForAny",get:function(e){return function(t){var n=u(UT(t.get,jT(e)),2),r=n[0],i=n[1];return i.some((function(e){return!Wg(e)}))?zT(e,r,i):new Promise((function(t){var n,a=De(i.entries());try{var o=function(){var a=u(n.value,2),o=a[0],s=a[1];Wg(s)&&s.then((function(n){r[o]=n,i[o]=void 0,t(zT(e,r,i))})).catch((function(n){i[o]=n,t(zT(e,r,i))}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}}))}},dangerouslyAllowMutability:!0}),HT=CT({key:"__waitForAll",get:function(e){return function(t){var n=u(UT(t.get,jT(e)),2),r=n[0],i=n[1];if(i.every((function(e){return null==e})))return FT(e,r);var a=i.find(VT);if(null!=a)throw a;return Promise.all(i).then((function(t){return FT(e,(n=r,t.map((function(e,t){return void 0===e?n[t]:e}))));var n}))}},dangerouslyAllowMutability:!0}),WT=CT({key:"__waitForAllSettled",get:function(e){return function(t){var n=u(UT(t.get,jT(e)),2),r=n[0],i=n[1];return i.every((function(e){return!Wg(e)}))?zT(e,r,i):Promise.all(i.map((function(e,t){return Wg(e)?e.then((function(e){r[t]=e,i[t]=void 0})).catch((function(e){r[t]=void 0,i[t]=e})):null}))).then((function(){return zT(e,r,i)}))}},dangerouslyAllowMutability:!0}),KT={waitForNone:BT,waitForAny:qT,waitForAll:HT,waitForAllSettled:WT,noWait:CT({key:"__noWait",get:function(e){return function(t){var n=t.get;try{return GE.value(MT(n(e)))}catch(r){return GE.value(Wg(r)?PT(r):OT(r))}}},dangerouslyAllowMutability:!0})},GT=dk.RecoilLoadable,QT=Gk.DefaultValue,$T=Y_,YT=Z_,XT=Uk.isRecoilValue,JT=gb.retentionZone,ZT=d_.freshSnapshot,eI={DefaultValue:QT,isRecoilValue:XT,RecoilLoadable:GT,RecoilEnv:Ck,RecoilRoot:$T,useRecoilStoreID:YT,useRecoilBridgeAcrossReactRoots_UNSTABLE:kS,atom:pT,selector:GE,atomFamily:ET,selectorFamily:CT,constSelector:AT,errorSelector:LT,readOnlySelector:DT,noWait:KT.noWait,waitForNone:KT.waitForNone,waitForAny:KT.waitForAny,waitForAll:KT.waitForAll,waitForAllSettled:KT.waitForAllSettled,useRecoilValue:Fx,useRecoilValueLoadable:zx,useRecoilState:Vx,useRecoilStateLoadable:jx,useSetRecoilState:qx,useResetRecoilState:Bx,useGetRecoilValueInfo_UNSTABLE:pS,useRecoilRefresher_UNSTABLE:XS,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Hx,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Wx,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Kx,useRecoilCallback:GS,useRecoilTransaction_UNSTABLE:tE,useGotoRecoilSnapshot:cS,useRecoilSnapshot:sS,useRecoilTransactionObserver_UNSTABLE:fS,snapshot_UNSTABLE:ZT,useRetain:fx,retentionZone:JT},tI=eI.RecoilRoot,nI=eI.atom,rI=eI.useRecoilValue,iI=eI.useRecoilState,aI=eI.useSetRecoilState,oI=nI({key:"reorder",default:{isReorder:!1,reorderList:[],reorderFinalAmount:0,place:""}}),uI=(nI({key:"authInfo",default:{isAuthLoading:!0,isLogin:!1,uid:""}}),nI({key:"nonMemberInfo",default:{isNonMemberLogin:!1,nonMemberInfo:{name:"",password:""}}})),sI=nI({key:"orderInfo",default:{finalAmount:0,orderList:[{menu:"",style:"",amount:0,orderListId:0,quantity:0}]}});var lI,cI=function(e){var t=e.progress;return(0,Pg.jsx)("div",{className:"progressBar_Wrapper",children:function(e){switch(e){case 0:default:return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)("div",{className:"progressDot_Active"}),(0,Pg.jsx)("div",{className:"progressLine_InActive"}),(0,Pg.jsx)("div",{className:"progressDot_InActive"}),(0,Pg.jsx)("div",{className:"progressLine_InActive"}),(0,Pg.jsx)("div",{className:"progressDot_InActive"})]});case 1:return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)("div",{className:"progressDot_Active"}),(0,Pg.jsx)("div",{className:"progressLine_Active"}),(0,Pg.jsx)("div",{className:"progressDot_Active"}),(0,Pg.jsx)("div",{className:"progressLine_InActive"}),(0,Pg.jsx)("div",{className:"progressDot_InActive"})]});case 2:return(0,Pg.jsxs)(Pg.Fragment,{children:[(0,Pg.jsx)("div",{className:"progressDot_Active"}),(0,Pg.jsx)("div",{className:"progressLine_Active"}),(0,Pg.jsx)("div",{className:"progressDot_Active"}),(0,Pg.jsx)("div",{className:"progressLine_Active"}),(0,Pg.jsx)("div",{className:"progressDot_Active"})]})}}(t)})},fI=new Uint8Array(16);function hI(){if(!lI&&!(lI="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lI(fI)}var dI=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var pI=function(e){return"string"===typeof e&&dI.test(e)},vI=[],yI=0;yI<256;++yI)vI.push((yI+256).toString(16).substr(1));var mI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(vI[e[t+0]]+vI[e[t+1]]+vI[e[t+2]]+vI[e[t+3]]+"-"+vI[e[t+4]]+vI[e[t+5]]+"-"+vI[e[t+6]]+vI[e[t+7]]+"-"+vI[e[t+8]]+vI[e[t+9]]+"-"+vI[e[t+10]]+vI[e[t+11]]+vI[e[t+12]]+vI[e[t+13]]+vI[e[t+14]]+vI[e[t+15]]).toLowerCase();if(!pI(n))throw TypeError("Stringified UUID is invalid");return n};var gI=function(e,t,n){var r=(e=e||{}).random||(e.rng||hI)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return mI(r)};var kI=function(e){var n=e.setProgress,r=e.setOrderId,i=e.isLogin,a=e.uid,o=(0,t.useRef)(null),l=(0,t.useRef)(null),c=(0,t.useRef)(null),f=(0,t.useRef)(null),h=u(iI(sI),2),d=h[0],p=h[1],v=u((0,t.useState)(!1),2),y=v[0],m=v[1];(0,t.useEffect)((function(){var e=f.current;e.disabled=!y}),[y]);var g=(0,t.useRef)(0),k=function(){var e=Me(Oe().mark((function e(t){var u,s,c,f;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),0!==d.finalAmount){e.next=4;break}return alert("\uc8fc\ubb38\uc744 \uc9c4\ud589\ud574\uc8fc\uc138\uc694"),e.abrupt("return");case 4:if(u=gI(),r(u),s=d.orderList.filter((function(e){return e.orderListId>0})),!i){e.next=12;break}return e.next=10,Ng(Dm(Og,"Order",u),{oid:u,orderList:s,finalAmount:d.finalAmount,uid:a,nonMember:{}});case 10:e.next=16;break;case 12:return c=o.current.value,f=l.current.value,e.next=16,Ng(Dm(Og,"Order",u),{oid:u,orderList:s,finalAmount:d.finalAmount,uid:"",nonMember:{name:c,password:f}});case 16:n(1);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=rI(oI);return(0,t.useEffect)((function(){b.isReorder&&p((function(e){return vt(vt({},e),{},{finalAmount:b.reorderFinalAmount,orderList:b.reorderList})}))}),[]),(0,Pg.jsx)("div",{className:"w-full my-8 px-3",children:(0,Pg.jsxs)("form",{action:"submit",onSubmit:k,children:[(0,Pg.jsxs)("div",{className:"my-3 flex justify-between",children:[(0,Pg.jsx)("h3",{className:"text-lg font-bold",children:"\ub514\ub108 \uba54\ub274"}),(0,Pg.jsxs)("select",{ref:c,name:"menu",onChange:function(){m(!0)},className:"outline-none",children:[(0,Pg.jsx)("option",{value:"",children:"--\ub514\ub108 \uba54\ub274\ub97c \uc120\ud0dd\ud558\uc138\uc694--"}),(0,Pg.jsx)("option",{value:"valentine",children:"Valentine dinner ($100)"}),(0,Pg.jsx)("option",{value:"french",children:"French dinner ($130)"}),(0,Pg.jsx)("option",{value:"english",children:"English dinner ($130)"}),(0,Pg.jsx)("option",{value:"champagne",children:"Champagne Feast dinner ($250)"})]})]}),(0,Pg.jsxs)("div",{className:"my-3 flex justify-between",children:[(0,Pg.jsx)("h3",{className:"text-lg font-bold",children:"\ub514\ub108 \uc2a4\ud0c0\uc77c"}),(0,Pg.jsxs)("select",{ref:f,name:"style",onChange:function(){var e=c.current,t=f.current,n=function(e,t){var n=0;switch(e){case"valentine":n+=100;break;case"french":case"english":n+=130;break;case"champagne":n+=250;break;default:n+=0}switch(t){case"simple":n+=0;break;case"grand":n+=20;break;case"deluxe":n+=40}return n}(e.value,t.value),r=d.orderList.filter((function(n){return n.menu===e.value&&n.style===t.value}));if(0===r.length){g.current+=1;var i={menu:e.value,style:t.value,amount:n,orderListId:g.current,quantity:1};p((function(e){return vt(vt({},e),{},{finalAmount:e.finalAmount+n,orderList:[].concat(s(e.orderList),[i])})}))}else{var a=vt(vt({},r[0]),{},{quantity:parseInt(r[0].quantity)+1,amount:r[0].amount+n}),o=d.orderList.filter((function(e){return e.orderListId!==r[0].orderListId}));p((function(e){return vt(vt({},e),{},{finalAmount:e.finalAmount+n,orderList:[].concat(s(o),[a])})}))}m(!1),e.value="",t.value=""},className:"outline-none",disabled:!0,children:[(0,Pg.jsx)("option",{value:"",children:"--\ub514\ub108 \uc2a4\ud0c0\uc77c\uc744 \uc120\ud0dd\ud558\uc138\uc694--"}),(0,Pg.jsx)("option",{value:"simple",children:"Simple"}),(0,Pg.jsx)("option",{value:"grand",children:"Grand (+ $20)"}),(0,Pg.jsx)("option",{value:"deluxe",children:"Deluxe (+ $40)"})]})]}),!i&&(0,Pg.jsxs)("div",{className:"my-8",children:[(0,Pg.jsx)("h3",{className:"text-xl font-bold text-center",children:"\ube44\ud68c\uc6d0 \uc8fc\ubb38\uc744 \uc704\ud574 \uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),(0,Pg.jsxs)("div",{className:"mt-4 flex justify-end items-center",children:[(0,Pg.jsx)("input",{type:"text",placeholder:"\uc774\ub984",ref:o,className:"w-28 border-b-2 text-center outline-none",required:!0}),(0,Pg.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",ref:l,className:"ml-3 border-b-2 text-center outline-none",required:!0})]})]}),(0,Pg.jsx)("div",{className:"mt-8 text-right",children:(0,Pg.jsx)("button",{type:"submit",className:"font-bold p-3 px-5 rounded-full shadow-lg border",children:"\ub2e4\uc74c \ub2e8\uacc4"})})]})})};var bI=function(e){var n=e.setProgress,r=e.orderId,i=u((0,t.useState)({time:"",place:""}),2),a=i[0],o=i[1],s=function(e){var t=e.target.name;"time"===t?o((function(t){return vt(vt({},t),{},{time:e.target.value})})):"place"===t?o((function(t){return vt(vt({},t),{},{place:e.target.value})})):console.log("error")},l=function(){var e=Me(Oe().mark((function e(t){var i,o,u,s,l;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!=a.place&&""!=a.time){e.next=4;break}return alert("\uc815\ubcf4\ub97c \ubaa8\ub450 \uc785\ub825\ud558\uc138\uc694"),e.abrupt("return");case 4:return i=new Date,o=i.getFullYear(),u=i.getMonth()+1,s=i.getDate(),l=o+"/"+u+"/"+s+"/"+a.time,e.next=11,Ag(Dm(Og,"Order",r),{time:l,place:a.place,status:"\uc870\ub9ac\uc911"});case 11:n(2);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=(0,t.useRef)(null),f=rI(oI);return(0,t.useEffect)((function(){var e=c.current;f.isReorder&&(e.value=f.place,o((function(e){return vt(vt({},e),{},{place:f.place})})))}),[]),(0,Pg.jsx)("div",{className:"w-full my-8 px-3",children:(0,Pg.jsxs)("form",{onSubmit:l,children:[(0,Pg.jsxs)("div",{className:"my-3 flex justify-between",children:[(0,Pg.jsx)("h3",{className:"text-lg font-bold",children:"\ubc30\ub2ec \uc2dc\uac04"}),(0,Pg.jsx)("input",{onChange:s,name:"time",type:"time",placeholder:"\uc2dc\uac04"})]}),(0,Pg.jsxs)("div",{className:"my-3 flex justify-between",children:[(0,Pg.jsx)("h3",{className:"text-lg font-bold",children:"\ubc30\ub2ec \uc7a5\uc18c"}),(0,Pg.jsx)("input",{ref:c,onChange:s,name:"place",type:"text",placeholder:"\uc7a5\uc18c",className:"outline-none"})]}),(0,Pg.jsx)("div",{className:"mt-8 text-right",children:(0,Pg.jsx)("button",{type:"submit",className:"font-bold p-3 px-5 rounded-full shadow-lg border",children:"\ub2e4\uc74c \ub2e8\uacc4"})})]})})};var wI=function(){var e=he(),t=aI(sI);return(0,Pg.jsx)("div",{className:"w-full my-8 px-3",children:(0,Pg.jsxs)("form",{onSubmit:function(n){n.preventDefault(),t({finalAmount:0,orderList:[{menu:"",style:"",amount:0,orderListId:0,quantity:0}]}),alert("\uacb0\uc81c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc8fc\ubb38\uc774 \uc9c4\ud589\ub429\ub2c8\ub2e4."),e("/orderHistory")},children:[(0,Pg.jsxs)("div",{className:"my-3 flex justify-between items-center",children:[(0,Pg.jsx)("h3",{className:"text-lg font-bold",children:"\uce74\ub4dc\ubc88\ud638"}),(0,Pg.jsx)("input",{required:!0,type:"text",className:"h-8 w-20 ml-40 p-1 outline-none border rounded-md text-center",maxLength:"4"}),"-",(0,Pg.jsx)("input",{required:!0,type:"text",className:"h-8 w-20 p-1 outline-none border rounded-md text-center",maxLength:"4"}),"-",(0,Pg.jsx)("input",{required:!0,type:"text",className:"h-8 w-20 p-1 outline-none border rounded-md text-center",maxLength:"4"}),"-",(0,Pg.jsx)("input",{required:!0,type:"text",className:"h-8 w-20 p-1 outline-none border rounded-md text-center",maxLength:"4"})]}),(0,Pg.jsx)("div",{className:"mt-8 text-right",children:(0,Pg.jsx)("button",{type:"submit",className:"font-bold p-3 px-5 rounded-full shadow-lg border",children:"\uc8fc\ubb38 \uc644\ub8cc"})})]})})};function _I(e){switch(e){case 0:return"\ub514\ub108 \uc885\ub958\uc640 \uc2a4\ud0c0\uc77c \uc120\ud0dd";case 1:return"\ubc30\ub2ec \uc2dc\uac04\uacfc \uc7a5\uc18c \uc120\ud0dd";case 2:return"\uacb0\uc81c\ud558\uae30";default:return""}}function xI(e,t,n,r,i,a){switch(e){case 0:return(0,Pg.jsx)(kI,{setProgress:t,setOrderId:r,isLogin:i,uid:a});case 1:return(0,Pg.jsx)(bI,{setProgress:t,orderId:n});case 2:return(0,Pg.jsx)(wI,{});default:return(0,Pg.jsx)(kI,{setProgress:t,setOrderId:r})}}function SI(e){var t=e.order,n=e.orderInfo,r=e.setOrderInfo,i=e.progress;return(0,Pg.jsxs)("div",{className:"flex my-1",children:[(0,Pg.jsxs)("span",{children:["\uba54\ub274: ",t.menu]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uc2a4\ud0c0\uc77c: ",t.style]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uac00\uaca9: ",t.amount]}),(0,Pg.jsx)("span",{className:"ml-2",children:"\uc8fc\ubb38 \uc218\ub7c9: "}),(0,Pg.jsx)("input",{type:"number",min:"1",value:t.quantity,onChange:function(e){return function(e,t){var i=e.target.value,a=n.orderList.filter((function(e){return e.orderListId===t}))[0],o=a.amount/a.quantity,u=vt(vt({},a),{},{quantity:i,amount:o*i}),l=n.orderList.filter((function(e){return e.orderListId!==t}));r((function(e){return vt(vt({},e),{},{finalAmount:e.finalAmount-a.amount+o*i,orderList:[].concat(s(l),[u])})}))}(e,t.orderListId)},className:"text-center w-10 outline-none"}),0===i&&(0,Pg.jsx)("button",{onClick:function(){return function(e){var t=n.orderList.filter((function(t){return t.orderListId===e}))[0],i=n.orderList.filter((function(t){return t.orderListId!==e}));r((function(e){return vt(vt({},e),{},{finalAmount:e.finalAmount-t.amount,orderList:s(i)})}))}(t.orderListId)},className:"px-2 font-bold",children:"X"})]})}var EI=function(e){var n=e.isLogin,r=e.uid,i=u((0,t.useState)(0),2),a=i[0],o=i[1],s=u((0,t.useState)(""),2),l=s[0],c=s[1],f=u(iI(sI),2),h=f[0],d=f[1];return(0,Pg.jsxs)("div",{className:"h-2/3 w-2/3 mx-auto my-0 flex flex-col items-center justify-center",children:[(0,Pg.jsx)("div",{className:"my-5 p-3 text-2xl text-center font-bold",children:_I(a)}),(0,Pg.jsx)(cI,{progress:a}),xI(a,o,l,c,n,r),(0,Pg.jsx)("h2",{className:"font-bold text-lg mb-4",children:"\uc8fc\ubb38\uc11c"}),h.orderList.filter((function(e){return e.orderListId>0})).sort((function(e,t){return e.orderListId-t.orderListId})).map((function(e){return(0,Pg.jsx)(SI,{order:e,orderInfo:h,setOrderInfo:d,progress:a},e.orderListId)})),(0,Pg.jsxs)("div",{className:"text-lg font-bold mt-4",children:["\ucd5c\uc885 \uacb0\uc81c \uae08\uc561: $",h.finalAmount]})]})};function TI(e){var t=e.order,n=e.isLastOrder,r=he(),i=aI(oI);return(0,Pg.jsxs)("div",{className:"my-2 p-3 px-6 flex justify-between items-center shadow-lg rounded-lg",children:[(0,Pg.jsx)("div",{className:"flex flex-col justify-between",children:(0,Pg.jsx)("div",{className:"flex flex-col",children:t.orderList.map((function(e){return(0,Pg.jsxs)("div",{children:[(0,Pg.jsxs)("span",{children:["\uba54\ub274: ",e.menu]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uc2a4\ud0c0\uc77c: ",e.style]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uac00\uaca9: ",e.amount]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uc8fc\ubb38 \uc218\ub7c9: ",e.quantity]})]},e.orderListId)}))})}),(0,Pg.jsxs)("div",{className:"flex flex-col w-32",children:[(0,Pg.jsxs)("span",{className:"mr-4",children:["total: $",t.finalAmount]}),(0,Pg.jsxs)("span",{className:"mr-4",children:["\uc7a5\uc18c: ",t.place]})]}),(0,Pg.jsxs)("span",{className:"mr-4",children:["\uc8fc\ubb38\uc0c1\ud0dc: ",t.status]}),n&&(0,Pg.jsx)("button",{className:"shadow-md rounded-md border p-2",onClick:function(){confirm("\uc8fc\ubb38 \uc7a5\uc18c: ".concat(t.place," (\uc73c)\ub85c \uc8fc\ubb38\uc744 \uc9c4\ud589\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))&&(i((function(e){return vt(vt({},e),{},{isReorder:!0,reorderList:t.orderList,reorderFinalAmount:t.finalAmount,place:t.place})})),r("/order"))},children:"\uc774\ub300\ub85c \uc8fc\ubb38\ud558\uae30"})]})}function II(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=aI(uI),i=function(){var t=Me(Oe().mark((function t(i){var a,o,u;return Oe().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),a=e.current.value,o=n.current.value,t.next=5,Cg(kg(Lm(Og,"Order"),wg("nonMember","==",{name:a,password:o}),wg("status","!=","\ubc30\ub2ec\uc644\ub8cc")));case 5:u=t.sent,console.log(u.empty),u.empty?alert("\uc8fc\ubb38 \uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."):r((function(e){return vt(vt({},e),{},{isNonMemberLogin:!0,nonMemberInfo:{name:a,password:o}})}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return(0,Pg.jsx)("div",{className:"mt-16",children:(0,Pg.jsxs)("form",{onSubmit:i,className:"h-full flex flex-col justify-between items-center",children:[(0,Pg.jsx)("h3",{className:"text-xl font-bold",children:"\uc8fc\ubb38\uc2dc \uc81c\ucd9c\ud55c \uc774\ub984\uacfc \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"}),(0,Pg.jsxs)("div",{className:"flex mt-8",children:[(0,Pg.jsx)("input",{className:"w-28 border-b-2 text-center outline-none p-1",type:"text",ref:e,placeholder:"\uc774\ub984",required:!0}),(0,Pg.jsx)("input",{className:"ml-3 w-40 border-b-2 text-center outline-none p-1",type:"password",ref:n,placeholder:"\ube44\ubc00\ubc88\ud638",required:!0}),(0,Pg.jsx)("button",{type:"submit",className:"ml-3 w-16 font-bold p-1 rounded-full shadow-md",children:"\uc81c\ucd9c"})]})]})})}var CI=function(e){var n=e.isLogin,r=e.uid,i={nonMember:{},oid:"",place:"",status:"",orderList:[{style:"",menu:""}],finalAmount:0,time:"",uid:""},a=u((0,t.useState)([i]),2),o=a[0],s=a[1],l=u((0,t.useState)([i]),2),c=l[0],f=l[1],h=u((0,t.useState)(!1),2),d=h[0],p=h[1],v=rI(uI),y=function(){var e=Me(Oe().mark((function e(){var t,i,a,o,u,l;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(!1),!n){e.next=15;break}return e.next=4,Cg(kg(Lm(Og,"Order"),wg("uid","==",r),wg("status","!=","\ubc30\ub2ec\uc644\ub8cc")));case 4:return t=e.sent,i=t.docs.map((function(e){return e.data()})),s(i),e.next=9,Cg(kg(Lm(Og,"Order"),wg("uid","==",r),wg("status","==","\ubc30\ub2ec\uc644\ub8cc")));case 9:a=e.sent,o=a.docs.map((function(e){return e.data()})),f(o),p(!0),e.next=21;break;case 15:return e.next=17,Cg(kg(Lm(Og,"Order"),wg("nonMember","==",v.nonMemberInfo),wg("status","!=","\ubc30\ub2ec\uc644\ub8cc")));case 17:u=e.sent,l=u.docs.map((function(e){return e.data()})),s(l),p(!0);case 21:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,t.useEffect)((function(){setTimeout((function(){y()}),1500)}),[n,v]);var m=he(),g=function(){var e=Me(Oe().mark((function e(){return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ci(Dg);case 2:m("/"),location.reload();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,Pg.jsxs)("div",{children:[(0,Pg.jsxs)("div",{className:"flex h-32 items-center justify-center relative",children:[(0,Pg.jsx)("h2",{children:(0,Pg.jsx)(Ae,{className:"p-5 shadow-md text-2xl font-bold rounded-full",to:"../order",children:"\uc74c\uc2dd \uc8fc\ubb38\ud558\uae30"})}),n&&(0,Pg.jsx)("button",{className:"absolute top-0 right-0",onClick:g,children:"Logout"})]}),n||v.isNonMemberLogin?(0,Pg.jsxs)("div",{className:"mt-8",children:[n&&(0,Pg.jsxs)("div",{children:[n&&(0,Pg.jsx)("h2",{className:"py-2 text-2xl font-bold",children:"\uacfc\uac70 \uc8fc\ubb38\ubaa9\ub85d"}),d?c.map((function(e){return(0,Pg.jsx)(TI,{order:e,isLastOrder:!0},e.oid)})):(0,Pg.jsx)("span",{children:"\uc8fc\ubb38 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]}),(0,Pg.jsxs)("div",{className:"mt-8 pb-10",children:[(0,Pg.jsxs)("div",{className:"flex justify-between",children:[(0,Pg.jsx)("h2",{className:"py-2 text-2xl font-bold",children:"\uc8fc\ubb38\ubaa9\ub85d"}),!(n||v.isNonMemberLogin)&&(0,Pg.jsx)("button",{onClick:function(){return location.reload()},className:"px-4 text-md font-bold shadow-md rounded-full",children:"\ube44\ud68c\uc6d0 \uc8fc\ubb38 \uc7ac\uac80\uc0c9"})]}),d?o.map((function(e){return(0,Pg.jsx)(TI,{order:e,isLastOrder:!1},e.oid)})):(0,Pg.jsx)("span",{children:"\uc8fc\ubb38 \ubaa9\ub85d\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})]})]}):(0,Pg.jsx)(II,{})]})};var NI=function(){var e=(0,t.useRef)(null),n=(0,t.useRef)(null),r=(0,t.useRef)(null),i=(0,t.useRef)(null),a=he();return(0,Pg.jsx)("div",{className:"w-full h-full flex justify-center items-center",children:(0,Pg.jsx)("div",{className:"h-96 w-1/2 bg-gray-100 py-14 rounded-md",children:(0,Pg.jsxs)("form",{onSubmit:function(t){t.preventDefault();var o=e.current.value,u=n.current.value,s=r.current.value,l=i.current.value;""!==o&&""!==u&&""!==s&&""!==l?function(e,t,n){return Ti.apply(this,arguments)}(Dg,o,u).then(function(){var e=Me(Oe().mark((function e(t){var n;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user.uid,e.next=3,Ng(Dm(Og,"User",n),{uid:n,email:o,name:s,address:l});case 3:alert("\ud68c\uc6d0\uac00\uc785 \ub418\uc5c8\uc2b5\ub2c8\ub2e4"),a("/orderHistory");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.code,",",e.message)})):alert("\ud68c\uc6d0\uac00\uc785 \uc815\ubcf4\ub97c \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694")},className:"h-full flex flex-col justify-between items-center",children:[(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",ref:e,type:"email",placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694"}),(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",ref:n,type:"password",placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694"}),(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",ref:r,type:"text",placeholder:"\uc774\ub984"}),(0,Pg.jsx)("input",{className:"w-2/3 outline-none p-2",ref:i,type:"text",placeholder:"\uc8fc\uc18c"}),(0,Pg.jsx)("button",{type:"submit",className:"w-32 p-2 rounded-md shadow border bg-white",children:"\ud68c\uc6d0\uac00\uc785\ud558\uae30"})]})})})};var AI=function(){return(0,Pg.jsxs)("div",{className:"w-full flex flex-col items-center mt-10",children:[(0,Pg.jsxs)("div",{className:"my-8 w-1/2",children:[(0,Pg.jsx)("h1",{className:"text-xl font-bold text-center p-4 border-b-2",children:"\uc220"}),(0,Pg.jsxs)("div",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center font-bold border-r-2",children:"\ud488\uba85"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center font-bold",children:"\uc218\ub7c9"})]}),(0,Pg.jsxs)("div",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center border-r-2",children:"\uc640\uc778"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center",children:"2"})]})]}),(0,Pg.jsxs)("div",{className:"my-8 w-1/2",children:[(0,Pg.jsx)("h1",{className:"text-xl font-bold text-center p-4 border-b-2",children:"\uc7ac\ub8cc"}),(0,Pg.jsxs)("div",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center font-bold border-r-2",children:"\ud488\uba85"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center font-bold",children:"\uc218\ub7c9"})]}),(0,Pg.jsxs)("ul",{children:[(0,Pg.jsxs)("li",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center border-r-2",children:"\ucee4\ud53c"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center",children:"2"})]}),(0,Pg.jsxs)("li",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center border-r-2",children:"\uacc4\ub780"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center",children:"2"})]}),(0,Pg.jsxs)("li",{className:"flex w-full justify-between my-3",children:[(0,Pg.jsx)("span",{className:"w-1/3 text-center border-r-2",children:"\ubca0\uc774\ucee8"}),(0,Pg.jsx)("span",{className:"w-2/3 text-center",children:"2"})]})]})]})]})};function RI(e){var t=e.order,n=e.isComplete,r=e.setIsUpdateComplete,i=function(){var e=Me(Oe().mark((function e(n){var i;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.target.value,e.next=3,Ag(Dm(Og,"Order",t.oid),{status:i});case 3:r((function(e){return!e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Pg.jsxs)("div",{className:"my-2 p-3 px-6 flex justify-between items-center shadow-lg rounded-lg",children:[(0,Pg.jsx)("div",{className:"flex flex-col justify-between",children:(0,Pg.jsx)("div",{className:"flex flex-col",children:t.orderList.map((function(e){return(0,Pg.jsxs)("div",{children:[(0,Pg.jsxs)("span",{children:["\uba54\ub274: ",e.menu]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uc2a4\ud0c0\uc77c: ",e.style]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uac00\uaca9: ",e.amount]}),(0,Pg.jsxs)("span",{className:"ml-2",children:["\uc8fc\ubb38 \uc218\ub7c9: ",e.quantity]})]},e.orderListId)}))})}),(0,Pg.jsxs)("div",{className:"flex flex-col w-32",children:[(0,Pg.jsxs)("span",{className:"mr-4",children:["total: $",t.finalAmount]}),(0,Pg.jsxs)("span",{className:"mr-4",children:["\uc7a5\uc18c: ",t.place]})]}),(0,Pg.jsxs)("div",{children:[(0,Pg.jsx)("span",{children:"\uc8fc\ubb38\uc0c1\ud0dc: "}),n?(0,Pg.jsx)("span",{className:"ml-1",children:t.status}):(0,Pg.jsxs)("select",{value:t.status,onChange:i,className:"outline-none",children:[(0,Pg.jsx)("option",{value:"\uc870\ub9ac\uc911",children:"\uc870\ub9ac\uc911"}),(0,Pg.jsx)("option",{value:"\uc870\ub9ac\uc644\ub8cc",children:"\uc870\ub9ac\uc644\ub8cc"}),(0,Pg.jsx)("option",{value:"\ubc30\ub2ec\uc911",children:"\ubc30\ub2ec\uc911"}),(0,Pg.jsx)("option",{value:"\ubc30\ub2ec\uc644\ub8cc",children:"\ubc30\ub2ec\uc644\ub8cc"})]})]})]})}var LI=function(){var e={nonMember:{},oid:"",place:"",status:"",orderList:[{style:"",menu:""}],finalAmount:0,time:"",uid:""},n=u((0,t.useState)([e]),2),r=n[0],i=n[1],a=u((0,t.useState)([e]),2),o=a[0],s=a[1],l=u((0,t.useState)(!1),2),c=l[0],f=l[1],h=u((0,t.useState)(!1),2),d=h[0],p=h[1],v=function(){var e=Me(Oe().mark((function e(){var t,n,r,a;return Oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.next=3,Cg(kg(Lm(Og,"Order"),wg("status","!=","\ubc30\ub2ec\uc644\ub8cc")));case 3:return t=e.sent,n=t.docs.map((function(e){return e.data()})),i(n),e.next=8,Cg(kg(Lm(Og,"Order"),wg("status","==","\ubc30\ub2ec\uc644\ub8cc")));case 8:r=e.sent,a=r.docs.map((function(e){return e.data()})),s(a),f(!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,t.useEffect)((function(){v()}),[d]),(0,Pg.jsxs)("div",{children:[(0,Pg.jsxs)("div",{className:"my-8",children:[(0,Pg.jsx)("h1",{className:"font-bold text-2xl",children:"\uc9c4\ud589\uc911\uc778 \uc8fc\ubb38"}),c&&r.map((function(e){return(0,Pg.jsx)(RI,{order:e,isComplete:!1,setIsUpdateComplete:p},e.oid)}))]}),(0,Pg.jsxs)("div",{className:"my-8",children:[(0,Pg.jsx)("h1",{className:"font-bold text-2xl",children:"\uc644\ub8cc\ub41c \uc8fc\ubb38"}),c&&o.map((function(e){return(0,Pg.jsx)(RI,{order:e,isComplete:!0,setIsUpdateComplete:p},e.oid)}))]})]})};var DI=function(){var e=u((0,t.useState)("stocklist"),2),n=e[0],r=e[1];return(0,Pg.jsxs)("div",{className:"",children:[(0,Pg.jsxs)("div",{className:"flex w-full h-20 items-center justify-center",children:[(0,Pg.jsx)("button",{to:"./stocklist",className:"h-full w-1/2 mt-1 text-xl font-bold border-r-2",onClick:function(){return r("stocklist")},children:"\uc7ac\uace0\uad00\ub9ac"}),(0,Pg.jsx)("button",{to:"./orderlist",className:"h-full w-1/2 mt-1 text-xl font-bold",onClick:function(){return r("orderlist")},children:"\uc8fc\ubb38\ub0b4\uc5ed\uad00\ub9ac"})]}),"stocklist"===n?(0,Pg.jsx)(AI,{}):(0,Pg.jsx)(LI,{})]})},OI=function(){var e=u((0,t.useState)(!1),2),n=e[0],r=e[1],i=u((0,t.useState)(""),2),a=i[0],o=i[1];return function(e,t,n,r){tt(e).onAuthStateChanged(t,n,r)}(Dg,(function(e){e?(o(e.uid),r(!0)):r(!1)})),(0,Pg.jsx)(Ne,{children:(0,Pg.jsxs)(xe,{children:[(0,Pg.jsx)(we,{path:"/",element:(0,Pg.jsx)(Mg,{isLogin:n})}),(0,Pg.jsx)(we,{path:"/auth",element:(0,Pg.jsx)(Ug,{isLogin:n,isEmployee:!1})}),(0,Pg.jsx)(we,{path:"/auth/employee",element:(0,Pg.jsx)(Ug,{isLogin:n,isEmployee:!0})}),(0,Pg.jsx)(we,{path:"/register",element:(0,Pg.jsx)(NI,{})}),(0,Pg.jsx)(we,{path:"/order",element:(0,Pg.jsx)(EI,{isLogin:n,uid:a})}),(0,Pg.jsx)(we,{path:"/orderHistory",element:(0,Pg.jsx)(CI,{isLogin:n,uid:a})}),(0,Pg.jsx)(we,{path:"/management",element:(0,Pg.jsx)(DI,{})})]})})};var PI=function(e){var t=e.children;return(0,Pg.jsx)("div",{className:"h-screen w-8/12 mx-auto my-0",children:t})};i.createRoot(document.getElementById("root")).render((0,Pg.jsx)(tI,{children:(0,Pg.jsx)(PI,{children:(0,Pg.jsx)(OI,{})})}))}()}();
//# sourceMappingURL=main.23911548.js.map